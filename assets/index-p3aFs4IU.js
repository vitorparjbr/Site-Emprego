(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function Fv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Bd={exports:{}},Al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function Z1(){if(W0)return Al;W0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:u}}return Al.Fragment=e,Al.jsx=n,Al.jsxs=n,Al}var e_;function W1(){return e_||(e_=1,Bd.exports=Z1()),Bd.exports}var p=W1(),Hd={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function eS(){if(t_)return Ae;t_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),R=Symbol.iterator;function q(k){return k===null||typeof k!="object"?null:(k=R&&k[R]||k["@@iterator"],typeof k=="function"?k:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,Q={};function W(k,Y,oe){this.props=k,this.context=Y,this.refs=Q,this.updater=oe||Z}W.prototype.isReactComponent={},W.prototype.setState=function(k,Y){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Y,"setState")},W.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ne(){}ne.prototype=W.prototype;function te(k,Y,oe){this.props=k,this.context=Y,this.refs=Q,this.updater=oe||Z}var ce=te.prototype=new ne;ce.constructor=te,ee(ce,W.prototype),ce.isPureReactComponent=!0;var fe=Array.isArray;function _e(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(k,Y,oe){var ue=oe.ref;return{$$typeof:r,type:k,key:Y,ref:ue!==void 0?ue:null,props:oe}}function M(k,Y){return C(k.type,Y,k.props)}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function V(k){var Y={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(oe){return Y[oe]})}var w=/\/+/g;function ae(k,Y){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):Y.toString(36)}function Ce(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(_e,_e):(k.status="pending",k.then(function(Y){k.status==="pending"&&(k.status="fulfilled",k.value=Y)},function(Y){k.status==="pending"&&(k.status="rejected",k.reason=Y)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function F(k,Y,oe,ue,Te){var xe=typeof k;(xe==="undefined"||xe==="boolean")&&(k=null);var Me=!1;if(k===null)Me=!0;else switch(xe){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(k.$$typeof){case r:case e:Me=!0;break;case T:return Me=k._init,F(Me(k._payload),Y,oe,ue,Te)}}if(Me)return Te=Te(k),Me=ue===""?"."+ae(k,0):ue,fe(Te)?(oe="",Me!=null&&(oe=Me.replace(w,"$&/")+"/"),F(Te,Y,oe,"",function(si){return si})):Te!=null&&(D(Te)&&(Te=M(Te,oe+(Te.key==null||k&&k.key===Te.key?"":(""+Te.key).replace(w,"$&/")+"/")+Me)),Y.push(Te)),1;Me=0;var dt=ue===""?".":ue+":";if(fe(k))for(var Ke=0;Ke<k.length;Ke++)ue=k[Ke],xe=dt+ae(ue,Ke),Me+=F(ue,Y,oe,xe,Te);else if(Ke=q(k),typeof Ke=="function")for(k=Ke.call(k),Ke=0;!(ue=k.next()).done;)ue=ue.value,xe=dt+ae(ue,Ke++),Me+=F(ue,Y,oe,xe,Te);else if(xe==="object"){if(typeof k.then=="function")return F(Ce(k),Y,oe,ue,Te);throw Y=String(k),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Me}function se(k,Y,oe){if(k==null)return k;var ue=[],Te=0;return F(k,ue,"","",function(xe){return Y.call(oe,xe,Te++)}),ue}function ge(k){if(k._status===-1){var Y=k._result;Y=Y(),Y.then(function(oe){(k._status===0||k._status===-1)&&(k._status=1,k._result=oe)},function(oe){(k._status===0||k._status===-1)&&(k._status=2,k._result=oe)}),k._status===-1&&(k._status=0,k._result=Y)}if(k._status===1)return k._result.default;throw k._result}var De=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ze={map:se,forEach:function(k,Y,oe){se(k,function(){Y.apply(this,arguments)},oe)},count:function(k){var Y=0;return se(k,function(){Y++}),Y},toArray:function(k){return se(k,function(Y){return Y})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ae.Activity=A,Ae.Children=ze,Ae.Component=W,Ae.Fragment=n,Ae.Profiler=l,Ae.PureComponent=te,Ae.StrictMode=s,Ae.Suspense=_,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(k){return I.H.useMemoCache(k)}},Ae.cache=function(k){return function(){return k.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(k,Y,oe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ue=ee({},k.props),Te=k.key;if(Y!=null)for(xe in Y.key!==void 0&&(Te=""+Y.key),Y)!x.call(Y,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Y.ref===void 0||(ue[xe]=Y[xe]);var xe=arguments.length-2;if(xe===1)ue.children=oe;else if(1<xe){for(var Me=Array(xe),dt=0;dt<xe;dt++)Me[dt]=arguments[dt+2];ue.children=Me}return C(k.type,Te,ue)},Ae.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ae.createElement=function(k,Y,oe){var ue,Te={},xe=null;if(Y!=null)for(ue in Y.key!==void 0&&(xe=""+Y.key),Y)x.call(Y,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Te[ue]=Y[ue]);var Me=arguments.length-2;if(Me===1)Te.children=oe;else if(1<Me){for(var dt=Array(Me),Ke=0;Ke<Me;Ke++)dt[Ke]=arguments[Ke+2];Te.children=dt}if(k&&k.defaultProps)for(ue in Me=k.defaultProps,Me)Te[ue]===void 0&&(Te[ue]=Me[ue]);return C(k,xe,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(k){return{$$typeof:g,render:k}},Ae.isValidElement=D,Ae.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:ge}},Ae.memo=function(k,Y){return{$$typeof:y,type:k,compare:Y===void 0?null:Y}},Ae.startTransition=function(k){var Y=I.T,oe={};I.T=oe;try{var ue=k(),Te=I.S;Te!==null&&Te(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(_e,De)}catch(xe){De(xe)}finally{Y!==null&&oe.types!==null&&(Y.types=oe.types),I.T=Y}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(k){return I.H.use(k)},Ae.useActionState=function(k,Y,oe){return I.H.useActionState(k,Y,oe)},Ae.useCallback=function(k,Y){return I.H.useCallback(k,Y)},Ae.useContext=function(k){return I.H.useContext(k)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(k,Y){return I.H.useDeferredValue(k,Y)},Ae.useEffect=function(k,Y){return I.H.useEffect(k,Y)},Ae.useEffectEvent=function(k){return I.H.useEffectEvent(k)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(k,Y,oe){return I.H.useImperativeHandle(k,Y,oe)},Ae.useInsertionEffect=function(k,Y){return I.H.useInsertionEffect(k,Y)},Ae.useLayoutEffect=function(k,Y){return I.H.useLayoutEffect(k,Y)},Ae.useMemo=function(k,Y){return I.H.useMemo(k,Y)},Ae.useOptimistic=function(k,Y){return I.H.useOptimistic(k,Y)},Ae.useReducer=function(k,Y,oe){return I.H.useReducer(k,Y,oe)},Ae.useRef=function(k){return I.H.useRef(k)},Ae.useState=function(k){return I.H.useState(k)},Ae.useSyncExternalStore=function(k,Y,oe){return I.H.useSyncExternalStore(k,Y,oe)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.0",Ae}var n_;function km(){return n_||(n_=1,Hd.exports=eS()),Hd.exports}var ie=km();const Gv=Fv(ie);var Fd={exports:{}},wl={},Gd={exports:{}},Qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function tS(){return i_||(i_=1,(function(r){function e(F,se){var ge=F.length;F.push(se);e:for(;0<ge;){var De=ge-1>>>1,ze=F[De];if(0<l(ze,se))F[De]=se,F[ge]=ze,ge=De;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var se=F[0],ge=F.pop();if(ge!==se){F[0]=ge;e:for(var De=0,ze=F.length,k=ze>>>1;De<k;){var Y=2*(De+1)-1,oe=F[Y],ue=Y+1,Te=F[ue];if(0>l(oe,ge))ue<ze&&0>l(Te,oe)?(F[De]=Te,F[ue]=ge,De=ue):(F[De]=oe,F[Y]=ge,De=Y);else if(ue<ze&&0>l(Te,ge))F[De]=Te,F[ue]=ge,De=ue;else break e}}return se}function l(F,se){var ge=F.sortIndex-se.sortIndex;return ge!==0?ge:F.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var _=[],y=[],T=1,A=null,R=3,q=!1,Z=!1,ee=!1,Q=!1,W=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ce(F){for(var se=n(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=F)s(y),se.sortIndex=se.expirationTime,e(_,se);else break;se=n(y)}}function fe(F){if(ee=!1,ce(F),!Z)if(n(_)!==null)Z=!0,_e||(_e=!0,V());else{var se=n(y);se!==null&&Ce(fe,se.startTime-F)}}var _e=!1,I=-1,x=5,C=-1;function M(){return Q?!0:!(r.unstable_now()-C<x)}function D(){if(Q=!1,_e){var F=r.unstable_now();C=F;var se=!0;try{e:{Z=!1,ee&&(ee=!1,ne(I),I=-1),q=!0;var ge=R;try{t:{for(ce(F),A=n(_);A!==null&&!(A.expirationTime>F&&M());){var De=A.callback;if(typeof De=="function"){A.callback=null,R=A.priorityLevel;var ze=De(A.expirationTime<=F);if(F=r.unstable_now(),typeof ze=="function"){A.callback=ze,ce(F),se=!0;break t}A===n(_)&&s(_),ce(F)}else s(_);A=n(_)}if(A!==null)se=!0;else{var k=n(y);k!==null&&Ce(fe,k.startTime-F),se=!1}}break e}finally{A=null,R=ge,q=!1}se=void 0}}finally{se?V():_e=!1}}}var V;if(typeof te=="function")V=function(){te(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ae=w.port2;w.port1.onmessage=D,V=function(){ae.postMessage(null)}}else V=function(){W(D,0)};function Ce(F,se){I=W(function(){F(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(F){switch(R){case 1:case 2:case 3:var se=3;break;default:se=R}var ge=R;R=se;try{return F()}finally{R=ge}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(F,se){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ge=R;R=F;try{return se()}finally{R=ge}},r.unstable_scheduleCallback=function(F,se,ge){var De=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?De+ge:De):ge=De,F){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=ge+ze,F={id:T++,callback:se,priorityLevel:F,startTime:ge,expirationTime:ze,sortIndex:-1},ge>De?(F.sortIndex=ge,e(y,F),n(_)===null&&F===n(y)&&(ee?(ne(I),I=-1):ee=!0,Ce(fe,ge-De))):(F.sortIndex=ze,e(_,F),Z||q||(Z=!0,_e||(_e=!0,V()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var se=R;return function(){var ge=R;R=se;try{return F.apply(this,arguments)}finally{R=ge}}}})(Qd)),Qd}var r_;function nS(){return r_||(r_=1,Gd.exports=tS()),Gd.exports}var Kd={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function iS(){if(s_)return Xt;s_=1;var r=km();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(_,y,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(_,y,null,T)},Xt.flushSync=function(_){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,_)return _()}finally{f.T=y,s.p=T,s.d.f()}},Xt.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(_,y))},Xt.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Xt.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,A=g(T,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:q}):T==="script"&&s.d.X(_,{crossOrigin:A,integrity:R,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);s.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(_)},Xt.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,A=g(T,y.crossOrigin);s.d.L(_,T,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=g(y.as,y.crossOrigin);s.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(_)},Xt.requestFormReset=function(_){s.d.r(_)},Xt.unstable_batchedUpdates=function(_,y){return _(y)},Xt.useFormState=function(_,y,T){return f.H.useFormState(_,y,T)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var a_;function rS(){if(a_)return Kd.exports;a_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Kd.exports=iS(),Kd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function sS(){if(o_)return wl;o_=1;var r=nS(),e=km(),n=rS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function _(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return _(h),t;if(d===o)return _(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,o=d;break}if(b===o){v=!0,o=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,o=h;break}if(b===o){v=!0,o=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,R=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),te=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function ae(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case W:return"Profiler";case Q:return"StrictMode";case fe:return"Suspense";case _e:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case te:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case ce:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:ae(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return ae(t(i))}catch{}}return null}var Ce=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},De=[],ze=-1;function k(t){return{current:t}}function Y(t){0>ze||(t.current=De[ze],De[ze]=null,ze--)}function oe(t,i){ze++,De[ze]=t.current,t.current=i}var ue=k(null),Te=k(null),xe=k(null),Me=k(null);function dt(t,i){switch(oe(xe,i),oe(Te,t),oe(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?T0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=T0(i),t=S0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ue),oe(ue,t)}function Ke(){Y(ue),Y(Te),Y(xe)}function si(t){t.memoizedState!==null&&oe(Me,t);var i=ue.current,a=S0(i,t.type);i!==a&&(oe(Te,t),oe(ue,a))}function ia(t){Te.current===t&&(Y(ue),Y(Te)),Me.current===t&&(Y(Me),El._currentValue=ge)}var ra,sa;function ai(t){if(ra===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ra=i&&i[1]||"",sa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ra+t+sa}var Eo=!1;function ms(t,i){if(!t||Eo)return"";Eo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var z=H}Reflect.construct(t,[],J)}else{try{J.call()}catch(H){z=H}t.call(J.prototype)}}else{try{throw Error()}catch(H){z=H}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var N=v.split(`
`),U=b.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===U.length)for(o=N.length-1,h=U.length-1;1<=o&&0<=h&&N[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==U[h]){var G=`
`+N[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{Eo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ai(a):""}function bo(t,i){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return t.child!==i&&i!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return ms(t.type,!1);case 11:return ms(t.type.render,!1);case 1:return ms(t.type,!0);case 31:return ai("Activity");default:return""}}function To(t){try{var i="",a=null;do i+=bo(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Et=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,dr=r.unstable_cancelCallback,Hh=r.unstable_shouldYield,lu=r.unstable_requestPaint,en=r.unstable_now,gs=r.unstable_getCurrentPriorityLevel,So=r.unstable_ImmediatePriority,Ao=r.unstable_UserBlockingPriority,mr=r.unstable_NormalPriority,Fh=r.unstable_LowPriority,uu=r.unstable_IdlePriority,cu=r.log,hu=r.unstable_setDisableYieldValue,Hn=null,zt=null;function xn(t){if(typeof cu=="function"&&hu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Hn,t)}catch{}}var mt=Math.clz32?Math.clz32:du,fu=Math.log,aa=Math.LN2;function du(t){return t>>>=0,t===0?32:31-(fu(t)/aa|0)|0}var oi=256,ps=262144,bt=4194304;function li(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ui(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~d,o!==0?h=li(o):(v&=b,v!==0?h=li(v):a||(a=b&~t,a!==0&&(h=li(a))))):(b=o&~d,b!==0?h=li(b):v!==0?h=li(v):a||(a=o&~t,a!==0&&(h=li(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Fn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Gh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mu(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function ci(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ys(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qh(t,i,a,o,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,U=t.hiddenUpdates;for(a=v&~a;0<a;){var G=31-mt(a),J=1<<G;b[G]=0,N[G]=-1;var z=U[G];if(z!==null)for(U[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}a&=~J}o!==0&&_s(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function _s(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-mt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function wo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-mt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function xo(t,i){var a=i&-i;return a=(a&42)!==0?1:vs(a),(a&(t.suspendedLanes|i))!==0?0:a}function vs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Q0(t.type))}function Gn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Qn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Qn,jt="__reactProps$"+Qn,hi="__reactContainer$"+Qn,oa="__reactEvents$"+Qn,Kh="__reactListeners$"+Qn,pu="__reactHandles$"+Qn,yu="__reactResources$"+Qn,fi="__reactMarker$"+Qn;function la(t){delete t[Tt],delete t[jt],delete t[oa],delete t[Kh],delete t[pu]}function di(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[hi]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=N0(t);t!==null;){if(a=t[Tt])return a;t=N0(t)}return i}t=a,a=t.parentNode}return null}function Cn(t){if(t=t[Tt]||t[hi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function mi(t){var i=t[yu];return i||(i=t[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[fi]=!0}var Co=new Set,Ro={};function gi(t,i){pi(t,i),pi(t+"Capture",i)}function pi(t,i){for(Ro[t]=i,t=0;t<i.length;t++)Co.add(i[t])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Do={};function _u(t){return Et.call(Do,t)?!0:Et.call(No,t)?!1:Io.test(t)?Do[t]=!0:(No[t]=!0,!1)}function ua(t,i,a){if(_u(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Oo(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=gr(t)?"checked":"value";t._valueTracker=Oo(t,i,""+t[i])}}function Es(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=gr(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function yi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var bs=/[\n"\\]/g;function an(t){return t.replace(bs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ca(t,i,a,o,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?ko(t,v,Pt(i)):a!=null?ko(t,v,Pt(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Pt(b):t.removeAttribute("name")}function vu(t,i,a,o,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Xe(t)}function ko(t,i,a){i==="number"&&yi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function pr(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Eu(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function yr(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(Ce(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Xe(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mo(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||bu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Vo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Mo(t,h,o)}else for(var d in i)i.hasOwnProperty(d)&&Mo(t,d,i[d])}function ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_r=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(t){return _r.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var jo=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vr=null,_i=null;function Ts(t){var i=Cn(t);if(i&&(t=i.stateNode)){var a=t[jt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[jt]||null;if(!h)throw Error(s(90));ca(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Es(o)}break e;case"textarea":Eu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&pr(t,!!a.multiple,i,!1)}}}var da=!1;function Er(t,i,a){if(da)return t(i,a);da=!0;try{var o=t(i);return o}finally{if(da=!1,(vr!==null||_i!==null)&&(gc(),vr&&(i=vr,t=_i,_i=vr=null,Ts(i),t)))for(i=0;i<t.length;i++)Ts(t[i])}}function Yn(t,i){var a=t.stateNode;if(a===null)return null;var o=a[jt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ss=!1;if(In)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Ss=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Ss=!1}var vi=null,Po=null,As=null;function Lo(){if(As)return As;var t,i=Po,a=i.length,o,h="value"in vi?vi.value:vi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return As=h.slice(t,1<o?1-o:void 0)}function ws(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Pi(){return!0}function Xn(){return!1}function qt(t){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Pi:Xn,this.isPropagationStopped=Xn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),i}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=qt(Li),br=A({},Li,{view:0,detail:0}),Uo=qt(br),Tr,ma,bi,ga=A({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(Tr=t.screenX-bi.screenX,ma=t.screenY-bi.screenY):ma=Tr=0,bi=t),Tr)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),zo=qt(ga),xs=A({},ga,{dataTransfer:0}),Su=qt(xs),Au=A({},br,{relatedTarget:0}),Cs=qt(Au),qo=A({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=qt(qo),pa=A({},Li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xu=qt(pa),Cu=A({},Li,{data:0}),Ti=qt(Cu),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Nu[t])?!!i[t]:!1}function Sr(){return Du}var tn=A({},br,{key:function(t){if(t.key){var i=Ru[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(t){return t.type==="keypress"?ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ou=qt(tn),ku=A({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=qt(ku),c=A({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),m=qt(c),E=A({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=qt(E),P=A({},ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=qt(P),re=A({},Li,{newState:0,oldState:0}),Re=qt(re),gt=[9,13,27,32],Ge=In&&"CompositionEvent"in window,ot=null;In&&"documentMode"in document&&(ot=document.documentMode);var Nn=In&&"TextEvent"in window&&!ot,Si=In&&(!Ge||ot&&8<ot&&11>=ot),Jn=" ",$n=!1;function Rs(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function TT(t,i){switch(t){case"compositionend":return ya(i);case"keypress":return i.which!==32?null:($n=!0,Jn);case"textInput":return t=i.data,t===Jn&&$n?null:t;default:return null}}function ST(t,i){if(_a)return t==="compositionend"||!Ge&&Rs(t,i)?(t=Lo(),As=Po=vi=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Si&&i.locale!=="ko"?null:i.data;default:return null}}var AT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!AT[t.type]:i==="textarea"}function Mg(t,i,a,o){vr?_i?_i.push(o):_i=[o]:vr=o,i=Tc(i,"onChange"),0<i.length&&(a=new Ei("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Bo=null,Ho=null;function wT(t){p0(t,0)}function Mu(t){var i=pn(t);if(Es(i))return t}function Vg(t,i){if(t==="change")return i}var jg=!1;if(In){var Yh;if(In){var Xh="oninput"in document;if(!Xh){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),Xh=typeof Pg.oninput=="function"}Yh=Xh}else Yh=!1;jg=Yh&&(!document.documentMode||9<document.documentMode)}function Lg(){Bo&&(Bo.detachEvent("onpropertychange",Ug),Ho=Bo=null)}function Ug(t){if(t.propertyName==="value"&&Mu(Ho)){var i=[];Mg(i,Ho,t,Rn(t)),Er(wT,i)}}function xT(t,i,a){t==="focusin"?(Lg(),Bo=i,Ho=a,Bo.attachEvent("onpropertychange",Ug)):t==="focusout"&&Lg()}function CT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(Ho)}function RT(t,i){if(t==="click")return Mu(i)}function IT(t,i){if(t==="input"||t==="change")return Mu(i)}function NT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:NT;function Fo(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Et.call(i,h)||!_n(t[h],i[h]))return!1}return!0}function zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qg(t,i){var a=zg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zg(a)}}function Bg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Bg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Hg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=yi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=yi(t.document)}return i}function Jh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var DT=In&&"documentMode"in document&&11>=document.documentMode,va=null,$h=null,Go=null,Zh=!1;function Fg(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zh||va==null||va!==yi(o)||(o=va,"selectionStart"in o&&Jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Go&&Fo(Go,o)||(Go=o,o=Tc($h,"onSelect"),0<o.length&&(i=new Ei("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=va)))}function Is(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ea={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},Wh={},Gg={};In&&(Gg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Ns(t){if(Wh[t])return Wh[t];if(!Ea[t])return t;var i=Ea[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Gg)return Wh[t]=i[a];return t}var Qg=Ns("animationend"),Kg=Ns("animationiteration"),Yg=Ns("animationstart"),OT=Ns("transitionrun"),kT=Ns("transitionstart"),MT=Ns("transitioncancel"),Xg=Ns("transitionend"),Jg=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function Zn(t,i){Jg.set(t,i),gi(i,[t])}var Vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],ba=0,tf=0;function ju(){for(var t=ba,i=tf=ba=0;i<t;){var a=Dn[i];Dn[i++]=null;var o=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&$g(a,h,d)}}function Pu(t,i,a,o){Dn[ba++]=t,Dn[ba++]=i,Dn[ba++]=a,Dn[ba++]=o,tf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function nf(t,i,a,o){return Pu(t,i,a,o),Lu(t)}function Ds(t,i){return Pu(t,null,null,i),Lu(t)}function $g(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-mt(a),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function Lu(t){if(50<dl)throw dl=0,fd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ta={};function VT(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,o){return new VT(t,i,a,o)}function rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Zg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Uu(t,i,a,o,h,d){var v=0;if(o=t,typeof t=="function")rf(t)&&(v=1);else if(typeof t=="string")v=z1(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=vn(31,a,i,h),t.elementType=C,t.lanes=d,t;case ee:return Os(a.children,h,d,i);case Q:v=8,h|=24;break;case W:return t=vn(12,a,i,h|2),t.elementType=W,t.lanes=d,t;case fe:return t=vn(13,a,i,h),t.elementType=fe,t.lanes=d,t;case _e:return t=vn(19,a,i,h),t.elementType=_e,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:v=10;break e;case ne:v=9;break e;case ce:v=11;break e;case I:v=14;break e;case x:v=16,o=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=vn(v,a,i,h),i.elementType=t,i.type=o,i.lanes=d,i}function Os(t,i,a,o){return t=vn(7,t,o,i),t.lanes=a,t}function sf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function Wg(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function af(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ep=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var a=ep.get(t);return a!==void 0?a:(i={value:t,source:i,stack:To(i)},ep.set(t,i),i)}return{value:t,source:i,stack:To(i)}}var Sa=[],Aa=0,zu=null,Qo=0,kn=[],Mn=0,Ar=null,Ai=1,wi="";function qi(t,i){Sa[Aa++]=Qo,Sa[Aa++]=zu,zu=t,Qo=i}function tp(t,i,a){kn[Mn++]=Ai,kn[Mn++]=wi,kn[Mn++]=Ar,Ar=t;var o=Ai;t=wi;var h=32-mt(o)-1;o&=~(1<<h),a+=1;var d=32-mt(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ai=1<<32-mt(i)+h|a<<h|o,wi=d+t}else Ai=1<<d|a<<h|o,wi=t}function of(t){t.return!==null&&(qi(t,1),tp(t,1,0))}function lf(t){for(;t===zu;)zu=Sa[--Aa],Sa[Aa]=null,Qo=Sa[--Aa],Sa[Aa]=null;for(;t===Ar;)Ar=kn[--Mn],kn[Mn]=null,wi=kn[--Mn],kn[Mn]=null,Ai=kn[--Mn],kn[Mn]=null}function np(t,i){kn[Mn++]=Ai,kn[Mn++]=wi,kn[Mn++]=Ar,Ai=i.id,wi=i.overflow,Ar=t}var Bt=null,rt=null,qe=!1,wr=null,Vn=!1,uf=Error(s(519));function xr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(On(i,t)),uf}function ip(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Tt]=t,i[jt]=o,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<gl.length;a++)ke(gl[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),vu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),yr(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||E0(i.textContent,a)?(o.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),o.onScroll!=null&&ke("scroll",i),o.onScrollEnd!=null&&ke("scrollend",i),o.onClick!=null&&(i.onclick=Kn),i=!0):i=!1,i||xr(t,!0)}function rp(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Bt=Bt.return}}function wa(t){if(t!==Bt)return!1;if(!qe)return rp(t),qe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Cd(t.type,t.memoizedProps)),a=!a),a&&rt&&xr(t),rp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=I0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=I0(t)}else i===27?(i=rt,zr(t.type)?(t=Od,Od=null,rt=t):rt=i):rt=Bt?Pn(t.stateNode.nextSibling):null;return!0}function ks(){rt=Bt=null,qe=!1}function cf(){var t=wr;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),wr=null),t}function Ko(t){wr===null?wr=[t]:wr.push(t)}var hf=k(null),Ms=null,Bi=null;function Cr(t,i,a){oe(hf,i._currentValue),i._currentValue=a}function Hi(t){t._currentValue=hf.current,Y(hf)}function ff(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function df(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var N=0;N<i.length;N++)if(b.context===i[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),ff(d.return,a,t),o||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),ff(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function xa(t,i,a,o){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;_n(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===Me.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(El):t=[El])}h=h.return}t!==null&&df(i,t,a,o),i.flags|=262144}function qu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vs(t){Ms=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return sp(Ms,t)}function Bu(t,i){return Ms===null&&Vs(t),sp(t,i)}function sp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Bi===null){if(t===null)throw Error(s(308));Bi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Bi=Bi.next=i;return a}var jT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},PT=r.unstable_scheduleCallback,LT=r.unstable_NormalPriority,wt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new jT,data:new Map,refCount:0}}function Yo(t){t.refCount--,t.refCount===0&&PT(LT,function(){t.controller.abort()})}var Xo=null,gf=0,Ca=0,Ra=null;function UT(t,i){if(Xo===null){var a=Xo=[];gf=0,Ca=_d(),Ra={status:"pending",value:void 0,then:function(o){a.push(o)}}}return gf++,i.then(ap,ap),i}function ap(){if(--gf===0&&Xo!==null){Ra!==null&&(Ra.status="fulfilled");var t=Xo;Xo=null,Ca=0,Ra=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function zT(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var op=F.S;F.S=function(t,i){Fy=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&UT(t,i),op!==null&&op(t,i)};var js=k(null);function pf(){var t=js.current;return t!==null?t:nt.pooledCache}function Hu(t,i){i===null?oe(js,js.current):oe(js,i.pool)}function lp(){var t=pf();return t===null?null:{parent:wt._currentValue,pool:t}}var Ia=Error(s(460)),yf=Error(s(474)),Fu=Error(s(542)),Gu={then:function(){}};function up(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Kn,Kn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,fp(t),t;default:if(typeof i.status=="string")i.then(Kn,Kn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,fp(t),t}throw Ls=i,Ia}}function Ps(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ls=a,Ia):a}}var Ls=null;function hp(){if(Ls===null)throw Error(s(459));var t=Ls;return Ls=null,t}function fp(t){if(t===Ia||t===Fu)throw Error(s(483))}var Na=null,Jo=0;function Qu(t){var i=Jo;return Jo+=1,Na===null&&(Na=[]),cp(Na,t,i)}function $o(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ku(t,i){throw i.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function dp(t){function i(j,O){if(t){var L=j.deletions;L===null?(j.deletions=[O],j.flags|=16):L.push(O)}}function a(j,O){if(!t)return null;for(;O!==null;)i(j,O),O=O.sibling;return null}function o(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function h(j,O){return j=zi(j,O),j.index=0,j.sibling=null,j}function d(j,O,L){return j.index=L,t?(L=j.alternate,L!==null?(L=L.index,L<O?(j.flags|=67108866,O):L):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function b(j,O,L,K){return O===null||O.tag!==6?(O=sf(L,j.mode,K),O.return=j,O):(O=h(O,L),O.return=j,O)}function N(j,O,L,K){var pe=L.type;return pe===ee?G(j,O,L.props.children,K,L.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&Ps(pe)===O.type)?(O=h(O,L.props),$o(O,L),O.return=j,O):(O=Uu(L.type,L.key,L.props,null,j.mode,K),$o(O,L),O.return=j,O)}function U(j,O,L,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=af(L,j.mode,K),O.return=j,O):(O=h(O,L.children||[]),O.return=j,O)}function G(j,O,L,K,pe){return O===null||O.tag!==7?(O=Os(L,j.mode,K,pe),O.return=j,O):(O=h(O,L),O.return=j,O)}function J(j,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=sf(""+O,j.mode,L),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case q:return L=Uu(O.type,O.key,O.props,null,j.mode,L),$o(L,O),L.return=j,L;case Z:return O=af(O,j.mode,L),O.return=j,O;case x:return O=Ps(O),J(j,O,L)}if(Ce(O)||V(O))return O=Os(O,j.mode,L,null),O.return=j,O;if(typeof O.then=="function")return J(j,Qu(O),L);if(O.$$typeof===te)return J(j,Bu(j,O),L);Ku(j,O)}return null}function z(j,O,L,K){var pe=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return pe!==null?null:b(j,O,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return L.key===pe?N(j,O,L,K):null;case Z:return L.key===pe?U(j,O,L,K):null;case x:return L=Ps(L),z(j,O,L,K)}if(Ce(L)||V(L))return pe!==null?null:G(j,O,L,K,null);if(typeof L.then=="function")return z(j,O,Qu(L),K);if(L.$$typeof===te)return z(j,O,Bu(j,L),K);Ku(j,L)}return null}function H(j,O,L,K,pe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return j=j.get(L)||null,b(O,j,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return j=j.get(K.key===null?L:K.key)||null,N(O,j,K,pe);case Z:return j=j.get(K.key===null?L:K.key)||null,U(O,j,K,pe);case x:return K=Ps(K),H(j,O,L,K,pe)}if(Ce(K)||V(K))return j=j.get(L)||null,G(O,j,K,pe,null);if(typeof K.then=="function")return H(j,O,L,Qu(K),pe);if(K.$$typeof===te)return H(j,O,L,Bu(O,K),pe);Ku(O,K)}return null}function de(j,O,L,K){for(var pe=null,He=null,me=O,Ne=O=0,je=null;me!==null&&Ne<L.length;Ne++){me.index>Ne?(je=me,me=null):je=me.sibling;var Fe=z(j,me,L[Ne],K);if(Fe===null){me===null&&(me=je);break}t&&me&&Fe.alternate===null&&i(j,me),O=d(Fe,O,Ne),He===null?pe=Fe:He.sibling=Fe,He=Fe,me=je}if(Ne===L.length)return a(j,me),qe&&qi(j,Ne),pe;if(me===null){for(;Ne<L.length;Ne++)me=J(j,L[Ne],K),me!==null&&(O=d(me,O,Ne),He===null?pe=me:He.sibling=me,He=me);return qe&&qi(j,Ne),pe}for(me=o(me);Ne<L.length;Ne++)je=H(me,j,Ne,L[Ne],K),je!==null&&(t&&je.alternate!==null&&me.delete(je.key===null?Ne:je.key),O=d(je,O,Ne),He===null?pe=je:He.sibling=je,He=je);return t&&me.forEach(function(Gr){return i(j,Gr)}),qe&&qi(j,Ne),pe}function ve(j,O,L,K){if(L==null)throw Error(s(151));for(var pe=null,He=null,me=O,Ne=O=0,je=null,Fe=L.next();me!==null&&!Fe.done;Ne++,Fe=L.next()){me.index>Ne?(je=me,me=null):je=me.sibling;var Gr=z(j,me,Fe.value,K);if(Gr===null){me===null&&(me=je);break}t&&me&&Gr.alternate===null&&i(j,me),O=d(Gr,O,Ne),He===null?pe=Gr:He.sibling=Gr,He=Gr,me=je}if(Fe.done)return a(j,me),qe&&qi(j,Ne),pe;if(me===null){for(;!Fe.done;Ne++,Fe=L.next())Fe=J(j,Fe.value,K),Fe!==null&&(O=d(Fe,O,Ne),He===null?pe=Fe:He.sibling=Fe,He=Fe);return qe&&qi(j,Ne),pe}for(me=o(me);!Fe.done;Ne++,Fe=L.next())Fe=H(me,j,Ne,Fe.value,K),Fe!==null&&(t&&Fe.alternate!==null&&me.delete(Fe.key===null?Ne:Fe.key),O=d(Fe,O,Ne),He===null?pe=Fe:He.sibling=Fe,He=Fe);return t&&me.forEach(function($1){return i(j,$1)}),qe&&qi(j,Ne),pe}function tt(j,O,L,K){if(typeof L=="object"&&L!==null&&L.type===ee&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case q:e:{for(var pe=L.key;O!==null;){if(O.key===pe){if(pe=L.type,pe===ee){if(O.tag===7){a(j,O.sibling),K=h(O,L.props.children),K.return=j,j=K;break e}}else if(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&Ps(pe)===O.type){a(j,O.sibling),K=h(O,L.props),$o(K,L),K.return=j,j=K;break e}a(j,O);break}else i(j,O);O=O.sibling}L.type===ee?(K=Os(L.props.children,j.mode,K,L.key),K.return=j,j=K):(K=Uu(L.type,L.key,L.props,null,j.mode,K),$o(K,L),K.return=j,j=K)}return v(j);case Z:e:{for(pe=L.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(j,O.sibling),K=h(O,L.children||[]),K.return=j,j=K;break e}else{a(j,O);break}else i(j,O);O=O.sibling}K=af(L,j.mode,K),K.return=j,j=K}return v(j);case x:return L=Ps(L),tt(j,O,L,K)}if(Ce(L))return de(j,O,L,K);if(V(L)){if(pe=V(L),typeof pe!="function")throw Error(s(150));return L=pe.call(L),ve(j,O,L,K)}if(typeof L.then=="function")return tt(j,O,Qu(L),K);if(L.$$typeof===te)return tt(j,O,Bu(j,L),K);Ku(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(j,O.sibling),K=h(O,L),K.return=j,j=K):(a(j,O),K=sf(L,j.mode,K),K.return=j,j=K),v(j)):a(j,O)}return function(j,O,L,K){try{Jo=0;var pe=tt(j,O,L,K);return Na=null,pe}catch(me){if(me===Ia||me===Fu)throw me;var He=vn(29,me,null,j.mode);return He.lanes=K,He.return=j,He}finally{}}}var Us=dp(!0),mp=dp(!1),Rr=!1;function _f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ir(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Nr(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Qe&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Lu(t),$g(t,null,a),i}return Pu(t,o,i,a),Lu(t)}function Zo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,wo(t,a)}}function Ef(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var bf=!1;function Wo(){if(bf){var t=Ra;if(t!==null)throw t}}function el(t,i,a,o){bf=!1;var h=t.updateQueue;Rr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var N=b,U=N.next;N.next=null,v===null?d=U:v.next=U,v=N;var G=t.alternate;G!==null&&(G=G.updateQueue,b=G.lastBaseUpdate,b!==v&&(b===null?G.firstBaseUpdate=U:b.next=U,G.lastBaseUpdate=N))}if(d!==null){var J=h.baseState;v=0,G=U=N=null,b=d;do{var z=b.lane&-536870913,H=z!==b.lane;if(H?(Ve&z)===z:(o&z)===z){z!==0&&z===Ca&&(bf=!0),G!==null&&(G=G.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var de=t,ve=b;z=i;var tt=a;switch(ve.tag){case 1:if(de=ve.payload,typeof de=="function"){J=de.call(tt,J,z);break e}J=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ve.payload,z=typeof de=="function"?de.call(tt,J,z):de,z==null)break e;J=A({},J,z);break e;case 2:Rr=!0}}z=b.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:b.tag,payload:b.payload,callback:b.callback,next:null},G===null?(U=G=H,N=J):G=G.next=H,v|=z;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;H=b,b=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(N=J),h.baseState=N,h.firstBaseUpdate=U,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Vr|=v,t.lanes=v,t.memoizedState=J}}function gp(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function pp(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gp(a[t],i)}var Da=k(null),Yu=k(0);function yp(t,i){t=Zi,oe(Yu,t),oe(Da,i),Zi=t|i.baseLanes}function Tf(){oe(Yu,Zi),oe(Da,Da.current)}function Sf(){Zi=Yu.current,Y(Da),Y(Yu)}var En=k(null),jn=null;function Dr(t){var i=t.alternate;oe(pt,pt.current&1),oe(En,t),jn===null&&(i===null||Da.current!==null||i.memoizedState!==null)&&(jn=t)}function Af(t){oe(pt,pt.current),oe(En,t),jn===null&&(jn=t)}function _p(t){t.tag===22?(oe(pt,pt.current),oe(En,t),jn===null&&(jn=t)):Or()}function Or(){oe(pt,pt.current),oe(En,En.current)}function bn(t){Y(En),jn===t&&(jn=null),Y(pt)}var pt=k(0);function Xu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Nd(a)||Dd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fi=0,Ie=null,We=null,xt=null,Ju=!1,Oa=!1,zs=!1,$u=0,tl=0,ka=null,qT=0;function ct(){throw Error(s(321))}function wf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function xf(t,i,a,o,h,d){return Fi=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?ty:qf,zs=!1,d=a(o,h),zs=!1,Oa&&(d=Ep(i,a,o,h)),vp(t),d}function vp(t){F.H=rl;var i=We!==null&&We.next!==null;if(Fi=0,xt=We=Ie=null,Ju=!1,tl=0,ka=null,i)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&qu(t)&&(Ct=!0))}function Ep(t,i,a,o){Ie=t;var h=0;do{if(Oa&&(ka=null),tl=0,Oa=!1,25<=h)throw Error(s(301));if(h+=1,xt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=ny,d=i(a,o)}while(Oa);return d}function BT(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?nl(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Cf(){var t=$u!==0;return $u=0,t}function Rf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function If(t){if(Ju){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ju=!1}Fi=0,xt=We=Ie=null,Oa=!1,tl=$u=0,ka=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ie.memoizedState=xt=t:xt=xt.next=t,xt}function yt(){if(We===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=xt===null?Ie.memoizedState:xt.next;if(i!==null)xt=i,We=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},xt===null?Ie.memoizedState=xt=t:xt=xt.next=t}return xt}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(t){var i=tl;return tl+=1,ka===null&&(ka=[]),t=cp(ka,t,i),i=Ie,(xt===null?i.memoizedState:xt.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?ty:qf),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===te)return Ht(t)}throw Error(s(438,String(t)))}function Nf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Zu(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=M;return i.index++,a}function Gi(t,i){return typeof i=="function"?i(t):i}function ec(t){var i=yt();return Df(i,We,t)}function Df(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=v=null,N=null,U=i,G=!1;do{var J=U.lane&-536870913;if(J!==U.lane?(Ve&J)===J:(Fi&J)===J){var z=U.revertLane;if(z===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),J===Ca&&(G=!0);else if((Fi&z)===z){U=U.next,z===Ca&&(G=!0);continue}else J={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(b=N=J,v=d):N=N.next=J,Ie.lanes|=z,Vr|=z;J=U.action,zs&&a(d,J),d=U.hasEagerState?U.eagerState:a(d,J)}else z={lane:J,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(b=N=z,v=d):N=N.next=z,Ie.lanes|=J,Vr|=J;U=U.next}while(U!==null&&U!==i);if(N===null?v=d:N.next=b,!_n(d,t.memoizedState)&&(Ct=!0,G&&(a=Ra,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=N,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Of(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);_n(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function bp(t,i,a){var o=Ie,h=yt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!_n((We||h).memoizedState,a);if(v&&(h.memoizedState=a,Ct=!0),h=h.queue,Vf(Ap.bind(null,o,h,t),[t]),h.getSnapshot!==i||v||xt!==null&&xt.memoizedState.tag&1){if(o.flags|=2048,Ma(9,{destroy:void 0},Sp.bind(null,o,h,a,i),null),nt===null)throw Error(s(349));d||(Fi&127)!==0||Tp(o,i,a)}return a}function Tp(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Zu(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Sp(t,i,a,o){i.value=a,i.getSnapshot=o,wp(i)&&xp(t)}function Ap(t,i,a){return a(function(){wp(i)&&xp(t)})}function wp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function xp(t){var i=Ds(t,2);i!==null&&fn(i,t,2)}function kf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),zs){xn(!0);try{a()}finally{xn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},i}function Cp(t,i,a,o){return t.baseState=a,Df(t,We,typeof o=="function"?o:Gi)}function HT(t,i,a,o,h){if(ic(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};F.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,Rp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Rp(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var d=F.T,v={};F.T=v;try{var b=a(h,o),N=F.S;N!==null&&N(v,b),Ip(t,i,b)}catch(U){Mf(t,i,U)}finally{d!==null&&v.types!==null&&(d.types=v.types),F.T=d}}else try{d=a(h,o),Ip(t,i,d)}catch(U){Mf(t,i,U)}}function Ip(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Np(t,i,o)},function(o){return Mf(t,i,o)}):Np(t,i,a)}function Np(t,i,a){i.status="fulfilled",i.value=a,Dp(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Rp(t,a)))}function Mf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Dp(i),i=i.next;while(i!==o)}t.action=null}function Dp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Op(t,i){return i}function kp(t,i){if(qe){var a=nt.formState;if(a!==null){e:{var o=Ie;if(qe){if(rt){t:{for(var h=rt,d=Vn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){rt=Pn(h.nextSibling),o=h.data==="F!";break e}}xr(o)}o=!1}o&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Op,lastRenderedState:i},a.queue=o,a=Zp.bind(null,Ie,o),o.dispatch=a,o=kf(!1),d=zf.bind(null,Ie,!1,o.queue),o=nn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=HT.bind(null,Ie,h,d,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function Mp(t){var i=yt();return Vp(i,We,t)}function Vp(t,i,a){if(i=Df(t,i,Op)[0],t=ec(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=nl(i)}catch(v){throw v===Ia?Fu:v}else o=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ma(9,{destroy:void 0},FT.bind(null,h,a),null)),[o,d,t]}function FT(t,i){t.action=i}function jp(t){var i=yt(),a=We;if(a!==null)return Vp(i,a,t);yt(),i=i.memoizedState,a=yt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Ma(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Zu(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Pp(){return yt().memoizedState}function tc(t,i,a,o){var h=nn();Ie.flags|=t,h.memoizedState=Ma(1|i,{destroy:void 0},a,o===void 0?null:o)}function nc(t,i,a,o){var h=yt();o=o===void 0?null:o;var d=h.memoizedState.inst;We!==null&&o!==null&&wf(o,We.memoizedState.deps)?h.memoizedState=Ma(i,d,a,o):(Ie.flags|=t,h.memoizedState=Ma(1|i,d,a,o))}function Lp(t,i){tc(8390656,8,t,i)}function Vf(t,i){nc(2048,8,t,i)}function GT(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=Zu(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Up(t){var i=yt().memoizedState;return GT({ref:i,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function zp(t,i){return nc(4,2,t,i)}function qp(t,i){return nc(4,4,t,i)}function Bp(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Hp(t,i,a){a=a!=null?a.concat([t]):null,nc(4,4,Bp.bind(null,i,t),a)}function jf(){}function Fp(t,i){var a=yt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&wf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Gp(t,i){var a=yt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&wf(i,o[1]))return o[0];if(o=t(),zs){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[o,i],o}function Pf(t,i,a){return a===void 0||(Fi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Qy(),Ie.lanes|=t,Vr|=t,a)}function Qp(t,i,a,o){return _n(a,i)?a:Da.current!==null?(t=Pf(t,a,o),_n(t,i)||(Ct=!0),t):(Fi&42)===0||(Fi&1073741824)!==0&&(Ve&261930)===0?(Ct=!0,t.memoizedState=a):(t=Qy(),Ie.lanes|=t,Vr|=t,i)}function Kp(t,i,a,o,h){var d=se.p;se.p=d!==0&&8>d?d:8;var v=F.T,b={};F.T=b,zf(t,!1,i,a);try{var N=h(),U=F.S;if(U!==null&&U(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=zT(N,o);il(t,i,G,An(t))}else il(t,i,o,An(t))}catch(J){il(t,i,{then:function(){},status:"rejected",reason:J},An())}finally{se.p=d,v!==null&&b.types!==null&&(v.types=b.types),F.T=v}}function QT(){}function Lf(t,i,a,o){if(t.tag!==5)throw Error(s(476));var h=Yp(t).queue;Kp(t,h,i,ge,a===null?QT:function(){return Xp(t),a(o)})}function Yp(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Xp(t){var i=Yp(t);i.next===null&&(i=t.alternate.memoizedState),il(t,i.next.queue,{},An())}function Uf(){return Ht(El)}function Jp(){return yt().memoizedState}function $p(){return yt().memoizedState}function KT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=Ir(a);var o=Nr(i,t,a);o!==null&&(fn(o,i,a),Zo(o,i,a)),i={cache:mf()},t.payload=i;return}i=i.return}}function YT(t,i,a){var o=An();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ic(t)?Wp(i,a):(a=nf(t,i,a,o),a!==null&&(fn(a,t,o),ey(a,i,o)))}function Zp(t,i,a){var o=An();il(t,i,a,o)}function il(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(t))Wp(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,_n(b,v))return Pu(t,i,h,0),nt===null&&ju(),!1}catch{}finally{}if(a=nf(t,i,h,o),a!==null)return fn(a,t,o),ey(a,i,o),!0}return!1}function zf(t,i,a,o){if(o={lane:2,revertLane:_d(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ic(t)){if(i)throw Error(s(479))}else i=nf(t,a,o,2),i!==null&&fn(i,t,2)}function ic(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Wp(t,i){Oa=Ju=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ey(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,wo(t,a)}}var rl={readContext:Ht,use:Wu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};rl.useEffectEvent=ct;var ty={readContext:Ht,use:Wu,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:Lp,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,tc(4194308,4,Bp.bind(null,i,t),a)},useLayoutEffect:function(t,i){return tc(4194308,4,t,i)},useInsertionEffect:function(t,i){tc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var o=t();if(zs){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=nn();if(a!==void 0){var h=a(i);if(zs){xn(!0);try{a(i)}finally{xn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=YT.bind(null,Ie,t),[o.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=kf(t);var i=t.queue,a=Zp.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:jf,useDeferredValue:function(t,i){var a=nn();return Pf(a,t,i)},useTransition:function(){var t=kf(!1);return t=Kp.bind(null,Ie,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Ie,h=nn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(Ve&127)!==0||Tp(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Lp(Ap.bind(null,o,d,t),[t]),o.flags|=2048,Ma(9,{destroy:void 0},Sp.bind(null,o,d,a,i),null),a},useId:function(){var t=nn(),i=nt.identifierPrefix;if(qe){var a=wi,o=Ai;a=(o&~(1<<32-mt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=$u++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=qT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Uf,useFormState:kp,useActionState:kp,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=zf.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:Nf,useCacheRefresh:function(){return nn().memoizedState=KT.bind(null,Ie)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((Qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},qf={readContext:Ht,use:Wu,useCallback:Fp,useContext:Ht,useEffect:Vf,useImperativeHandle:Hp,useInsertionEffect:zp,useLayoutEffect:qp,useMemo:Gp,useReducer:ec,useRef:Pp,useState:function(){return ec(Gi)},useDebugValue:jf,useDeferredValue:function(t,i){var a=yt();return Qp(a,We.memoizedState,t,i)},useTransition:function(){var t=ec(Gi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:nl(t),i]},useSyncExternalStore:bp,useId:Jp,useHostTransitionStatus:Uf,useFormState:Mp,useActionState:Mp,useOptimistic:function(t,i){var a=yt();return Cp(a,We,t,i)},useMemoCache:Nf,useCacheRefresh:$p};qf.useEffectEvent=Up;var ny={readContext:Ht,use:Wu,useCallback:Fp,useContext:Ht,useEffect:Vf,useImperativeHandle:Hp,useInsertionEffect:zp,useLayoutEffect:qp,useMemo:Gp,useReducer:Of,useRef:Pp,useState:function(){return Of(Gi)},useDebugValue:jf,useDeferredValue:function(t,i){var a=yt();return We===null?Pf(a,t,i):Qp(a,We.memoizedState,t,i)},useTransition:function(){var t=Of(Gi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:nl(t),i]},useSyncExternalStore:bp,useId:Jp,useHostTransitionStatus:Uf,useFormState:jp,useActionState:jp,useOptimistic:function(t,i){var a=yt();return We!==null?Cp(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:$p};ny.useEffectEvent=Up;function Bf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:A({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Hf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=An(),h=Ir(o);h.payload=i,a!=null&&(h.callback=a),i=Nr(t,h,o),i!==null&&(fn(i,t,o),Zo(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=An(),h=Ir(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Nr(t,h,o),i!==null&&(fn(i,t,o),Zo(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),o=Ir(a);o.tag=2,i!=null&&(o.callback=i),i=Nr(t,o,a),i!==null&&(fn(i,t,a),Zo(i,t,a))}};function iy(t,i,a,o,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!Fo(a,o)||!Fo(h,d):!0}function ry(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Hf.enqueueReplaceState(i,i.state,null)}function qs(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function sy(t){Vu(t)}function ay(t){console.error(t)}function oy(t){Vu(t)}function rc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function ly(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ff(t,i,a){return a=Ir(a),a.tag=3,a.payload={element:null},a.callback=function(){rc(t,i)},a}function uy(t){return t=Ir(t),t.tag=3,t}function cy(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){ly(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ly(i,a,o),typeof h!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function XT(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&xa(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?pc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Gu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),gd(t,o,h)),!1;case 22:return a.flags|=65536,o===Gu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),gd(t,o,h)),!1}throw Error(s(435,a.tag))}return gd(t,o,h),pc(),!1}if(qe)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==uf&&(t=Error(s(422),{cause:o}),Ko(On(t,a)))):(o!==uf&&(i=Error(s(423),{cause:o}),Ko(On(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=On(o,a),h=Ff(t.stateNode,o,h),Ef(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:o});if(d=On(d,a),fl===null?fl=[d]:fl.push(d),ht!==4&&(ht=2),i===null)return!0;o=On(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ff(a.stateNode,o,t),Ef(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(jr===null||!jr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=uy(h),cy(h,t,a,o),Ef(a,h),!1}a=a.return}while(a!==null);return!1}var Gf=Error(s(461)),Ct=!1;function Ft(t,i,a,o){i.child=t===null?mp(i,null,a,o):Us(i,t.child,a,o)}function hy(t,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var b in o)b!=="ref"&&(v[b]=o[b])}else v=o;return Vs(i),o=xf(t,i,a,v,d,h),b=Cf(),t!==null&&!Ct?(Rf(t,i,h),Qi(t,i,h)):(qe&&b&&of(i),i.flags|=1,Ft(t,i,o,h),i.child)}function fy(t,i,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!rf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,dy(t,i,d,o,h)):(t=Uu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Wf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Fo,a(v,o)&&t.ref===i.ref)return Qi(t,i,h)}return i.flags|=1,t=zi(d,o),t.ref=i.ref,t.return=i,i.child=t}function dy(t,i,a,o,h){if(t!==null){var d=t.memoizedProps;if(Fo(d,o)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=o=d,Wf(t,h))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,Qi(t,i,h)}return Qf(t,i,a,o,h)}function my(t,i,a,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return gy(t,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hu(i,d!==null?d.cachePool:null),d!==null?yp(i,d):Tf(),_p(i);else return o=i.lanes=536870912,gy(t,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(Hu(i,d.cachePool),yp(i,d),Or(),i.memoizedState=null):(t!==null&&Hu(i,null),Tf(),Or());return Ft(t,i,h,a),i.child}function sl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function gy(t,i,a,o,h){var d=pf();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Hu(i,null),Tf(),_p(i),t!==null&&xa(t,i,o,!0),i.childLanes=h,null}function sc(t,i){return i=oc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function py(t,i,a){return Us(i,t.child,null,a),t=sc(i,i.pendingProps),t.flags|=2,bn(i),i.memoizedState=null,t}function JT(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(qe){if(o.mode==="hidden")return t=sc(i,o),i.lanes=536870912,sl(null,t);if(Af(i),(t=rt)?(t=R0(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ar!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=Wg(t),a.return=i,i.child=a,Bt=i,rt=null)):t=null,t===null)throw xr(i);return i.lanes=536870912,null}return sc(i,o)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Af(i),h)if(i.flags&256)i.flags&=-257,i=py(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ct||xa(t,i,a,!1),h=(a&t.childLanes)!==0,Ct||h){if(o=nt,o!==null&&(v=xo(o,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ds(t,v),fn(o,t,v),Gf;pc(),i=py(t,i,a)}else t=d.treeContext,rt=Pn(v.nextSibling),Bt=i,qe=!0,wr=null,Vn=!1,t!==null&&np(i,t),i=sc(i,o),i.flags|=4096;return i}return t=zi(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function ac(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Qf(t,i,a,o,h){return Vs(i),a=xf(t,i,a,o,void 0,h),o=Cf(),t!==null&&!Ct?(Rf(t,i,h),Qi(t,i,h)):(qe&&o&&of(i),i.flags|=1,Ft(t,i,a,h),i.child)}function yy(t,i,a,o,h,d){return Vs(i),i.updateQueue=null,a=Ep(i,o,a,h),vp(t),o=Cf(),t!==null&&!Ct?(Rf(t,i,d),Qi(t,i,d)):(qe&&o&&of(i),i.flags|=1,Ft(t,i,a,d),i.child)}function _y(t,i,a,o,h){if(Vs(i),i.stateNode===null){var d=Ta,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ht(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Hf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},_f(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ht(v):Ta,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Bf(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Hf.enqueueReplaceState(d,d.state,null),el(i,o,d,h),Wo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,N=qs(a,b);d.props=N;var U=d.context,G=a.contextType;v=Ta,typeof G=="object"&&G!==null&&(v=Ht(G));var J=a.getDerivedStateFromProps;G=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||U!==v)&&ry(i,d,o,v),Rr=!1;var z=i.memoizedState;d.state=z,el(i,o,d,h),Wo(),U=i.memoizedState,b||z!==U||Rr?(typeof J=="function"&&(Bf(i,a,J,o),U=i.memoizedState),(N=Rr||iy(i,a,N,o,z,U,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=U),d.props=o,d.state=U,d.context=v,o=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,vf(t,i),v=i.memoizedProps,G=qs(a,v),d.props=G,J=i.pendingProps,z=d.context,U=a.contextType,N=Ta,typeof U=="object"&&U!==null&&(N=Ht(U)),b=a.getDerivedStateFromProps,(U=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||z!==N)&&ry(i,d,o,N),Rr=!1,z=i.memoizedState,d.state=z,el(i,o,d,h),Wo();var H=i.memoizedState;v!==J||z!==H||Rr||t!==null&&t.dependencies!==null&&qu(t.dependencies)?(typeof b=="function"&&(Bf(i,a,b,o),H=i.memoizedState),(G=Rr||iy(i,a,G,o,z,H,N)||t!==null&&t.dependencies!==null&&qu(t.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,H,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,H,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),d.props=o,d.state=H,d.context=N,o=G):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,ac(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=Us(i,t.child,null,h),i.child=Us(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Qi(t,i,h),t}function vy(t,i,a,o){return ks(),i.flags|=256,Ft(t,i,a,o),i.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yf(t){return{baseLanes:t,cachePool:lp()}}function Xf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Sn),t}function Ey(t,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?Dr(i):Or(),(t=rt)?(t=R0(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ar!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=Wg(t),a.return=i,i.child=a,Bt=i,rt=null)):t=null,t===null)throw xr(i);return Dd(t)?i.lanes=32:i.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(Or(),h=i.mode,b=oc({mode:"hidden",children:b},h),o=Os(o,h,a,null),b.return=i,o.return=i,b.sibling=o,i.child=b,o=i.child,o.memoizedState=Yf(a),o.childLanes=Xf(t,v,a),i.memoizedState=Kf,sl(null,o)):(Dr(i),Jf(i,b))}var N=t.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(d)i.flags&256?(Dr(i),i.flags&=-257,i=$f(t,i,a)):i.memoizedState!==null?(Or(),i.child=t.child,i.flags|=128,i=null):(Or(),b=o.fallback,h=i.mode,o=oc({mode:"visible",children:o.children},h),b=Os(b,h,a,null),b.flags|=2,o.return=i,b.return=i,o.sibling=b,i.child=o,Us(i,t.child,null,a),o=i.child,o.memoizedState=Yf(a),o.childLanes=Xf(t,v,a),i.memoizedState=Kf,i=sl(null,o));else if(Dr(i),Dd(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var U=v.dgst;v=U,o=Error(s(419)),o.stack="",o.digest=v,Ko({value:o,source:null,stack:null}),i=$f(t,i,a)}else if(Ct||xa(t,i,a,!1),v=(a&t.childLanes)!==0,Ct||v){if(v=nt,v!==null&&(o=xo(v,a),o!==0&&o!==N.retryLane))throw N.retryLane=o,Ds(t,o),fn(v,t,o),Gf;Nd(b)||pc(),i=$f(t,i,a)}else Nd(b)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,rt=Pn(b.nextSibling),Bt=i,qe=!0,wr=null,Vn=!1,t!==null&&np(i,t),i=Jf(i,o.children),i.flags|=4096);return i}return h?(Or(),b=o.fallback,h=i.mode,N=t.child,U=N.sibling,o=zi(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,U!==null?b=zi(U,b):(b=Os(b,h,a,null),b.flags|=2),b.return=i,o.return=i,o.sibling=b,i.child=o,sl(null,o),o=i.child,b=t.child.memoizedState,b===null?b=Yf(a):(h=b.cachePool,h!==null?(N=wt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=lp(),b={baseLanes:b.baseLanes|a,cachePool:h}),o.memoizedState=b,o.childLanes=Xf(t,v,a),i.memoizedState=Kf,sl(t.child,o)):(Dr(i),a=t.child,t=a.sibling,a=zi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Jf(t,i){return i=oc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function oc(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function $f(t,i,a){return Us(i,t.child,null,a),t=Jf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function by(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),ff(t.return,i,a)}function Zf(t,i,a,o,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function Ty(t,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var v=pt.current,b=(v&2)!==0;if(b?(v=v&1|2,i.flags|=128):v&=1,oe(pt,v),Ft(t,i,o,a),o=qe?Qo:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&by(t,a,i);else if(t.tag===19)by(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Xu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Zf(i,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Xu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Zf(i,!0,a,null,d,o);break;case"together":Zf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Qi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Vr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(xa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=zi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=zi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Wf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&qu(t)))}function $T(t,i,a){switch(i.tag){case 3:dt(i,i.stateNode.containerInfo),Cr(i,wt,t.memoizedState.cache),ks();break;case 27:case 5:si(i);break;case 4:dt(i,i.stateNode.containerInfo);break;case 10:Cr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Af(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Dr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ey(t,i,a):(Dr(i),t=Qi(t,i,a),t!==null?t.sibling:null);Dr(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(xa(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Ty(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(pt,pt.current),o)break;return null;case 22:return i.lanes=0,my(t,i,a,i.pendingProps);case 24:Cr(i,wt,t.memoizedState.cache)}return Qi(t,i,a)}function Sy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!Wf(t,a)&&(i.flags&128)===0)return Ct=!1,$T(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,qe&&(i.flags&1048576)!==0&&tp(i,Qo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Ps(i.elementType),i.type=t,typeof t=="function")rf(t)?(o=qs(t,o),i.tag=1,i=_y(null,i,t,o,a)):(i.tag=0,i=Qf(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===ce){i.tag=11,i=hy(null,i,t,o,a);break e}else if(h===I){i.tag=14,i=fy(null,i,t,o,a);break e}}throw i=ae(t)||t,Error(s(306,i,""))}}return i;case 0:return Qf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=qs(o,i.pendingProps),_y(t,i,o,h,a);case 3:e:{if(dt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,vf(t,i),el(i,o,null,a);var v=i.memoizedState;if(o=v.cache,Cr(i,wt,o),o!==d.cache&&df(i,[wt],a,!0),Wo(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=vy(t,i,o,a);break e}else if(o!==h){h=On(Error(s(424)),i),Ko(h),i=vy(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=Pn(t.firstChild),Bt=i,qe=!0,wr=null,Vn=!0,a=mp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ks(),o===h){i=Qi(t,i,a);break e}Ft(t,i,o,a)}i=i.child}return i;case 26:return ac(t,i),t===null?(a=M0(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,o=Sc(xe.current).createElement(a),o[Tt]=i,o[jt]=t,Gt(o,a,t),St(o),i.stateNode=o):i.memoizedState=M0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return si(i),t===null&&qe&&(o=i.stateNode=D0(i.type,i.pendingProps,xe.current),Bt=i,Vn=!0,h=rt,zr(i.type)?(Od=h,rt=Pn(o.firstChild)):rt=h),Ft(t,i,i.pendingProps.children,a),ac(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&qe&&((h=o=rt)&&(o=C1(o,i.type,i.pendingProps,Vn),o!==null?(i.stateNode=o,Bt=i,rt=Pn(o.firstChild),Vn=!1,h=!0):h=!1),h||xr(i)),si(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,o=d.children,Cd(h,d)?o=null:v!==null&&Cd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=xf(t,i,BT,null,null,a),El._currentValue=h),ac(t,i),Ft(t,i,o,a),i.child;case 6:return t===null&&qe&&((t=a=rt)&&(a=R1(a,i.pendingProps,Vn),a!==null?(i.stateNode=a,Bt=i,rt=null,t=!0):t=!1),t||xr(i)),null;case 13:return Ey(t,i,a);case 4:return dt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Us(i,null,o,a):Ft(t,i,o,a),i.child;case 11:return hy(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Cr(i,i.type,o.value),Ft(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Vs(i),h=Ht(h),o=o(h),i.flags|=1,Ft(t,i,o,a),i.child;case 14:return fy(t,i,i.type,i.pendingProps,a);case 15:return dy(t,i,i.type,i.pendingProps,a);case 19:return Ty(t,i,a);case 31:return JT(t,i,a);case 22:return my(t,i,a,i.pendingProps);case 24:return Vs(i),o=Ht(wt),t===null?(h=pf(),h===null&&(h=nt,d=mf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},_f(i),Cr(i,wt,h)):((t.lanes&a)!==0&&(vf(t,i),el(i,null,null,a),Wo()),h=t.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Cr(i,wt,o)):(o=d.cache,Cr(i,wt,o),o!==h.cache&&df(i,[wt],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ki(t){t.flags|=4}function ed(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Jy())t.flags|=8192;else throw Ls=Gu,yf}else t.flags&=-16777217}function Ay(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!U0(i))if(Jy())t.flags|=8192;else throw Ls=Gu,yf}function lc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?mu():536870912,t.lanes|=i,La|=i)}function al(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function ZT(t,i,a){var o=i.pendingProps;switch(lf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Hi(wt),Ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(wa(i)?Ki(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,cf())),st(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Ki(i),d!==null?(st(i),Ay(i,d)):(st(i),ed(i,h,null,o,a))):d?d!==t.memoizedState?(Ki(i),st(i),Ay(i,d)):(st(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Ki(i),st(i),ed(i,h,t,o,a)),null;case 27:if(ia(i),a=xe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ki(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=ue.current,wa(i)?ip(i):(t=D0(h,o,a),i.stateNode=t,Ki(i))}return st(i),null;case 5:if(ia(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Ki(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(d=ue.current,wa(i))ip(i);else{var v=Sc(xe.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?v.createElement(h,{is:o.is}):v.createElement(h)}}d[Tt]=i,d[jt]=o;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Gt(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ki(i)}}return st(i),ed(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Ki(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=xe.current,wa(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||E0(t.nodeValue,a)),t||xr(i,!0)}else t=Sc(t).createTextNode(o),t[Tt]=i,i.stateNode=t}return st(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=wa(i),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),t=!1}else a=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(bn(i),i):(bn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return st(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=wa(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=i}else ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),h=!1}else h=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(bn(i),i):(bn(i),null)}return bn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),lc(i,i.updateQueue),st(i),null);case 4:return Ke(),t===null&&Td(i.stateNode.containerInfo),st(i),null;case 10:return Hi(i.type),st(i),null;case 19:if(Y(pt),o=i.memoizedState,o===null)return st(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)al(o,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Xu(t),d!==null){for(i.flags|=128,al(o,!1),t=d.updateQueue,i.updateQueue=t,lc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Zg(a,t),a=a.sibling;return oe(pt,pt.current&1|2),qe&&qi(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&en()>dc&&(i.flags|=128,h=!0,al(o,!1),i.lanes=4194304)}else{if(!h)if(t=Xu(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,lc(i,t),al(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!qe)return st(i),null}else 2*en()-o.renderingStartTime>dc&&a!==536870912&&(i.flags|=128,h=!0,al(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(t=o.last,t!==null?t.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=en(),t.sibling=null,a=pt.current,oe(pt,h?a&1|2:a&1),qe&&qi(i,o.treeForkCount),t):(st(i),null);case 22:case 23:return bn(i),Sf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&lc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&Y(js),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(wt),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function WT(t,i){switch(lf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Hi(wt),Ke(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ia(i),null;case 31:if(i.memoizedState!==null){if(bn(i),i.alternate===null)throw Error(s(340));ks()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(bn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ks()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Y(pt),null;case 4:return Ke(),null;case 10:return Hi(i.type),null;case 22:case 23:return bn(i),Sf(),t!==null&&Y(js),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Hi(wt),null;case 25:return null;default:return null}}function wy(t,i){switch(lf(i),i.tag){case 3:Hi(wt),Ke();break;case 26:case 27:case 5:ia(i);break;case 4:Ke();break;case 31:i.memoizedState!==null&&bn(i);break;case 13:bn(i);break;case 19:Y(pt);break;case 10:Hi(i.type);break;case 22:case 23:bn(i),Sf(),t!==null&&Y(js);break;case 24:Hi(wt)}}function ol(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(b){$e(i,i.return,b)}}function kr(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var v=o.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=i;var N=a,U=b;try{U()}catch(G){$e(h,N,G)}}}o=o.next}while(o!==d)}}catch(G){$e(i,i.return,G)}}function xy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{pp(i,a)}catch(o){$e(t,t.return,o)}}}function Cy(t,i,a){a.props=qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){$e(t,i,o)}}function ll(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){$e(t,i,h)}}function xi(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function Ry(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function td(t,i,a){try{var o=t.stateNode;b1(o,t.type,a,i),o[jt]=i}catch(h){$e(t,t.return,h)}}function Iy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zr(t.type)||t.tag===4}function nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Iy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function id(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Kn));else if(o!==4&&(o===27&&zr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(id(t,i,a),t=t.sibling;t!==null;)id(t,i,a),t=t.sibling}function uc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&zr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(uc(t,i,a),t=t.sibling;t!==null;)uc(t,i,a),t=t.sibling}function Ny(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,o,a),i[Tt]=t,i[jt]=a}catch(d){$e(t,t.return,d)}}var Yi=!1,Rt=!1,rd=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function e1(t,i){if(t=t.containerInfo,wd=Nc,t=Hg(t),Jh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,N=-1,U=0,G=0,J=t,z=null;t:for(;;){for(var H;J!==a||h!==0&&J.nodeType!==3||(b=v+h),J!==d||o!==0&&J.nodeType!==3||(N=v+o),J.nodeType===3&&(v+=J.nodeValue.length),(H=J.firstChild)!==null;)z=J,J=H;for(;;){if(J===t)break t;if(z===a&&++U===h&&(b=v),z===d&&++G===o&&(N=v),(H=J.nextSibling)!==null)break;J=z,z=J.parentNode}J=H}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(xd={focusedElem:t,selectionRange:a},Nc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var de=qs(a.type,h);t=o.getSnapshotBeforeUpdate(de,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(ve){$e(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Id(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Id(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}}function Oy(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(t,a),o&4&&ol(5,a);break;case 1:if(Ji(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){$e(a,a.return,v)}else{var h=qs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){$e(a,a.return,v)}}o&64&&xy(a),o&512&&ll(a,a.return);break;case 3:if(Ji(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{pp(t,i)}catch(v){$e(a,a.return,v)}}break;case 27:i===null&&o&4&&Ny(a);case 26:case 5:Ji(t,a),i===null&&o&4&&Ry(a),o&512&&ll(a,a.return);break;case 12:Ji(t,a);break;case 31:Ji(t,a),o&4&&Vy(t,a);break;case 13:Ji(t,a),o&4&&jy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=u1.bind(null,a),I1(t,a))));break;case 22:if(o=a.memoizedState!==null||Yi,!o){i=i!==null&&i.memoizedState!==null||Rt,h=Yi;var d=Rt;Yi=o,(Rt=i)&&!d?$i(t,a,(a.subtreeFlags&8772)!==0):Ji(t,a),Yi=h,Rt=d}break;case 30:break;default:Ji(t,a)}}function ky(t){var i=t.alternate;i!==null&&(t.alternate=null,ky(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&la(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,ln=!1;function Xi(t,i,a){for(a=a.child;a!==null;)My(t,i,a),a=a.sibling}function My(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:Rt||xi(a,i),Xi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||xi(a,i);var o=lt,h=ln;zr(a.type)&&(lt=a.stateNode,ln=!1),Xi(t,i,a),yl(a.stateNode),lt=o,ln=h;break;case 5:Rt||xi(a,i);case 6:if(o=lt,h=ln,lt=null,Xi(t,i,a),lt=o,ln=h,lt!==null)if(ln)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){$e(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){$e(a,i,d)}break;case 18:lt!==null&&(ln?(t=lt,x0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Qa(t)):x0(lt,a.stateNode));break;case 4:o=lt,h=ln,lt=a.stateNode.containerInfo,ln=!0,Xi(t,i,a),lt=o,ln=h;break;case 0:case 11:case 14:case 15:kr(2,a,i),Rt||kr(4,a,i),Xi(t,i,a);break;case 1:Rt||(xi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Cy(a,i,o)),Xi(t,i,a);break;case 21:Xi(t,i,a);break;case 22:Rt=(o=Rt)||a.memoizedState!==null,Xi(t,i,a),Rt=o;break;default:Xi(t,i,a)}}function Vy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qa(t)}catch(a){$e(i,i.return,a)}}}function jy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qa(t)}catch(a){$e(i,i.return,a)}}function t1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Dy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Dy),i;default:throw Error(s(435,t.tag))}}function cc(t,i){var a=t1(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=c1.bind(null,t,o);o.then(h,h)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,v=i,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(zr(b.type)){lt=b.stateNode,ln=!1;break e}break;case 5:lt=b.stateNode,ln=!1;break e;case 3:case 4:lt=b.stateNode.containerInfo,ln=!0;break e}b=b.return}if(lt===null)throw Error(s(160));My(d,v,h),lt=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Py(i,t),i=i.sibling}var Wn=null;function Py(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),o&4&&(kr(3,t,t.return),ol(3,t),kr(5,t,t.return));break;case 1:un(i,t),cn(t),o&512&&(Rt||a===null||xi(a,a.return)),o&64&&Yi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Wn;if(un(i,t),cn(t),o&512&&(Rt||a===null||xi(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[fi]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,o,a),d[Tt]=t,St(d),o=d;break e;case"link":var v=P0("link","href",h).get(o+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(o),Gt(d,o,a),h.head.appendChild(d);break;case"meta":if(v=P0("meta","content",h).get(o+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(o),Gt(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Tt]=t,St(d),o=d}t.stateNode=o}else L0(h,t.type,t.stateNode);else t.stateNode=j0(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?L0(h,t.type,t.stateNode):j0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&td(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),o&512&&(Rt||a===null||xi(a,a.return)),a!==null&&o&4&&td(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),o&512&&(Rt||a===null||xi(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(de){$e(t,t.return,de)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,td(t,h,a!==null?a.memoizedProps:h)),o&1024&&(rd=!0);break;case 6:if(un(i,t),cn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(de){$e(t,t.return,de)}}break;case 3:if(xc=null,h=Wn,Wn=Ac(i.containerInfo),un(i,t),Wn=h,cn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Qa(i.containerInfo)}catch(de){$e(t,t.return,de)}rd&&(rd=!1,Ly(t));break;case 4:o=Wn,Wn=Ac(t.stateNode.containerInfo),un(i,t),cn(t),Wn=o;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fc=en()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,U=Yi,G=Rt;if(Yi=U||h,Rt=G||N,un(i,t),Rt=G,Yi=U,cn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Yi||Rt||Bs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=N.stateNode;var J=N.memoizedProps.style,z=J!=null&&J.hasOwnProperty("display")?J.display:null;b.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(de){$e(N,N.return,de)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(de){$e(N,N.return,de)}}}else if(i.tag===18){if(a===null){N=i;try{var H=N.stateNode;h?C0(H,!0):C0(N.stateNode,!1)}catch(de){$e(N,N.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,cc(t,a))));break;case 19:un(i,t),cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(Iy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=nd(t);uc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(on(v,""),a.flags&=-33);var b=nd(t);uc(t,b,v);break;case 3:case 4:var N=a.stateNode.containerInfo,U=nd(t);id(t,U,N);break;default:throw Error(s(161))}}catch(G){$e(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ly(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ly(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ji(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Oy(t,i.alternate,i),i=i.sibling}function Bs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:kr(4,i,i.return),Bs(i);break;case 1:xi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Cy(i,i.return,a),Bs(i);break;case 27:yl(i.stateNode);case 26:case 5:xi(i,i.return),Bs(i);break;case 22:i.memoizedState===null&&Bs(i);break;case 30:Bs(i);break;default:Bs(i)}t=t.sibling}}function $i(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:$i(h,d,a),ol(4,d);break;case 1:if($i(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){$e(o,o.return,U)}if(o=d,h=o.updateQueue,h!==null){var b=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)gp(N[h],b)}catch(U){$e(o,o.return,U)}}a&&v&64&&xy(d),ll(d,d.return);break;case 27:Ny(d);case 26:case 5:$i(h,d,a),a&&o===null&&v&4&&Ry(d),ll(d,d.return);break;case 12:$i(h,d,a);break;case 31:$i(h,d,a),a&&v&4&&Vy(h,d);break;case 13:$i(h,d,a),a&&v&4&&jy(h,d);break;case 22:d.memoizedState===null&&$i(h,d,a),ll(d,d.return);break;case 30:break;default:$i(h,d,a)}i=i.sibling}}function sd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Yo(a))}function ad(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Yo(t))}function ei(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Uy(t,i,a,o),i=i.sibling}function Uy(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(t,i,a,o),h&2048&&ol(9,i);break;case 1:ei(t,i,a,o);break;case 3:ei(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Yo(t)));break;case 12:if(h&2048){ei(t,i,a,o),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){$e(i,i.return,N)}}else ei(t,i,a,o);break;case 31:ei(t,i,a,o);break;case 13:ei(t,i,a,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ei(t,i,a,o):ul(t,i):d._visibility&2?ei(t,i,a,o):(d._visibility|=2,Va(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&sd(v,i);break;case 24:ei(t,i,a,o),h&2048&&ad(i.alternate,i);break;default:ei(t,i,a,o)}}function Va(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,b=a,N=o,U=v.flags;switch(v.tag){case 0:case 11:case 15:Va(d,v,b,N,h),ol(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?Va(d,v,b,N,h):ul(d,v):(G._visibility|=2,Va(d,v,b,N,h)),h&&U&2048&&sd(v.alternate,v);break;case 24:Va(d,v,b,N,h),h&&U&2048&&ad(v.alternate,v);break;default:Va(d,v,b,N,h)}i=i.sibling}}function ul(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:ul(a,o),h&2048&&sd(o.alternate,o);break;case 24:ul(a,o),h&2048&&ad(o.alternate,o);break;default:ul(a,o)}i=i.sibling}}var cl=8192;function ja(t,i,a){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)zy(t,i,a),t=t.sibling}function zy(t,i,a){switch(t.tag){case 26:ja(t,i,a),t.flags&cl&&t.memoizedState!==null&&q1(a,Wn,t.memoizedState,t.memoizedProps);break;case 5:ja(t,i,a);break;case 3:case 4:var o=Wn;Wn=Ac(t.stateNode.containerInfo),ja(t,i,a),Wn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=cl,cl=16777216,ja(t,i,a),cl=o):ja(t,i,a));break;default:ja(t,i,a)}}function qy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function hl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Lt=o,Hy(o,t)}qy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)By(t),t=t.sibling}function By(t){switch(t.tag){case 0:case 11:case 15:hl(t),t.flags&2048&&kr(9,t,t.return);break;case 3:hl(t);break;case 12:hl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,hc(t)):hl(t);break;default:hl(t)}}function hc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Lt=o,Hy(o,t)}qy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:kr(8,i,i.return),hc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,hc(i));break;default:hc(i)}t=t.sibling}}function Hy(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:kr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Lt=o;else e:for(a=t;Lt!==null;){o=Lt;var h=o.sibling,d=o.return;if(ky(o),o===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}var n1={getCacheForType:function(t){var i=Ht(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(wt).controller.signal}},i1=typeof WeakMap=="function"?WeakMap:Map,Qe=0,nt=null,Oe=null,Ve=0,Je=0,Tn=null,Mr=!1,Pa=!1,od=!1,Zi=0,ht=0,Vr=0,Hs=0,ld=0,Sn=0,La=0,fl=null,hn=null,ud=!1,fc=0,Fy=0,dc=1/0,mc=null,jr=null,kt=0,Pr=null,Ua=null,Wi=0,cd=0,hd=null,Gy=null,dl=0,fd=null;function An(){return(Qe&2)!==0&&Ve!==0?Ve&-Ve:F.T!==null?_d():gu()}function Qy(){if(Sn===0)if((Ve&536870912)===0||qe){var t=ps;ps<<=1,(ps&3932160)===0&&(ps=262144),Sn=t}else Sn=536870912;return t=En.current,t!==null&&(t.flags|=32),Sn}function fn(t,i,a){(t===nt&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(za(t,0),Lr(t,Ve,Sn,!1)),ys(t,a),((Qe&2)===0||t!==nt)&&(t===nt&&((Qe&2)===0&&(Hs|=a),ht===4&&Lr(t,Ve,Sn,!1)),Ci(t))}function Ky(t,i,a){if((Qe&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Fn(t,i),h=o?a1(t,i):md(t,i,!0),d=o;do{if(h===0){Pa&&!o&&Lr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!r1(a)){h=md(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var b=t;h=fl;var N=b.current.memoizedState.isDehydrated;if(N&&(za(b,v).flags|=256),v=md(b,v,!1),v!==2){if(od&&!N){b.errorRecoveryDisabledLanes|=d,Hs|=d,h=4;break e}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){za(t,0),Lr(t,i,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Lr(o,i,Sn,!Mr);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=fc+300-en(),10<h)){if(Lr(o,i,Sn,!Mr),ui(o,0,!0)!==0)break e;Wi=i,o.timeoutHandle=A0(Yy.bind(null,o,a,hn,mc,ud,i,Sn,Hs,La,Mr,d,"Throttled",-0,0),h);break e}Yy(o,a,hn,mc,ud,i,Sn,Hs,La,Mr,d,null,-0,0)}}break}while(!0);Ci(t)}function Yy(t,i,a,o,h,d,v,b,N,U,G,J,z,H){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},zy(i,d,J);var de=(d&62914560)===d?fc-en():(d&4194048)===d?Fy-en():0;if(de=B1(J,de),de!==null){Wi=d,t.cancelPendingCommit=de(n0.bind(null,t,i,d,a,o,h,v,b,N,G,J,null,z,H)),Lr(t,d,v,!U);return}}n0(t,i,d,a,o,h,v,b,N)}function r1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Lr(t,i,a,o){i&=~ld,i&=~Hs,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var d=31-mt(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&_s(t,a,i)}function gc(){return(Qe&6)===0?(ml(0),!1):!0}function dd(){if(Oe!==null){if(Je===0)var t=Oe.return;else t=Oe,Bi=Ms=null,If(t),Na=null,Jo=0,t=Oe;for(;t!==null;)wy(t.alternate,t),t=t.return;Oe=null}}function za(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,A1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Wi=0,dd(),nt=t,Oe=a=zi(t.current,null),Ve=i,Je=0,Tn=null,Mr=!1,Pa=Fn(t,i),od=!1,La=Sn=ld=Hs=Vr=ht=0,hn=fl=null,ud=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-mt(o),d=1<<h;i|=t[h],o&=~d}return Zi=i,ju(),a}function Xy(t,i){Ie=null,F.H=rl,i===Ia||i===Fu?(i=hp(),Je=3):i===yf?(i=hp(),Je=4):Je=i===Gf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Oe===null&&(ht=1,rc(t,On(i,t.current)))}function Jy(){var t=En.current;return t===null?!0:(Ve&4194048)===Ve?jn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===jn:!1}function $y(){var t=F.H;return F.H=rl,t===null?rl:t}function Zy(){var t=F.A;return F.A=n1,t}function pc(){ht=4,Mr||(Ve&4194048)!==Ve&&En.current!==null||(Pa=!0),(Vr&134217727)===0&&(Hs&134217727)===0||nt===null||Lr(nt,Ve,Sn,!1)}function md(t,i,a){var o=Qe;Qe|=2;var h=$y(),d=Zy();(nt!==t||Ve!==i)&&(mc=null,za(t,i)),i=!1;var v=ht;e:do try{if(Je!==0&&Oe!==null){var b=Oe,N=Tn;switch(Je){case 8:dd(),v=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var U=Je;if(Je=0,Tn=null,qa(t,b,N,U),a&&Pa){v=0;break e}break;default:U=Je,Je=0,Tn=null,qa(t,b,N,U)}}s1(),v=ht;break}catch(G){Xy(t,G)}while(!0);return i&&t.shellSuspendCounter++,Bi=Ms=null,Qe=o,F.H=h,F.A=d,Oe===null&&(nt=null,Ve=0,ju()),v}function s1(){for(;Oe!==null;)Wy(Oe)}function a1(t,i){var a=Qe;Qe|=2;var o=$y(),h=Zy();nt!==t||Ve!==i?(mc=null,dc=en()+500,za(t,i)):Pa=Fn(t,i);e:do try{if(Je!==0&&Oe!==null){i=Oe;var d=Tn;t:switch(Je){case 1:Je=0,Tn=null,qa(t,i,d,1);break;case 2:case 9:if(up(d)){Je=0,Tn=null,e0(i);break}i=function(){Je!==2&&Je!==9||nt!==t||(Je=7),Ci(t)},d.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:up(d)?(Je=0,Tn=null,e0(i)):(Je=0,Tn=null,qa(t,i,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var b=Oe;if(v?U0(v):b.stateNode.complete){Je=0,Tn=null;var N=b.sibling;if(N!==null)Oe=N;else{var U=b.return;U!==null?(Oe=U,yc(U)):Oe=null}break t}}Je=0,Tn=null,qa(t,i,d,5);break;case 6:Je=0,Tn=null,qa(t,i,d,6);break;case 8:dd(),ht=6;break e;default:throw Error(s(462))}}o1();break}catch(G){Xy(t,G)}while(!0);return Bi=Ms=null,F.H=o,F.A=h,Qe=a,Oe!==null?0:(nt=null,Ve=0,ju(),ht)}function o1(){for(;Oe!==null&&!Hh();)Wy(Oe)}function Wy(t){var i=Sy(t.alternate,t,Zi);t.memoizedProps=t.pendingProps,i===null?yc(t):Oe=i}function e0(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=yy(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=yy(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:If(i);default:wy(a,i),i=Oe=Zg(i,Zi),i=Sy(a,i,Zi)}t.memoizedProps=t.pendingProps,i===null?yc(t):Oe=i}function qa(t,i,a,o){Bi=Ms=null,If(i),Na=null,Jo=0;var h=i.return;try{if(XT(t,h,i,a,Ve)){ht=1,rc(t,On(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;ht=1,rc(t,On(a,t.current)),Oe=null;return}i.flags&32768?(qe||o===1?t=!0:Pa||(Ve&536870912)!==0?t=!1:(Mr=t=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),t0(i,t)):yc(i)}function yc(t){var i=t;do{if((i.flags&32768)!==0){t0(i,Mr);return}t=i.return;var a=ZT(i.alternate,i,Zi);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);ht===0&&(ht=5)}function t0(t,i){do{var a=WT(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);ht=6,Oe=null}function n0(t,i,a,o,h,d,v,b,N){t.cancelPendingCommit=null;do _c();while(kt!==0);if((Qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=tf,Qh(t,a,d,v,b,N),t===nt&&(Oe=nt=null,Ve=0),Ua=i,Pr=t,Wi=a,cd=d,hd=h,Gy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,h1(mr,function(){return o0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=se.p,se.p=2,v=Qe,Qe|=4;try{e1(t,i,a)}finally{Qe=v,se.p=h,F.T=o}}kt=1,i0(),r0(),s0()}}function i0(){if(kt===1){kt=0;var t=Pr,i=Ua,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=se.p;se.p=2;var h=Qe;Qe|=4;try{Py(i,t);var d=xd,v=Hg(t.containerInfo),b=d.focusedElem,N=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&Bg(b.ownerDocument.documentElement,b)){if(N!==null&&Jh(b)){var U=N.start,G=N.end;if(G===void 0&&(G=U),"selectionStart"in b)b.selectionStart=U,b.selectionEnd=Math.min(G,b.value.length);else{var J=b.ownerDocument||document,z=J&&J.defaultView||window;if(z.getSelection){var H=z.getSelection(),de=b.textContent.length,ve=Math.min(N.start,de),tt=N.end===void 0?ve:Math.min(N.end,de);!H.extend&&ve>tt&&(v=tt,tt=ve,ve=v);var j=qg(b,ve),O=qg(b,tt);if(j&&O&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var L=J.createRange();L.setStart(j.node,j.offset),H.removeAllRanges(),ve>tt?(H.addRange(L),H.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),H.addRange(L))}}}}for(J=[],H=b;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<J.length;b++){var K=J[b];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Nc=!!wd,xd=wd=null}finally{Qe=h,se.p=o,F.T=a}}t.current=i,kt=2}}function r0(){if(kt===2){kt=0;var t=Pr,i=Ua,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=se.p;se.p=2;var h=Qe;Qe|=4;try{Oy(t,i.alternate,i)}finally{Qe=h,se.p=o,F.T=a}}kt=3}}function s0(){if(kt===4||kt===3){kt=0,lu();var t=Pr,i=Ua,a=Wi,o=Gy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?kt=5:(kt=0,Ua=Pr=null,a0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(jr=null),ji(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=F.T,h=se.p,se.p=2,F.T=null;try{for(var d=t.onRecoverableError,v=0;v<o.length;v++){var b=o[v];d(b.value,{componentStack:b.stack})}}finally{F.T=i,se.p=h}}(Wi&3)!==0&&_c(),Ci(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===fd?dl++:(dl=0,fd=t):dl=0,ml(0)}}function a0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Yo(i)))}function _c(){return i0(),r0(),s0(),o0()}function o0(){if(kt!==5)return!1;var t=Pr,i=cd;cd=0;var a=ji(Wi),o=F.T,h=se.p;try{se.p=32>a?32:a,F.T=null,a=hd,hd=null;var d=Pr,v=Wi;if(kt=0,Ua=Pr=null,Wi=0,(Qe&6)!==0)throw Error(s(331));var b=Qe;if(Qe|=4,By(d.current),Uy(d,d.current,v,a),Qe=b,ml(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{se.p=h,F.T=o,a0(t,i)}}function l0(t,i,a){i=On(a,i),i=Ff(t.stateNode,i,2),t=Nr(t,i,2),t!==null&&(ys(t,2),Ci(t))}function $e(t,i,a){if(t.tag===3)l0(t,t,a);else for(;i!==null;){if(i.tag===3){l0(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(jr===null||!jr.has(o))){t=On(a,t),a=uy(2),o=Nr(i,a,2),o!==null&&(cy(a,o,i,t),ys(o,2),Ci(o));break}}i=i.return}}function gd(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new i1;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(od=!0,h.add(a),t=l1.bind(null,t,i,a),i.then(t,t))}function l1(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Ve&a)===a&&(ht===4||ht===3&&(Ve&62914560)===Ve&&300>en()-fc?(Qe&2)===0&&za(t,0):ld|=a,La===Ve&&(La=0)),Ci(t)}function u0(t,i){i===0&&(i=mu()),t=Ds(t,i),t!==null&&(ys(t,i),Ci(t))}function u1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),u0(t,a)}function c1(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),u0(t,a)}function h1(t,i){return Ot(t,i)}var vc=null,Ba=null,pd=!1,Ec=!1,yd=!1,Ur=0;function Ci(t){t!==Ba&&t.next===null&&(Ba===null?vc=Ba=t:Ba=Ba.next=t),Ec=!0,pd||(pd=!0,d1())}function ml(t,i){if(!yd&&Ec){yd=!0;do for(var a=!1,o=vc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,b=o.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,d0(o,d))}else d=Ve,d=ui(o,o===nt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Fn(o,d)||(a=!0,d0(o,d));o=o.next}while(a);yd=!1}}function f1(){c0()}function c0(){Ec=pd=!1;var t=0;Ur!==0&&S1()&&(t=Ur);for(var i=en(),a=null,o=vc;o!==null;){var h=o.next,d=h0(o,i);d===0?(o.next=null,a===null?vc=h:a.next=h,h===null&&(Ba=a)):(a=o,(t!==0||(d&3)!==0)&&(Ec=!0)),o=h}kt!==0&&kt!==5||ml(t),Ur!==0&&(Ur=0)}function h0(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-mt(d),b=1<<v,N=h[v];N===-1?((b&a)===0||(b&o)!==0)&&(h[v]=Gh(b,i)):N<=i&&(t.expiredLanes|=b),d&=~b}if(i=nt,a=Ve,a=ui(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&dr(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Fn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&dr(o),ji(a)){case 2:case 8:a=Ao;break;case 32:a=mr;break;case 268435456:a=uu;break;default:a=mr}return o=f0.bind(null,t),a=Ot(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&dr(o),t.callbackPriority=2,t.callbackNode=null,2}function f0(t,i){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(_c()&&t.callbackNode!==a)return null;var o=Ve;return o=ui(t,t===nt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ky(t,o,i),h0(t,en()),t.callbackNode!=null&&t.callbackNode===a?f0.bind(null,t):null)}function d0(t,i){if(_c())return null;Ky(t,i,!0)}function d1(){w1(function(){(Qe&6)!==0?Ot(So,f1):c0()})}function _d(){if(Ur===0){var t=Ca;t===0&&(t=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Ur=t}return Ur}function m0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fa(""+t)}function g0(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function m1(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=m0((h[jt]||null).action),v=o.submitter;v&&(i=(i=v[jt]||null)?m0(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var b=new Ei("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ur!==0){var N=v?g0(h,v):new FormData(h);Lf(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=v?g0(h,v):new FormData(h),Lf(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var vd=0;vd<ef.length;vd++){var Ed=ef[vd],g1=Ed.toLowerCase(),p1=Ed[0].toUpperCase()+Ed.slice(1);Zn(g1,"on"+p1)}Zn(Qg,"onAnimationEnd"),Zn(Kg,"onAnimationIteration"),Zn(Yg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(OT,"onTransitionRun"),Zn(kT,"onTransitionStart"),Zn(MT,"onTransitionCancel"),Zn(Xg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function p0(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var b=o[v],N=b.instance,U=b.currentTarget;if(b=b.listener,N!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=U;try{d(h)}catch(G){Vu(G)}h.currentTarget=null,d=N}else for(v=0;v<o.length;v++){if(b=o[v],N=b.instance,U=b.currentTarget,b=b.listener,N!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=U;try{d(h)}catch(G){Vu(G)}h.currentTarget=null,d=N}}}}function ke(t,i){var a=i[oa];a===void 0&&(a=i[oa]=new Set);var o=t+"__bubble";a.has(o)||(y0(i,t,2,!1),a.add(o))}function bd(t,i,a){var o=0;i&&(o|=4),y0(a,t,o,i)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Td(t){if(!t[bc]){t[bc]=!0,Co.forEach(function(a){a!=="selectionchange"&&(y1.has(a)||bd(a,!1,t),bd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[bc]||(i[bc]=!0,bd("selectionchange",!1,i))}}function y0(t,i,a,o){switch(Q0(i)){case 2:var h=G1;break;case 8:h=Q1;break;default:h=Pd}a=h.bind(null,i,a,t),h=void 0,!Ss||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Sd(t,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var b=o.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=o.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=di(b),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){o=d=v;continue e}b=b.parentNode}}o=o.return}Er(function(){var U=d,G=Rn(a),J=[];e:{var z=Jg.get(t);if(z!==void 0){var H=Ei,de=t;switch(t){case"keypress":if(ws(a)===0)break e;case"keydown":case"keyup":H=Ou;break;case"focusin":de="focus",H=Cs;break;case"focusout":de="blur",H=Cs;break;case"beforeblur":case"afterblur":H=Cs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Qg:case Kg:case Yg:H=wu;break;case Xg:H=S;break;case"scroll":case"scrollend":H=Uo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ui;break;case"toggle":case"beforetoggle":H=Re}var ve=(i&4)!==0,tt=!ve&&(t==="scroll"||t==="scrollend"),j=ve?z!==null?z+"Capture":null:z;ve=[];for(var O=U,L;O!==null;){var K=O;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||j===null||(K=Yn(O,j),K!=null&&ve.push(pl(O,K,L))),tt)break;O=O.return}0<ve.length&&(z=new H(z,de,null,a,G),J.push({event:z,listeners:ve}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&a!==jo&&(de=a.relatedTarget||a.fromElement)&&(di(de)||de[hi]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(de=a.relatedTarget||a.toElement,H=U,de=de?di(de):null,de!==null&&(tt=u(de),ve=de.tag,de!==tt||ve!==5&&ve!==27&&ve!==6)&&(de=null)):(H=null,de=U),H!==de)){if(ve=zo,K="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Ui,K="onPointerLeave",j="onPointerEnter",O="pointer"),tt=H==null?z:pn(H),L=de==null?z:pn(de),z=new ve(K,O+"leave",H,a,G),z.target=tt,z.relatedTarget=L,K=null,di(G)===U&&(ve=new ve(j,O+"enter",de,a,G),ve.target=L,ve.relatedTarget=tt,K=ve),tt=K,H&&de)t:{for(ve=_1,j=H,O=de,L=0,K=j;K;K=ve(K))L++;K=0;for(var pe=O;pe;pe=ve(pe))K++;for(;0<L-K;)j=ve(j),L--;for(;0<K-L;)O=ve(O),K--;for(;L--;){if(j===O||O!==null&&j===O.alternate){ve=j;break t}j=ve(j),O=ve(O)}ve=null}else ve=null;H!==null&&_0(J,z,H,ve,!1),de!==null&&tt!==null&&_0(J,tt,de,ve,!0)}}e:{if(z=U?pn(U):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var He=Vg;else if(kg(z))if(jg)He=IT;else{He=CT;var me=xT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&ha(U.elementType)&&(He=Vg):He=RT;if(He&&(He=He(t,U))){Mg(J,He,a,G);break e}me&&me(t,z,U),t==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&ko(z,"number",z.value)}switch(me=U?pn(U):window,t){case"focusin":(kg(me)||me.contentEditable==="true")&&(va=me,$h=U,Go=null);break;case"focusout":Go=$h=va=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Fg(J,a,G);break;case"selectionchange":if(DT)break;case"keydown":case"keyup":Fg(J,a,G)}var Ne;if(Ge)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else _a?Rs(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Si&&a.locale!=="ko"&&(_a||je!=="onCompositionStart"?je==="onCompositionEnd"&&_a&&(Ne=Lo()):(vi=G,Po="value"in vi?vi.value:vi.textContent,_a=!0)),me=Tc(U,je),0<me.length&&(je=new Ti(je,t,null,a,G),J.push({event:je,listeners:me}),Ne?je.data=Ne:(Ne=ya(a),Ne!==null&&(je.data=Ne)))),(Ne=Nn?TT(t,a):ST(t,a))&&(je=Tc(U,"onBeforeInput"),0<je.length&&(me=new Ti("onBeforeInput","beforeinput",null,a,G),J.push({event:me,listeners:je}),me.data=Ne)),m1(J,t,U,a,G)}p0(J,i)})}function pl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Tc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Yn(t,a),h!=null&&o.unshift(pl(t,h,d)),h=Yn(t,i),h!=null&&o.push(pl(t,h,d))),t.tag===3)return o;t=t.return}return[]}function _1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function _0(t,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var b=a,N=b.alternate,U=b.stateNode;if(b=b.tag,N!==null&&N===o)break;b!==5&&b!==26&&b!==27||U===null||(N=U,h?(U=Yn(a,d),U!=null&&v.unshift(pl(a,U,N))):h||(U=Yn(a,d),U!=null&&v.push(pl(a,U,N)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var v1=/\r\n?/g,E1=/\u0000|\uFFFD/g;function v0(t){return(typeof t=="string"?t:""+t).replace(v1,`
`).replace(E1,"")}function E0(t,i){return i=v0(i),v0(t)===i}function et(t,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||on(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&on(t,""+o);break;case"className":yn(t,"class",o);break;case"tabIndex":yn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,o);break;case"style":Vo(t,o,d);break;case"data":if(i!=="object"){yn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=fa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",h.name,h,null),et(t,i,"formEncType",h.formEncType,h,null),et(t,i,"formMethod",h.formMethod,h,null),et(t,i,"formTarget",h.formTarget,h,null)):(et(t,i,"encType",h.encType,h,null),et(t,i,"method",h.method,h,null),et(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=fa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Kn);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=fa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":ke("beforetoggle",t),ke("toggle",t),ua(t,"popover",o);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ua(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Tu.get(a)||a,ua(t,a,o))}}function Ad(t,i,a,o,h,d){switch(a){case"style":Vo(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?on(t,o):(typeof o=="number"||typeof o=="bigint")&&on(t,""+o);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ua(t,a,o)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,d,v,a,null)}}h&&et(t,i,"srcSet",a.srcSet,a,null),o&&et(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var b=d=v=h=null,N=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":N=G;break;case"defaultChecked":U=G;break;case"value":d=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:et(t,i,o,G,a,null)}}vu(t,d,b,N,U,v,h,!1);return;case"select":ke("invalid",t),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":o=b;default:et(t,i,h,b,a,null)}i=d,a=v,t.multiple=!!o,i!=null?pr(t,!!o,i,!1):a!=null&&pr(t,!!o,a,!0);return;case"textarea":ke("invalid",t),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":o=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:et(t,i,v,b,a,null)}yr(t,o,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:et(t,i,N,o,a,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(o=0;o<gl.length;o++)ke(gl[o],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,U,o,a,null)}return;default:if(ha(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Ad(t,i,G,o,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(o=a[b],o!=null&&et(t,i,b,o,a,null))}function b1(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,N=null,U=null,G=null;for(H in a){var J=a[H];if(a.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=J;default:o.hasOwnProperty(H)||et(t,i,H,null,o,J)}}for(var z in o){var H=o[z];if(J=a[z],o.hasOwnProperty(z)&&(H!=null||J!=null))switch(z){case"type":d=H;break;case"name":h=H;break;case"checked":U=H;break;case"defaultChecked":G=H;break;case"value":v=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==J&&et(t,i,z,H,o,J)}}ca(t,v,b,N,U,G,d,h);return;case"select":H=v=b=z=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":H=N;default:o.hasOwnProperty(d)||et(t,i,d,null,o,N)}for(h in o)if(d=o[h],N=a[h],o.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":z=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==N&&et(t,i,h,d,o,N)}i=b,a=v,o=H,z!=null?pr(t,!!a,z,!1):!!o!=!!a&&(i!=null?pr(t,!!a,i,!0):pr(t,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:et(t,i,b,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&et(t,i,v,h,o,d)}Eu(t,z,H);return;case"option":for(var de in a)if(z=a[de],a.hasOwnProperty(de)&&z!=null&&!o.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:et(t,i,de,null,o,z)}for(N in o)if(z=o[N],H=a[N],o.hasOwnProperty(N)&&z!==H&&(z!=null||H!=null))switch(N){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:et(t,i,N,z,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)z=a[ve],a.hasOwnProperty(ve)&&z!=null&&!o.hasOwnProperty(ve)&&et(t,i,ve,null,o,z);for(U in o)if(z=o[U],H=a[U],o.hasOwnProperty(U)&&z!==H&&(z!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:et(t,i,U,z,o,H)}return;default:if(ha(i)){for(var tt in a)z=a[tt],a.hasOwnProperty(tt)&&z!==void 0&&!o.hasOwnProperty(tt)&&Ad(t,i,tt,void 0,o,z);for(G in o)z=o[G],H=a[G],!o.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||Ad(t,i,G,z,o,H);return}}for(var j in a)z=a[j],a.hasOwnProperty(j)&&z!=null&&!o.hasOwnProperty(j)&&et(t,i,j,null,o,z);for(J in o)z=o[J],H=a[J],!o.hasOwnProperty(J)||z===H||z==null&&H==null||et(t,i,J,z,o,H)}function b0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function T1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,v=h.initiatorType,b=h.duration;if(d&&b&&b0(v)){for(v=0,b=h.responseEnd,o+=1;o<a.length;o++){var N=a[o],U=N.startTime;if(U>b)break;var G=N.transferSize,J=N.initiatorType;G&&b0(J)&&(N=N.responseEnd,v+=G*(N<b?1:(b-U)/(N-U)))}if(--o,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var wd=null,xd=null;function Sc(t){return t.nodeType===9?t:t.ownerDocument}function T0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Cd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rd=null;function S1(){var t=window.event;return t&&t.type==="popstate"?t===Rd?!1:(Rd=t,!0):(Rd=null,!1)}var A0=typeof setTimeout=="function"?setTimeout:void 0,A1=typeof clearTimeout=="function"?clearTimeout:void 0,w0=typeof Promise=="function"?Promise:void 0,w1=typeof queueMicrotask=="function"?queueMicrotask:typeof w0<"u"?function(t){return w0.resolve(null).then(t).catch(x1)}:A0;function x1(t){setTimeout(function(){throw t})}function zr(t){return t==="head"}function x0(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Qa(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")yl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,yl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,b=d.nodeName;d[fi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&yl(t.ownerDocument.body);a=h}while(a);Qa(i)}function C0(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Id(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Id(a),la(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function C1(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[fi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function R1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function R0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pn(t.nextSibling),t===null))return null;return t}function Nd(t){return t.data==="$?"||t.data==="$~"}function Dd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function I1(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Pn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Od=null;function I0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function N0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function D0(t,i,a){switch(i=Sc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function yl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);la(t)}var Ln=new Map,O0=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var er=se.d;se.d={f:N1,r:D1,D:O1,C:k1,L:M1,m:V1,X:P1,S:j1,M:L1};function N1(){var t=er.f(),i=gc();return t||i}function D1(t){var i=Cn(t);i!==null&&i.tag===5&&i.type==="form"?Xp(i):er.r(t)}var Ha=typeof document>"u"?null:document;function k0(t,i,a){var o=Ha;if(o&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),O0.has(h)||(O0.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Gt(i,"link",t),St(i),o.head.appendChild(i)))}}function O1(t){er.D(t),k0("dns-prefetch",t,null)}function k1(t,i){er.C(t,i),k0("preconnect",t,i)}function M1(t,i,a){er.L(t,i,a);var o=Ha;if(o&&t&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(i){case"style":d=Fa(t);break;case"script":d=Ga(t)}Ln.has(d)||(t=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(_l(d))||i==="script"&&o.querySelector(vl(d))||(i=o.createElement("link"),Gt(i,"link",t),St(i),o.head.appendChild(i)))}}function V1(t,i){er.m(t,i);var a=Ha;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ga(t)}if(!Ln.has(d)&&(t=A({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(d)))return}o=a.createElement("link"),Gt(o,"link",t),St(o),a.head.appendChild(o)}}}function j1(t,i,a){er.S(t,i,a);var o=Ha;if(o&&t){var h=mi(o).hoistableStyles,d=Fa(t);i=i||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=o.querySelector(_l(d)))b.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&kd(t,a);var N=v=o.createElement("link");St(N),Gt(N,"link",t),N._p=new Promise(function(U,G){N.onload=U,N.onerror=G}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,wc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function P1(t,i){er.X(t,i);var a=Ha;if(a&&t){var o=mi(a).hoistableScripts,h=Ga(t),d=o.get(h);d||(d=a.querySelector(vl(h)),d||(t=A({src:t,async:!0},i),(i=Ln.get(h))&&Md(t,i),d=a.createElement("script"),St(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function L1(t,i){er.M(t,i);var a=Ha;if(a&&t){var o=mi(a).hoistableScripts,h=Ga(t),d=o.get(h);d||(d=a.querySelector(vl(h)),d||(t=A({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&Md(t,i),d=a.createElement("script"),St(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function M0(t,i,a,o){var h=(h=xe.current)?Ac(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Fa(a.href),a=mi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Fa(a.href);var d=mi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(_l(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||U1(h,t,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ga(a),a=mi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Fa(t){return'href="'+an(t)+'"'}function _l(t){return'link[rel="stylesheet"]['+t+"]"}function V0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function U1(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Gt(i,"link",a),St(i),t.head.appendChild(i))}function Ga(t){return'[src="'+an(t)+'"]'}function vl(t){return"script[async]"+t}function j0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(o)return i.instance=o,St(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),St(o),Gt(o,"style",h),wc(o,a.precedence,t),i.instance=o;case"stylesheet":h=Fa(a.href);var d=t.querySelector(_l(h));if(d)return i.state.loading|=4,i.instance=d,St(d),d;o=V0(a),(h=Ln.get(h))&&kd(o,h),d=(t.ownerDocument||t).createElement("link"),St(d);var v=d;return v._p=new Promise(function(b,N){v.onload=b,v.onerror=N}),Gt(d,"link",o),i.state.loading|=4,wc(d,a.precedence,t),i.instance=d;case"script":return d=Ga(a.src),(h=t.querySelector(vl(d)))?(i.instance=h,St(h),h):(o=a,(h=Ln.get(d))&&(o=A({},a),Md(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Gt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,wc(o,a.precedence,t));return i.instance}function wc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var b=o[v];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Md(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var xc=null;function P0(t,i,a){if(xc===null){var o=new Map,h=xc=new Map;h.set(a,o)}else h=xc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[fi]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var b=o.get(v);b?b.push(d):o.set(v,[d])}}return o}function L0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function z1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function U0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function q1(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Fa(o.href),d=i.querySelector(_l(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Cc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,o=V0(o),(h=Ln.get(h))&&kd(o,h),d=d.createElement("link"),St(d);var v=d;v._p=new Promise(function(b,N){v.onload=b,v.onerror=N}),Gt(d,"link",o),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Cc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Vd=0;function B1(t,i){return t.stylesheets&&t.count===0&&Ic(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Vd===0&&(Vd=62500*T1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Vd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rc=null;function Ic(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rc=new Map,i.forEach(H1,t),Rc=null,Cc.call(t))}function H1(t,i){if(!(i.state.loading&4)){var a=Rc.get(t);if(a)var o=a.get(null);else{a=new Map,Rc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=Cc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var El={$$typeof:te,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function F1(t,i,a,o,h,d,v,b,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function z0(t,i,a,o,h,d,v,b,N,U,G,J){return t=new F1(t,i,a,v,N,U,G,J,b),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=mf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},_f(d),t}function q0(t){return t?(t=Ta,t):Ta}function B0(t,i,a,o,h,d){h=q0(h),o.context===null?o.context=h:o.pendingContext=h,o=Ir(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Nr(t,o,i),a!==null&&(fn(a,t,i),Zo(a,t,i))}function H0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function jd(t,i){H0(t,i),(t=t.alternate)&&H0(t,i)}function F0(t){if(t.tag===13||t.tag===31){var i=Ds(t,67108864);i!==null&&fn(i,t,67108864),jd(t,67108864)}}function G0(t){if(t.tag===13||t.tag===31){var i=An();i=vs(i);var a=Ds(t,i);a!==null&&fn(a,t,i),jd(t,i)}}var Nc=!0;function G1(t,i,a,o){var h=F.T;F.T=null;var d=se.p;try{se.p=2,Pd(t,i,a,o)}finally{se.p=d,F.T=h}}function Q1(t,i,a,o){var h=F.T;F.T=null;var d=se.p;try{se.p=8,Pd(t,i,a,o)}finally{se.p=d,F.T=h}}function Pd(t,i,a,o){if(Nc){var h=Ld(o);if(h===null)Sd(t,i,o,Dc,a),K0(t,o);else if(Y1(h,t,i,a,o))o.stopPropagation();else if(K0(t,o),i&4&&-1<K1.indexOf(t)){for(;h!==null;){var d=Cn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=li(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var N=1<<31-mt(v);b.entanglements[1]|=N,v&=~N}Ci(d),(Qe&6)===0&&(dc=en()+500,ml(0))}}break;case 31:case 13:b=Ds(d,2),b!==null&&fn(b,d,2),gc(),jd(d,2)}if(d=Ld(o),d===null&&Sd(t,i,o,Dc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Sd(t,i,o,null,a)}}function Ld(t){return t=Rn(t),Ud(t)}var Dc=null;function Ud(t){if(Dc=null,t=di(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=g(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Dc=t,null}function Q0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gs()){case So:return 2;case Ao:return 8;case mr:case Fh:return 32;case uu:return 268435456;default:return 32}default:return 32}}var zd=!1,qr=null,Br=null,Hr=null,bl=new Map,Tl=new Map,Fr=[],K1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K0(t,i){switch(t){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(i.pointerId)}}function Sl(t,i,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Cn(i),i!==null&&F0(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Y1(t,i,a,o,h){switch(i){case"focusin":return qr=Sl(qr,t,i,a,o,h),!0;case"dragenter":return Br=Sl(Br,t,i,a,o,h),!0;case"mouseover":return Hr=Sl(Hr,t,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return bl.set(d,Sl(bl.get(d)||null,t,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,Tl.set(d,Sl(Tl.get(d)||null,t,i,a,o,h)),!0}return!1}function Y0(t){var i=di(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){G0(a)});return}}else if(i===31){if(i=g(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){G0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ld(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);jo=o,a.target.dispatchEvent(o),jo=null}else return i=Cn(a),i!==null&&F0(i),t.blockedOn=a,!1;i.shift()}return!0}function X0(t,i,a){Oc(t)&&a.delete(i)}function X1(){zd=!1,qr!==null&&Oc(qr)&&(qr=null),Br!==null&&Oc(Br)&&(Br=null),Hr!==null&&Oc(Hr)&&(Hr=null),bl.forEach(X0),Tl.forEach(X0)}function kc(t,i){t.blockedOn===i&&(t.blockedOn=null,zd||(zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,X1)))}var Mc=null;function J0(t){Mc!==t&&(Mc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mc===t&&(Mc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(Ud(o||a)===null)continue;break}var d=Cn(a);d!==null&&(t.splice(i,3),i-=3,Lf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Qa(t){function i(N){return kc(N,t)}qr!==null&&kc(qr,t),Br!==null&&kc(Br,t),Hr!==null&&kc(Hr,t),bl.forEach(i),Tl.forEach(i);for(var a=0;a<Fr.length;a++){var o=Fr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Fr.length&&(a=Fr[0],a.blockedOn===null);)Y0(a),a.blockedOn===null&&Fr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[jt]||null;if(typeof d=="function")v||J0(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[jt]||null)b=v.formAction;else if(Ud(h)!==null)continue}else b=v.action;typeof b=="function"?a[o+1]=b:(a.splice(o,3),o-=3),J0(a)}}}function $0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function qd(t){this._internalRoot=t}Vc.prototype.render=qd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=An();B0(a,o,t,i,null,null)},Vc.prototype.unmount=qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;B0(t.current,2,null,t,null,null),gc(),i[hi]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var i=gu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Fr.length&&i!==0&&i<Fr[a].priority;a++);Fr.splice(a,0,t),a===0&&Y0(t)}};var Z0=e.version;if(Z0!=="19.2.0")throw Error(s(527,Z0,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var J1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{Hn=jc.inject(J1),zt=jc}catch{}}return wl.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",h=sy,d=ay,v=oy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=z0(t,1,!1,null,null,a,o,null,h,d,v,$0),t[hi]=i.current,Td(t),new qd(i)},wl.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,h="",d=sy,v=ay,b=oy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=z0(t,1,!0,i,a??null,o,h,N,d,v,b,$0),i.context=q0(null),a=i.current,o=An(),o=vs(o),h=Ir(o),h.callback=null,Nr(a,h,o),a=o,i.current.lanes=a,ys(i,a),Ci(i),t[hi]=i.current,Td(t),new Vc(i)},wl.version="19.2.0",wl}var l_;function aS(){if(l_)return Fd.exports;l_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fd.exports=sS(),Fd.exports}var oS=aS();const lS=Fv(oS),u_=[{id:"job-1",employerId:"emp-1",title:"Auxiliar Administrativo",companyName:"Tech Solutions Ltda.",location:"So Paulo, SP",salary:"R$ 2.500,00",benefits:"Vale Transporte, Vale Refeio, Plano de Sade",workHours:"40 horas/semana",workSchedule:"Segunda a Sexta, 09h-18h",workScale:"Presencial",requirements:{education:"Ensino Mdio Completo",experience:"Mnimo de 1 ano na rea",profile:"Organizado, proativo e com boa comunicao."},postedDate:"2024-07-20",applications:[],resumePreference:"file"},{id:"job-2",employerId:"emp-2",title:"Mecnico de Manuteno",companyName:"Indstria Metalrgica Brasil",location:"Rio de Janeiro, RJ",salary:"R$ 3.800,00",benefits:"Vale Transporte, Vale Alimentao, Periculosidade",workHours:"44 horas/semana",workSchedule:"Turnos rotativos",workScale:"6x1",requirements:{education:"Curso Tcnico em Mecnica",experience:"3 anos de experincia com maquinrio pesado",profile:"Ateno aos detalhes, capacidade de trabalhar em equipe."},postedDate:"2024-07-19",applications:[],resumePreference:"both"},{id:"job-3",employerId:"emp-1",title:"Estgio em Marketing Digital",location:"Belo Horizonte, MG",salary:"R$ 1.200,00 (Bolsa auxlio)",benefits:"Vale Transporte",workHours:"30 horas/semana",workSchedule:"Flexvel",workScale:"Hbrido",requirements:{education:"Cursando Superior em Marketing, Publicidade ou reas correlatas",profile:"Criativo, com conhecimento em redes sociais e vontade de aprender."},postedDate:"2024-07-18",applications:[],resumePreference:"text"},{id:"job-4",employerId:"emp-2",title:"Jovem Aprendiz - Logstica",companyName:"Log Express",location:"Curitiba, PR",salary:"Salrio Mnimo-hora",benefits:"Vale Transporte, Curso de Capacitao",workHours:"20 horas/semana",workSchedule:"Segunda a Sexta, 13h-17h",workScale:"Presencial",requirements:{education:"Ensino Mdio Cursando ou Completo",profile:"Vontade de aprender e se desenvolver na rea de logstica."},postedDate:"2024-07-21",applications:[],resumePreference:"file"}],c_=[{id:"emp-1",companyName:"Tech Solutions Ltda.",email:"contato@techsolutions.com",password:"password123"},{id:"emp-2",companyName:"Indstria Metalrgica Brasil",email:"rh@industriametal.com.br",password:"password123"}],uS=[{title:"Cursos Gratuitos de Tecnologia Abrem Inscries",description:"A plataforma 'Futuro Digital' anunciou a abertura de 5.000 vagas para cursos online gratuitos nas reas de programao, anlise de dados e inteligncia artificial. As inscries vo at o final do ms e so abertas para todo o Brasil.",link:"https://example.com/cursos-tecnologia",source:"Futuro Digital News"},{title:"Concurso Nacional Anuncia Edital com Salrios de at R$ 15 mil",description:"Foi publicado o edital para o concurso do Tribunal de Contas Nacional, com vagas para nveis mdio e superior em diversas reas. As provas esto previstas para novembro e as inscries comeam na prxima semana.",link:"https://example.com/concurso-nacional",source:"Dirio Oficial"},{title:"Programa de Bolsas de Estudo para Universidades no Exterior",description:"O programa 'Mundo afora' est com inscries abertas para bolsas de estudo integrais para cursos de graduao e ps-graduao em universidades na Europa e Amrica do Norte. O prazo final para candidatura  30 de setembro.",link:"https://example.com/bolsas-exterior",source:"Educao Internacional"},{title:"Vestibulares de Inverno: Fique Atento aos Prazos",description:"As principais universidades estaduais e federais divulgaram os calendrios de seus vestibulares de inverno. Candidatos devem ficar atentos aos prazos de iseno de taxa e inscrio para no perderem a oportunidade.",link:"https://example.com/vestibulares-inverno",source:"Guia do Estudante"}],cS=`
<h2 class="text-2xl font-bold mb-4 text-blue-500 dark:text-blue-400">Quem Somos</h2>
<p class="mb-4 text-gray-700 dark:text-gray-300">A Job Finder Pro nasceu com a misso de simplificar e humanizar o processo de recrutamento e seleo. Acreditamos que conectar o talento certo  oportunidade certa pode transformar vidas e impulsionar negcios. Nossa plataforma foi desenhada para ser intuitiva, eficiente e acessvel tanto para candidatos em busca de novas oportunidades quanto para empresas que procuram os melhores profissionais.</p>
<h3 class="text-xl font-semibold mb-2">Nossos Servios</h3>
<ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300">
  <li><strong>Para Candidatos:</strong> Oferecemos uma vasta gama de vagas em todo o Brasil, com filtros de busca avanados, alertas de vagas personalizadas e um processo de candidatura simplificado. Tudo de forma 100% gratuita.</li>
  <li><strong>Para Empregadores:</strong> Disponibilizamos uma plataforma robusta para publicao e gerenciamento de vagas, com um painel de controle exclusivo para acompanhar candidaturas, visualizar currculos e entrar em contato com os talentos mais promissores do mercado.</li>
</ul>
<p class="mt-4 text-gray-700 dark:text-gray-300">Nosso compromisso  com a transparncia, a inovao e o sucesso de nossos usurios. Junte-se a ns e encontre hoje mesmo o seu prximo passo profissional ou o candidato ideal para sua equipe!</p>
`,hS=r=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.07a2.25 2.25 0 01-2.25 2.25H5.92a2.25 2.25 0 01-2.25-2.25v-4.07m16.5 0a2.25 2.25 0 00-2.25-2.25H5.92a2.25 2.25 0 00-2.25 2.25m16.5 0v-4.07a2.25 2.25 0 00-2.25-2.25H5.92a2.25 2.25 0 00-2.25 2.25v4.07m16.5 0a2.25 2.25 0 00-2.25-2.25H5.92a2.25 2.25 0 00-2.25 2.25m16.5 0h-1.5m-13.5 0h-1.5m15 0v-1.5A2.25 2.25 0 0018 9.75h-1.5a2.25 2.25 0 00-2.25 2.25v1.5m-6.75 0v-1.5A2.25 2.25 0 019 9.75H7.5A2.25 2.25 0 015.25 12v1.5m6.75 0h-1.5"})}),Mm=r=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),fS=()=>{const[r,e]=ie.useState(!1),[n,s]=ie.useState(!1),l=ie.useRef(null),u=ie.useContext(fr);if(!u)return null;const{setPage:f}=u,g=y=>{f(y),e(!1),s(!1)};ie.useEffect(()=>{const y=T=>{l.current&&!l.current.contains(T.target)&&s(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const _=({page:y,children:T})=>p.jsx("button",{onClick:()=>g(y),className:"text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:T});return p.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-md sticky top-0 z-50",children:[p.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex items-center justify-between h-16",children:[p.jsx("div",{className:"flex items-center",children:p.jsxs("button",{onClick:()=>g("home"),className:"flex-shrink-0 flex items-center gap-2",children:[p.jsx(hS,{className:"h-8 w-8 text-blue-600 dark:text-blue-500"}),p.jsx("span",{className:"font-bold text-xl text-gray-800 dark:text-white",children:"Job Finder Pro"})]})}),p.jsx("div",{className:"hidden md:block",children:p.jsxs("div",{className:"ml-10 flex items-baseline space-x-4",children:[p.jsx(_,{page:"home",children:"Incio"}),p.jsx(_,{page:"employer",children:"Publicar Vagas"}),p.jsxs("div",{className:"relative",ref:l,children:[p.jsx("button",{onClick:()=>s(!n),className:"text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Mais"}),n&&p.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-700 rounded-md shadow-lg z-10 border border-gray-200 dark:border-gray-600 animate-in fade-in-0 zoom-in-95 origin-top-right",children:[p.jsx("button",{onClick:()=>g("news"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-600 first:rounded-t-md transition-colors",children:"Notcias"}),p.jsx("button",{onClick:()=>g("about"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-600 transition-colors",children:"Quem Somos"}),p.jsx("button",{onClick:()=>g("feedback"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-600 transition-colors",children:"Comentrios"}),p.jsx("button",{onClick:()=>g("education"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-600 last:rounded-b-md transition-colors",children:"Educao"})]})]})]})}),p.jsx("div",{className:"-mr-2 flex md:hidden",children:p.jsxs("button",{onClick:()=>e(!r),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[p.jsx("span",{className:"sr-only",children:"Open main menu"}),r?p.jsx(Mm,{className:"block h-6 w-6"}):p.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),r&&p.jsx("div",{className:"md:hidden",children:p.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[p.jsx("button",{onClick:()=>g("home"),className:"text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium w-full text-left",children:"Incio"}),p.jsx("button",{onClick:()=>g("employer"),className:"text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium w-full text-left",children:"Publicar Vagas"}),p.jsx("button",{onClick:()=>g("news"),className:"text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium w-full text-left",children:"Notcias"}),p.jsx("button",{onClick:()=>g("about"),className:"text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium w-full text-left",children:"Quem Somos"}),p.jsx("button",{onClick:()=>g("feedback"),className:"text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium w-full text-left",children:"Comentrios"}),p.jsx("button",{onClick:()=>g("education"),className:"text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium w-full text-left",children:"Educao"})]})})]})},dS=()=>p.jsx("footer",{className:"bg-white dark:bg-gray-800 shadow-inner mt-auto",children:p.jsx("div",{className:"container mx-auto py-4 px-4 sm:px-6 lg:px-8",children:p.jsxs("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:[" ",new Date().getFullYear()," Job Finder Pro. Todos os direitos reservados."]})})}),mS=r=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]}),gS=r=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Qv=r=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6.75h1.5m-1.5 3h1.5m-1.5 3h1.5M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"})}),Kv=({className:r="h-6 w-6",filled:e=!1})=>e?p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:r,children:p.jsx("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"})}),pS=({job:r,onJobClick:e,isFavorite:n=!1,onToggleFavorite:s})=>{const l=u=>{const f=Math.floor((new Date().getTime()-new Date(u).getTime())/1e3);let g=f/31536e3;return g>1?`h ${Math.floor(g)} anos`:(g=f/2592e3,g>1?`h ${Math.floor(g)} meses`:(g=f/86400,g>1?`h ${Math.floor(g)} dias`:(g=f/3600,g>1?`h ${Math.floor(g)} horas`:(g=f/60,g>1?`h ${Math.floor(g)} minutos`:"agora mesmo"))))};return p.jsxs("div",{onClick:()=>e(r),className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 flex flex-col justify-between cursor-pointer hover:shadow-xl hover:scale-105 transition-all duration-300 relative",children:[s&&p.jsx("button",{onClick:u=>{u.stopPropagation(),s(r.id)},className:`absolute top-4 right-4 p-2 rounded-full transition-all duration-200 ${n?"text-blue-500 hover:text-blue-600 bg-blue-50 dark:bg-blue-900/20":"text-gray-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20"}`,"aria-label":n?"Remover dos favoritos":"Adicionar aos favoritos",title:n?"Remover dos favoritos":"Adicionar aos favoritos",children:p.jsx(Kv,{className:"h-5 w-5",filled:n})}),p.jsxs("div",{children:[r.jobType&&p.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-medium mb-2 ${r.jobType==="emprego"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":r.jobType==="estagio"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":r.jobType==="jovem-aprendiz"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"}`,children:r.jobType==="emprego"?"Emprego":r.jobType==="estagio"?"Estgio":r.jobType==="jovem-aprendiz"?"Jovem Aprendiz":"Curso"}),r.companyName&&p.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mb-2",children:[p.jsx(Qv,{className:"h-4 w-4 mr-2"}),p.jsx("span",{children:r.companyName})]}),p.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:r.title}),p.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300 mt-2",children:[p.jsx(mS,{className:"h-5 w-5 mr-2"}),p.jsx("span",{children:r.location})]})]}),p.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[p.jsx(gS,{className:"h-4 w-4 mr-2"}),p.jsx("span",{children:l(r.postedDate)})]}),p.jsx("div",{className:"flex items-center text-blue-600 dark:text-blue-400 font-semibold",children:"Ver Detalhes"})]})]})},yS=({job:r,onCancel:e,onSuccess:n})=>{const[s,l]=ie.useState(""),[u,f]=ie.useState(""),[g,_]=ie.useState(""),[y,T]=ie.useState(null),[A,R]=ie.useState(""),[q,Z]=ie.useState(""),ee=ie.useContext(fr),Q=ne=>{ne.target.files&&ne.target.files.length>0&&T(ne.target.files[0])},W=async ne=>{if(ne.preventDefault(),!ee)return;if(r.resumePreference==="file"&&!y){Z("Por favor, anexe seu currculo.");return}if(r.resumePreference==="text"&&!A.trim()){Z("Por favor, cole seu currculo.");return}if(r.resumePreference==="both"&&!y&&!A.trim()){Z("Por favor, anexe ou cole seu currculo.");return}Z("");let te;if(y){const ce=new FileReader;ce.readAsDataURL(y),ce.onload=()=>{te={name:y.name,type:y.type,content:ce.result},ee.addApplication(r.id,{fullName:s,email:u,phone:g,resumeFile:te,resumeText:A}),n()},ce.onerror=()=>{Z("Erro ao ler o arquivo.")}}else ee.addApplication(r.id,{fullName:s,email:u,phone:g,resumeText:A}),n()};return p.jsxs("form",{onSubmit:W,className:"space-y-4",children:[p.jsx("h3",{className:"text-xl font-bold",children:"Formulrio de Inscrio"}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium",children:"Nome Completo"}),p.jsx("input",{type:"text",value:s,onChange:ne=>l(ne.target.value),required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium",children:"E-mail"}),p.jsx("input",{type:"email",value:u,onChange:ne=>f(ne.target.value),required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium",children:"Telefone (Celular)"}),p.jsx("input",{type:"tel",value:g,onChange:ne=>_(ne.target.value),required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600"})]}),(r.resumePreference==="file"||r.resumePreference==="both")&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium",children:"Currculo (PDF, JPG)"}),p.jsx("input",{type:"file",onChange:Q,accept:".pdf,.jpg,.jpeg,.png",className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-gray-600 dark:file:text-blue-300 dark:hover:file:bg-gray-500"})]}),(r.resumePreference==="text"||r.resumePreference==="both")&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium",children:"Ou Cole seu Currculo"}),p.jsx("textarea",{value:A,onChange:ne=>R(ne.target.value),rows:8,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600"})]}),q&&p.jsx("p",{className:"text-red-500 text-sm",children:q}),p.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[p.jsx("button",{type:"button",onClick:e,className:"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium hover:bg-gray-50 dark:border-gray-600 dark:hover:bg-gray-700",children:"Cancelar"}),p.jsx("button",{type:"submit",className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Enviar Candidatura"})]})]})},ti=({label:r,value:e})=>e?p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300",children:r}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e})]}):null,_S=({job:r})=>{const[e,n]=ie.useState(!1),s=`Vaga de ${r.title} em ${r.location}${r.salary?` - ${r.salary}`:""}`,l=window.location.href,u=async()=>{try{await navigator.clipboard.writeText(`${s}
${l}`),n(!0),setTimeout(()=>n(!1),2e3)}catch(y){console.error("Erro ao copiar:",y)}},f=()=>{const y=`https://wa.me/?text=${encodeURIComponent(`${s}
${l}`)}`;window.open(y,"_blank")},g=()=>{const y=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(l)}`;window.open(y,"_blank")},_=()=>{const y=`https://twitter.com/intent/tweet?text=${encodeURIComponent(s)}&url=${encodeURIComponent(l)}`;window.open(y,"_blank")};return p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Compartilhar:"}),p.jsx("button",{onClick:f,className:"p-2 rounded-full bg-green-500 hover:bg-green-600 text-white transition-colors",title:"Compartilhar no WhatsApp",children:p.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),p.jsx("button",{onClick:g,className:"p-2 rounded-full bg-blue-700 hover:bg-blue-800 text-white transition-colors",title:"Compartilhar no LinkedIn",children:p.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),p.jsx("button",{onClick:_,className:"p-2 rounded-full bg-black hover:bg-gray-800 text-white transition-colors",title:"Compartilhar no X (Twitter)",children:p.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),p.jsx("button",{onClick:u,className:`p-2 rounded-full transition-colors ${e?"bg-green-500 text-white":"bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200"}`,title:e?"Copiado!":"Copiar link",children:e?p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})},vS=({job:r,onClose:e,isFavorite:n=!1,onToggleFavorite:s})=>{const[l,u]=ie.useState(!1),f=()=>{u(!1),e()};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[p.jsxs("div",{className:"p-6 flex justify-between items-center border-b dark:border-gray-700",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.title}),p.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[r.companyName||"Confidencial"," - ",r.location]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[s&&p.jsx("button",{onClick:()=>s(r.id),className:`p-2 rounded-full transition-all duration-200 ${n?"text-blue-500 hover:text-blue-600 bg-blue-50 dark:bg-blue-900/20":"text-gray-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20"}`,"aria-label":n?"Remover dos favoritos":"Adicionar aos favoritos",title:n?"Remover dos favoritos":"Adicionar aos favoritos",children:p.jsx(Kv,{className:"h-6 w-6",filled:n})}),p.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600","aria-label":"Fechar modal",children:p.jsx(Mm,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})})]})]}),p.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:l?p.jsx(yS,{job:r,onCancel:()=>u(!1),onSuccess:f}):p.jsxs(p.Fragment,{children:[r.jobType&&p.jsx("div",{className:"flex items-center gap-2",children:p.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.jobType==="emprego"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":r.jobType==="estagio"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":r.jobType==="jovem-aprendiz"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"}`,children:r.jobType==="emprego"?"Emprego":r.jobType==="estagio"?"Estgio":r.jobType==="jovem-aprendiz"?"Jovem Aprendiz":"Curso"})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(ti,{label:"rea/Setor",value:r.area}),p.jsx(ti,{label:"Durao",value:r.duration}),p.jsx(ti,{label:"Salrio",value:r.salary}),p.jsx(ti,{label:"Benefcios",value:r.benefits}),p.jsx(ti,{label:"Carga Horria",value:r.workHours}),p.jsx(ti,{label:"Jornada",value:r.workSchedule}),p.jsx(ti,{label:"Escala de Trabalho",value:r.workScale}),p.jsx(ti,{label:"Data de Publicao",value:new Date(r.postedDate).toLocaleDateString("pt-BR")})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-800 dark:text-gray-200",children:"Requisitos"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(ti,{label:"Escolaridade",value:r.requirements.education}),p.jsx(ti,{label:"Experincia",value:r.requirements.experience}),p.jsx(ti,{label:"Perfil Profissional",value:r.requirements.profile})]})]}),r.description&&p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-800 dark:text-gray-200",children:"Descrio da Vaga"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400 whitespace-pre-wrap",children:r.description})]}),r.courseContact&&p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-800 dark:text-gray-200",children:"Contato para Inscrio"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400 whitespace-pre-wrap",children:r.courseContact})]})]})}),!l&&p.jsxs("div",{className:"p-6 border-t dark:border-gray-700 mt-auto space-y-4",children:[p.jsx(_S,{job:r}),r.jobType!=="curso"&&r.resumePreference!=="none"&&p.jsx("button",{onClick:()=>u(!0),className:"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Candidatar-se"})]})]})})},h_="favoriteJobs",f_=()=>{const[r,e]=ie.useState(""),[n,s]=ie.useState(""),[l,u]=ie.useState(null),[f,g]=ie.useState(()=>{const Q=localStorage.getItem(h_);return Q?JSON.parse(Q):[]}),[_,y]=ie.useState(!1),T=ie.useContext(fr);if(ie.useEffect(()=>{localStorage.setItem(h_,JSON.stringify(f))},[f]),!T)return p.jsx("div",{children:"Carregando..."});const{jobs:A}=T,R=Q=>{g(W=>W.includes(Q)?W.filter(ne=>ne!==Q):[...W,Q])},q=ie.useMemo(()=>A.filter(Q=>{const W=Q.title.toLowerCase().includes(r.toLowerCase())||Q.companyName&&Q.companyName.toLowerCase().includes(r.toLowerCase()),ne=Q.location.toLowerCase().includes(n.toLowerCase()),te=!_||f.includes(Q.id);return W&&ne&&te}),[A,r,n,_,f]),Z=Q=>{u(Q)},ee=()=>{u(null)};return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[p.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 dark:text-white mb-4",children:"Sua oportunidade est aqui"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[p.jsx("input",{type:"text",placeholder:"Digite o cargo ou empresa",value:r,onChange:Q=>e(Q.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","aria-label":"Buscar por cargo ou empresa"}),p.jsx("input",{type:"text",placeholder:"Digite a cidade ou estado",value:n,onChange:Q=>s(Q.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","aria-label":"Filtrar por cidade ou estado"})]}),p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("button",{onClick:()=>y(!1),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${_?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600":"bg-blue-600 text-white"}`,children:"Todas as vagas"}),p.jsxs("button",{onClick:()=>y(!0),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${_?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-4 w-4",children:p.jsx("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"})}),"Favoritas (",f.length,")"]})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:q.length>0?q.map(Q=>p.jsx(pS,{job:Q,onJobClick:Z,isFavorite:f.includes(Q.id),onToggleFavorite:R},Q.id)):p.jsx("div",{className:"col-span-full text-center py-10",children:p.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:_?"Voc ainda no tem vagas favoritas. Clique no corao para adicionar!":"Nenhuma vaga encontrada. Tente ajustar seus filtros."})})}),l&&p.jsx(vS,{job:l,onClose:ee,isFavorite:f.includes(l.id),onToggleFavorite:R})]})},Un=({label:r,value:e,onChange:n,required:s,placeholder:l})=>p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[r,s&&" *"]}),p.jsx("input",{type:"text",value:e,onChange:u=>n(u.target.value),required:s,placeholder:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"})]}),Pc=({label:r,value:e,onChange:n,required:s,placeholder:l,rows:u=3})=>p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[r,s&&" *"]}),p.jsx("textarea",{value:e,onChange:f=>n(f.target.value),required:s,placeholder:l,rows:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"})]}),ES=({jobToEdit:r,onFinish:e})=>{const n=!!r,[s,l]=ie.useState("emprego"),[u,f]=ie.useState(""),[g,_]=ie.useState(""),[y,T]=ie.useState(""),[A,R]=ie.useState(""),[q,Z]=ie.useState(""),[ee,Q]=ie.useState(""),[W,ne]=ie.useState(""),[te,ce]=ie.useState(""),[fe,_e]=ie.useState(""),[I,x]=ie.useState(""),[C,M]=ie.useState(""),[D,V]=ie.useState(""),[w,ae]=ie.useState(""),[Ce,F]=ie.useState(""),[se,ge]=ie.useState(""),[De,ze]=ie.useState("file"),k=ie.useContext(fr),Y=()=>{l("emprego"),f(""),_(""),T(""),R(""),Z(""),Q(""),ne(""),ce(""),_e(""),x(""),M(""),V(""),ae(""),F(""),ge(""),ze("file")};ie.useEffect(()=>{r?(l(r.jobType||"emprego"),f(r.title),_(r.companyName||""),T(r.area||""),R(r.location),Z(r.duration||""),Q(r.salary||""),ne(r.benefits||""),ce(r.workHours||""),_e(r.workSchedule||""),x(r.workScale||""),M(r.requirements.education||""),V(r.requirements.experience||""),ae(r.requirements.profile||""),F(r.description||""),ge(r.courseContact||""),ze(r.resumePreference||"file")):Y()},[r]),ie.useEffect(()=>{s==="curso"?ze("none"):De==="none"&&ze("file")},[s]);const oe=Ke=>{if(Ke.preventDefault(),!k)return;const si={jobType:s,title:u,companyName:g||void 0,area:y||void 0,location:A,duration:q||void 0,salary:ee||void 0,benefits:W||void 0,workHours:te||void 0,workSchedule:fe||void 0,workScale:I||void 0,requirements:{education:C||void 0,experience:D||void 0,profile:w||void 0},description:Ce||void 0,courseContact:se||void 0,resumePreference:De};n?k.updateJob(r.id,si):k.addJob(si),Y(),e&&e()},ue=()=>{switch(s){case"curso":return"Nome da Empresa/Instituio";default:return"Nome da Empresa"}},Te=()=>{switch(s){case"curso":return"Nome do Curso";default:return"Ttulo da Vaga"}},xe=()=>{switch(s){case"emprego":return"Ex: Desenvolvedor React Snior";case"estagio":return"Ex: Estgio em Marketing Digital";case"jovem-aprendiz":return"Ex: Jovem Aprendiz Administrativo";case"curso":return"Ex: Curso de Informtica Bsica"}},Me=()=>{switch(s){case"curso":return"Ex: 01/02/2025 a 30/06/2025";default:return"Ex: 6 meses, 1 ano, 2 anos"}},dt=()=>{switch(s){case"estagio":return"Ex: Cursando ou ter concludo curso superior/tcnico em Administrao, Marketing ou reas afins";case"jovem-aprendiz":return"Ex: Idade entre 14 e 24 anos, cursando ou ter concludo ensino mdio";case"curso":return"Ex: Idade mnima 16 anos, ensino fundamental completo";default:return"Ex: Ensino superior completo"}};return p.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tipo de Vaga *"}),p.jsxs("select",{value:s,onChange:Ke=>l(Ke.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600",children:[p.jsx("option",{value:"emprego",children:"Emprego"}),p.jsx("option",{value:"estagio",children:"Estgio"}),p.jsx("option",{value:"jovem-aprendiz",children:"Jovem Aprendiz"}),p.jsx("option",{value:"curso",children:"Curso"})]})]}),p.jsx(Un,{label:Te(),value:u,onChange:f,required:!0,placeholder:xe()}),p.jsx(Un,{label:ue(),value:g,onChange:_,required:s!=="emprego",placeholder:s==="emprego"?"Ser 'Confidencial' se deixado em branco":"Ex: Empresa XYZ"}),s!=="curso"&&p.jsx(Un,{label:"rea/Setor",value:y,onChange:T,placeholder:"Ex: Tecnologia, Recursos Humanos, Financeiro"}),p.jsx(Un,{label:"Regio/Localidade",value:A,onChange:R,required:!0,placeholder:"Ex: So Paulo, SP"}),(s==="estagio"||s==="jovem-aprendiz"||s==="curso")&&p.jsx(Un,{label:s==="curso"?"Durao (Incio e Fim)":"Tempo/Durao do Contrato",value:q,onChange:Z,required:!0,placeholder:Me()}),s!=="curso"&&p.jsxs(p.Fragment,{children:[p.jsx(Un,{label:"Salrio",value:ee,onChange:Q,required:!0,placeholder:"Ex: R$ 5.000,00 ou A combinar"}),p.jsx(Un,{label:"Benefcios",value:W,onChange:ne,required:!0,placeholder:"Ex: VT, VR, Plano de Sade, Vale Alimentao"}),p.jsx(Un,{label:"Carga Horria",value:te,onChange:ce,required:!0,placeholder:s==="jovem-aprendiz"?"Ex: 20 horas/semana":"Ex: 40 horas/semana"}),p.jsx(Un,{label:"Jornada",value:fe,onChange:_e,required:!0,placeholder:"Ex: Segunda a Sexta, 09h-18h"}),p.jsx(Un,{label:"Escala de Trabalho",value:I,onChange:x,required:!0,placeholder:"Ex: Presencial, Hbrido, Remoto"})]}),p.jsx("h3",{className:"text-lg font-semibold pt-2 border-t dark:border-gray-600",children:"Requisitos"}),s==="emprego"&&p.jsxs(p.Fragment,{children:[p.jsx(Un,{label:"Escolaridade",value:C,onChange:M,placeholder:"Ex: Ensino superior completo em TI"}),p.jsx(Un,{label:"Experincia",value:D,onChange:V,placeholder:"Ex: 2 anos de experincia na rea"}),p.jsx(Pc,{label:"Perfil Profissional do Candidato",value:w,onChange:ae,placeholder:"Ex: Proativo, trabalho em equipe, boa comunicao"})]}),(s==="estagio"||s==="jovem-aprendiz"||s==="curso")&&p.jsx(Pc,{label:"Requisitos para o Candidato",value:C,onChange:M,required:!0,placeholder:dt(),rows:3}),s==="emprego"&&p.jsx(Pc,{label:"Descrio da Vaga",value:Ce,onChange:F,placeholder:"Descreva sobre a empresa (localizao, atividade, tempo de existncia), o que o candidato ir fazer, responsabilidades do cargo, etc.",rows:4}),s==="curso"&&p.jsx(Pc,{label:"Contato do Curso",value:se,onChange:ge,required:!0,placeholder:"Informe link de inscrio, telefone, e-mail ou outras formas de contato",rows:2}),s!=="curso"&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Preferncia de Currculo"}),p.jsxs("select",{value:De,onChange:Ke=>ze(Ke.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600",children:[p.jsx("option",{value:"file",children:"Apenas Arquivo (PDF, JPG)"}),p.jsx("option",{value:"text",children:"Apenas Texto"}),p.jsx("option",{value:"both",children:"Ambos (Arquivo ou Texto)"})]})]}),p.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[p.jsx("button",{type:"submit",className:`w-full py-2 px-4 text-white font-semibold rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 ${n?"bg-green-600 hover:bg-green-700 focus:ring-green-500":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}`,children:n?"Salvar Alteraes":"Publicar Vaga"}),n&&p.jsx("button",{type:"button",onClick:e,className:"w-full py-2 px-4 bg-gray-500 hover:bg-gray-600 text-white font-semibold rounded-md",children:"Cancelar"})]})]})},bS=r=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),TS=r=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),SS=r=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),AS=()=>{};var d_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},wS=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],f=r[n++],g=r[n++],_=((l&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],f=l+1<r.length,g=f?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,T=u>>2,A=(u&3)<<4|g>>4;let R=(g&15)<<2|y>>6,q=y&63;_||(q=64,f||(R=64)),s.push(n[T],n[A],n[R],n[q])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Yv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):wS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const A=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||g==null||y==null||A==null)throw new xS;const R=u<<2|g>>4;if(s.push(R),y!==64){const q=g<<4&240|y>>2;if(s.push(q),A!==64){const Z=y<<6&192|A;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class xS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CS=function(r){const e=Yv(r);return Xv.encodeByteArray(e,!0)},eh=function(r){return CS(r).replace(/\./g,"")},Jv=function(r){try{return Xv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=()=>RS().__FIREBASE_DEFAULTS__,NS=()=>{if(typeof process>"u"||typeof d_>"u")return;const r=d_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},DS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Jv(r[1]);return e&&JSON.parse(e)},vh=()=>{try{return AS()||IS()||NS()||DS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$v=r=>{var e,n;return(n=(e=vh())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},OS=r=>{const e=$v(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Zv=()=>{var r;return(r=vh())==null?void 0:r.config},Wv=r=>{var e;return(e=vh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[eh(JSON.stringify(n)),eh(JSON.stringify(f)),""].join(".")}const Ol={};function VS(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ol))Ol[e]?r.emulator.push(e):r.prod.push(e);return r}function jS(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let m_=!1;function tE(r,e){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||Ol[r]===e||Ol[r]||m_)return;Ol[r]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=VS().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function g(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function _(R,q){R.setAttribute("width","24"),R.setAttribute("id",q),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{m_=!0,f()},R}function T(R,q){R.setAttribute("id",q),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function A(){const R=jS(s),q=n("text"),Z=document.getElementById(q)||document.createElement("span"),ee=n("learnmore"),Q=document.getElementById(ee)||document.createElement("a"),W=n("preprendIcon"),ne=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const te=R.element;g(te),T(Q,ee);const ce=y();_(ne,W),te.append(ne,Z,Q,ce),document.body.appendChild(te)}u?(Z.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function LS(){var e;const r=(e=vh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function US(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function qS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BS(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function HS(){return!LS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FS(){try{return typeof indexedDB=="object"}catch{return!1}}function GS(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="FirebaseError";class hr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=QS,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?KS(u,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new hr(l,g,s)}}function KS(r,e){return r.replace(YS,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const YS=/\{\$([^}]+)}/g;function XS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ys(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=r[l],f=e[l];if(g_(u)&&g_(f)){if(!Ys(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function g_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function xl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Cl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function JS(r,e){const n=new $S(r,e);return n.subscribe.bind(n)}class $S{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");ZS(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=Yd),l.error===void 0&&(l.error=Yd),l.complete===void 0&&(l.complete=Yd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZS(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Yd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(r){return r&&r._delegate?r._delegate:r}class Xs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new kS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tA(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&f.resolve(l)}return l}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:eA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eA(r){return r===Fs?void 0:r}function tA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const iA={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},rA=Pe.INFO,sA={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},aA=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=sA[e];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vm{constructor(e){this.name=e,this._logLevel=rA,this._logHandler=aA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const oA=(r,e)=>e.some(n=>r instanceof n);let p_,y_;function lA(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uA(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nE=new WeakMap,am=new WeakMap,iE=new WeakMap,Xd=new WeakMap,jm=new WeakMap;function cA(r){const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Zr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&nE.set(n,r)}).catch(()=>{}),jm.set(e,r),e}function hA(r){if(am.has(r))return;const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});am.set(r,e)}let om={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return am.get(r);if(e==="objectStoreNames")return r.objectStoreNames||iE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function fA(r){om=r(om)}function dA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Jd(this),e,...n);return iE.set(s,e.sort?e.sort():[e]),Zr(s)}:uA().includes(r)?function(...e){return r.apply(Jd(this),e),Zr(nE.get(this))}:function(...e){return Zr(r.apply(Jd(this),e))}}function mA(r){return typeof r=="function"?dA(r):(r instanceof IDBTransaction&&hA(r),oA(r,lA())?new Proxy(r,om):r)}function Zr(r){if(r instanceof IDBRequest)return cA(r);if(Xd.has(r))return Xd.get(r);const e=mA(r);return e!==r&&(Xd.set(r,e),jm.set(e,r)),e}const Jd=r=>jm.get(r);function gA(r,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(r,e),g=Zr(f);return s&&f.addEventListener("upgradeneeded",_=>{s(Zr(f.result),_.oldVersion,_.newVersion,Zr(f.transaction),_)}),n&&f.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),g.then(_=>{u&&_.addEventListener("close",()=>u()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const pA=["get","getKey","getAll","getAllKeys","count"],yA=["put","add","delete","clear"],$d=new Map;function __(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=yA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||pA.includes(n)))return;const u=async function(f,...g){const _=this.transaction(f,l?"readwrite":"readonly");let y=_.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),l&&_.done]))[0]};return $d.set(e,u),u}fA(r=>({...r,get:(e,n,s)=>__(e,n)||r.get(e,n,s),has:(e,n)=>!!__(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function vA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lm="@firebase/app",v_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new Vm("@firebase/app"),EA="@firebase/app-compat",bA="@firebase/analytics-compat",TA="@firebase/analytics",SA="@firebase/app-check-compat",AA="@firebase/app-check",wA="@firebase/auth",xA="@firebase/auth-compat",CA="@firebase/database",RA="@firebase/data-connect",IA="@firebase/database-compat",NA="@firebase/functions",DA="@firebase/functions-compat",OA="@firebase/installations",kA="@firebase/installations-compat",MA="@firebase/messaging",VA="@firebase/messaging-compat",jA="@firebase/performance",PA="@firebase/performance-compat",LA="@firebase/remote-config",UA="@firebase/remote-config-compat",zA="@firebase/storage",qA="@firebase/storage-compat",BA="@firebase/firestore",HA="@firebase/ai",FA="@firebase/firestore-compat",GA="firebase",QA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="[DEFAULT]",KA={[lm]:"fire-core",[EA]:"fire-core-compat",[TA]:"fire-analytics",[bA]:"fire-analytics-compat",[AA]:"fire-app-check",[SA]:"fire-app-check-compat",[wA]:"fire-auth",[xA]:"fire-auth-compat",[CA]:"fire-rtdb",[RA]:"fire-data-connect",[IA]:"fire-rtdb-compat",[NA]:"fire-fn",[DA]:"fire-fn-compat",[OA]:"fire-iid",[kA]:"fire-iid-compat",[MA]:"fire-fcm",[VA]:"fire-fcm-compat",[jA]:"fire-perf",[PA]:"fire-perf-compat",[LA]:"fire-rc",[UA]:"fire-rc-compat",[zA]:"fire-gcs",[qA]:"fire-gcs-compat",[BA]:"fire-fst",[FA]:"fire-fst-compat",[HA]:"fire-vertex","fire-js":"fire-js",[GA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Map,YA=new Map,cm=new Map;function E_(r,e){try{r.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function no(r){const e=r.name;if(cm.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;cm.set(e,r);for(const n of th.values())E_(n,r);for(const n of YA.values())E_(n,r);return!0}function Pm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function zn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new Xl("app","Firebase",XA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=QA;function rE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:um,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw Wr.create("bad-app-name",{appName:String(l)});if(n||(n=Zv()),!n)throw Wr.create("no-options");const u=th.get(l);if(u){if(Ys(n,u.options)&&Ys(s,u.config))return u;throw Wr.create("duplicate-app",{appName:l})}const f=new nA(l);for(const _ of cm.values())f.addComponent(_);const g=new JA(n,s,f);return th.set(l,g),g}function sE(r=um){const e=th.get(r);if(!e&&r===um&&Zv())return rE();if(!e)throw Wr.create("no-app",{appName:r});return e}function es(r,e,n){let s=KA[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(f.join(" "));return}no(new Xs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="firebase-heartbeat-database",ZA=1,Ll="firebase-heartbeat-store";let Zd=null;function aE(){return Zd||(Zd=gA($A,ZA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ll)}catch(n){console.warn(n)}}}}).catch(r=>{throw Wr.create("idb-open",{originalErrorMessage:r.message})})),Zd}async function WA(r){try{const n=(await aE()).transaction(Ll),s=await n.objectStore(Ll).get(oE(r));return await n.done,s}catch(e){if(e instanceof hr)sr.warn(e.message);else{const n=Wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sr.warn(n.message)}}}async function b_(r,e){try{const s=(await aE()).transaction(Ll,"readwrite");await s.objectStore(Ll).put(e,oE(r)),await s.done}catch(n){if(n instanceof hr)sr.warn(n.message);else{const s=Wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});sr.warn(s.message)}}}function oE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=1024,t2=30;class n2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new r2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=T_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>t2){const f=s2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){sr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=T_(),{heartbeatsToSend:s,unsentEntries:l}=i2(this._heartbeatsCache.heartbeats),u=eh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return sr.warn(n),""}}}function T_(){return new Date().toISOString().substring(0,10)}function i2(r,e=e2){const n=[];let s=r.slice();for(const l of r){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),S_(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),S_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class r2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FS()?GS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function S_(r){return eh(JSON.stringify({version:2,heartbeats:r})).length}function s2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(r){no(new Xs("platform-logger",e=>new _A(e),"PRIVATE")),no(new Xs("heartbeat",e=>new n2(e),"PRIVATE")),es(lm,v_,r),es(lm,v_,"esm2020"),es("fire-js","")}a2("");var o2="firebase",l2="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(o2,l2,"app");function lE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u2=lE,uE=new Xl("auth","Firebase",lE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Vm("@firebase/auth");function c2(r,...e){nh.logLevel<=Pe.WARN&&nh.warn(`Auth (${ho}): ${r}`,...e)}function Fc(r,...e){nh.logLevel<=Pe.ERROR&&nh.error(`Auth (${ho}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(r,...e){throw Lm(r,...e)}function Ii(r,...e){return Lm(r,...e)}function cE(r,e,n){const s={...u2(),[e]:n};return new Xl("auth","Firebase",s).create(e,{appName:r.name})}function ir(r){return cE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return uE.create(r,...e)}function Ee(r,e,...n){if(!r)throw Lm(e,...n)}function tr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Fc(e),new Error(e)}function ar(r,e){r||tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function h2(){return A_()==="http:"||A_()==="https:"}function A_(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h2()||zS()||"connection"in navigator)?navigator.onLine:!0}function d2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=PS()||qS()}get(){return f2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(r,e){ar(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],p2=new $l(3e4,6e4);function us(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function cs(r,e,n,s,l={}){return fE(r,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const g=Jl({key:r.config.apiKey,...f}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:_,...u};return US()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&co(r.emulatorConfig.host)&&(y.credentials="include"),hE.fetch()(await dE(r,r.config.apiHost,n,g),y)})}async function fE(r,e,n){r._canInitEmulator=!1;const s={...m2,...e};try{const l=new _2(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Lc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(r,"credential-already-in-use",f);if(_==="EMAIL_EXISTS")throw Lc(r,"email-already-in-use",f);if(_==="USER_DISABLED")throw Lc(r,"user-disabled",f);const T=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw cE(r,T,y);ii(r,T)}}catch(l){if(l instanceof hr)throw l;ii(r,"network-request-failed",{message:String(l)})}}async function Zl(r,e,n,s,l={}){const u=await cs(r,e,n,s,l);return"mfaPendingCredential"in u&&ii(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function dE(r,e,n,s){const l=`${e}${n}?${s}`,u=r,f=u.config.emulator?Um(r.config,l):`${r.config.apiScheme}://${l}`;return g2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function y2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),p2.get())})}}function Lc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Ii(r,e,s);return l.customData._tokenResponse=n,l}function w_(r){return r!==void 0&&r.enterprise!==void 0}class v2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return y2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function E2(r,e){return cs(r,"GET","/v2/recaptchaConfig",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(r,e){return cs(r,"POST","/v1/accounts:delete",e)}async function ih(r,e){return cs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T2(r,e=!1){const n=Vt(r),s=await n.getIdToken(e),l=zm(s);Ee(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:kl(Wd(l.auth_time)),issuedAtTime:kl(Wd(l.iat)),expirationTime:kl(Wd(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Wd(r){return Number(r)*1e3}function zm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Jv(n);return l?JSON.parse(l):(Fc("Failed to decode base64 JWT payload"),null)}catch(l){return Fc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function x_(r){const e=zm(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof hr&&S2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function S2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(r){var A;const e=r.auth,n=await r.getIdToken(),s=await Ul(r,ih(e,{idToken:n}));Ee(s==null?void 0:s.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=(A=l.providerUserInfo)!=null&&A.length?mE(l.providerUserInfo):[],f=x2(r.providerData,u),g=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),y=g?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function w2(r){const e=Vt(r);await rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function x2(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function mE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(r,e){const n=await fE(r,{},async()=>{const s=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,f=await dE(r,l,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:s};return r.emulatorConfig&&co(r.emulatorConfig.host)&&(_.credentials="include"),hE.fetch()(f,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R2(r,e){return cs(r,"POST","/v2/accounts:revokeToken",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=x_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await C2(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new Za;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(Ee(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ni{constructor({uid:e,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new A2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new fm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return T2(this,e)}reload(){return w2(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await rh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(ir(this.auth));const e=await this.getIdToken();return await Ul(this,b2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,_=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:A,emailVerified:R,isAnonymous:q,providerData:Z,stsTokenManager:ee}=n;Ee(A&&ee,e,"internal-error");const Q=Za.fromJSON(this.name,ee);Ee(typeof A=="string",e,"internal-error"),Qr(s,e.name),Qr(l,e.name),Ee(typeof R=="boolean",e,"internal-error"),Ee(typeof q=="boolean",e,"internal-error"),Qr(u,e.name),Qr(f,e.name),Qr(g,e.name),Qr(_,e.name),Qr(y,e.name),Qr(T,e.name);const W=new ni({uid:A,auth:e,email:l,emailVerified:R,displayName:s,isAnonymous:q,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:Q,createdAt:y,lastLoginAt:T});return Z&&Array.isArray(Z)&&(W.providerData=Z.map(ne=>({...ne}))),_&&(W._redirectEventId=_),W}static async _fromIdTokenResponse(e,n,s=!1){const l=new Za;l.updateFromServerResponse(n);const u=new ni({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await rh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];Ee(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?mE(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),g=new Za;g.updateFromIdToken(s);const _=new ni({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(_,y),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new Map;function nr(r){ar(r instanceof Function,"Expected a class definition");let e=C_.get(r);return e?(ar(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,C_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gE.type="NONE";const R_=gE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(r,e,n){return`firebase:${r}:${e}:${n}`}class Wa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=Gc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Gc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ih(this.auth,{idToken:e}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Wa(nr(R_),e,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||nr(R_);const f=Gc(s,e.config.apiKey,e.name);let g=null;for(const y of n)try{const T=await y._get(f);if(T){let A;if(typeof T=="string"){const R=await ih(e,{idToken:T}).catch(()=>{});if(!R)break;A=await ni._fromGetAccountInfoResponse(e,R,T)}else A=ni._fromJSON(e,T);y!==u&&(g=A),u=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new Wa(u,e,s):(u=_[0],g&&await u._set(f,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Wa(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bE(e))return"Blackberry";if(TE(e))return"Webos";if(yE(e))return"Safari";if((e.includes("chrome/")||_E(e))&&!e.includes("edge/"))return"Chrome";if(EE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function pE(r=Wt()){return/firefox\//i.test(r)}function yE(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _E(r=Wt()){return/crios\//i.test(r)}function vE(r=Wt()){return/iemobile/i.test(r)}function EE(r=Wt()){return/android/i.test(r)}function bE(r=Wt()){return/blackberry/i.test(r)}function TE(r=Wt()){return/webos/i.test(r)}function qm(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function I2(r=Wt()){var e;return qm(r)&&!!((e=window.navigator)!=null&&e.standalone)}function N2(){return BS()&&document.documentMode===10}function SE(r=Wt()){return qm(r)||EE(r)||TE(r)||bE(r)||/windows phone/i.test(r)||vE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(r,e=[]){let n;switch(r){case"Browser":n=I_(Wt());break;case"Worker":n=`${I_(Wt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ho}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,g)=>{try{const _=e(u);f(_)}catch(_){g(_)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(r,e={}){return cs(r,"GET","/v2/passwordPolicy",us(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=6;class M2{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??k2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N_(this),this.idTokenSubscription=new N_(this),this.beforeStateQueue=new D2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{var s,l,u;if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ih(this,{idToken:e}),s=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(zn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=s==null?void 0:s._redirectEventId,_=await this.tryRedirectSignIn(e);(!f||f===g)&&(_!=null&&_.user)&&(s=_.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=d2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(ir(this));const n=e?Vt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await O2(this),n=new M2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await R2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&nr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const _=e.addObserver(n,s,l);return()=>{f=!0,_()}}else{const _=e.addObserver(n);return()=>{f=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&c2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ea(r){return Vt(r)}class N_{constructor(e){this.auth=e,this.observer=null,this.addObserver=JS(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function j2(r){Eh=r}function wE(r){return Eh.loadJS(r)}function P2(){return Eh.recaptchaEnterpriseScript}function L2(){return Eh.gapiScript}function U2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class z2{constructor(){this.enterprise=new q2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class q2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const B2="recaptcha-enterprise",xE="NO_RECAPTCHA";class H2{constructor(e){this.type=B2,this.auth=ea(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{E2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new v2(_);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(_=>{g(_)})})}function l(u,f,g){const _=window.grecaptcha;w_(_)?_.enterprise.ready(()=>{_.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(xE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new z2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(g=>{if(!n&&w_(window.grecaptcha))l(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let _=P2();_.length!==0&&(_+=g),wE(_).then(()=>{l(g,u,f)}).catch(y=>{f(y)})}}).catch(g=>{f(g)})})}}async function D_(r,e,n,s=!1,l=!1){const u=new H2(r);let f;if(l)f=xE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const _=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const _=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function dm(r,e,n,s,l){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await D_(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await D_(r,e,n,n==="getOobCode");return s(r,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(r,e){const n=Pm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Ys(u,e??{}))return l;ii(l,"already-initialized")}return n.initialize({options:e})}function G2(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(nr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Q2(r,e,n){const s=ea(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=CE(e),{host:f,port:g}=K2(e),_=g===null?"":`:${g}`,y={url:`${u}//${f}${_}/`},T=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Ys(y,s.config.emulator)&&Ys(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,co(f)?(eE(`${u}//${f}${_}`),tE("Auth",!0)):Y2()}function CE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function K2(r){const e=CE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:O_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:O_(f)}}}function O_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Y2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,n){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}async function X2(r,e){return cs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(r,e){return Zl(r,"POST","/v1/accounts:signInWithPassword",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(r,e){return Zl(r,"POST","/v1/accounts:signInWithEmailLink",us(r,e))}async function Z2(r,e){return Zl(r,"POST","/v1/accounts:signInWithEmailLink",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends Bm{constructor(e,n,s,l=null){super("password",s),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new zl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new zl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dm(e,n,"signInWithPassword",J2);case"emailLink":return $2(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dm(e,s,"signUpPassword",X2);case"emailLink":return Z2(e,{idToken:n,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(r,e){return Zl(r,"POST","/v1/accounts:signInWithIdp",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="http://localhost";class Js extends Bm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const f=new Js(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return eo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,eo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eo(e,n)}buildRequest(){const e={requestUri:W2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tw(r){const e=xl(Cl(r)).link,n=e?xl(Cl(e)).deep_link_id:null,s=xl(Cl(r)).deep_link_id;return(s?xl(Cl(s)).link:null)||s||n||e||r}class Hm{constructor(e){const n=xl(Cl(e)),s=n.apiKey??null,l=n.oobCode??null,u=ew(n.mode??null);Ee(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=tw(e);try{return new Hm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.providerId=fo.PROVIDER_ID}static credential(e,n){return zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Hm.parseLink(n);return Ee(s,"argument-error"),zl._fromEmailAndCode(e,s.code,s.tenantId)}}fo.PROVIDER_ID="password";fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends RE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Wl{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Yr.credential(n,s)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Wl{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Wl{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Jr.credential(n,s)}catch{return null}}}Jr.TWITTER_SIGN_IN_METHOD="twitter.com";Jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(r,e){return Zl(r,"POST","/v1/accounts:signUp",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await ni._fromIdTokenResponse(e,s,l),f=k_(s);return new $s({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=k_(s);return new $s({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function k_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends hr{constructor(e,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new sh(e,n,s,l)}}function IE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(r,u,e,s):u})}async function iw(r,e,n=!1){const s=await Ul(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return $s._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rw(r,e,n=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject(ir(s));const l="reauthenticate";try{const u=await Ul(r,IE(s,l,e,r),n);Ee(u.idToken,s,"internal-error");const f=zm(u.idToken);Ee(f,s,"internal-error");const{sub:g}=f;return Ee(r.uid===g,s,"user-mismatch"),$s._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ii(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NE(r,e,n=!1){if(zn(r.app))return Promise.reject(ir(r));const s="signIn",l=await IE(r,s,e),u=await $s._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}async function sw(r,e){return NE(ea(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DE(r){const e=ea(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aw(r,e,n){if(zn(r.app))return Promise.reject(ir(r));const s=ea(r),f=await dm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nw).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&DE(r),_}),g=await $s._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(g.user),g}function ow(r,e,n){return zn(r.app)?Promise.reject(ir(r)):sw(Vt(r),fo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&DE(r),s})}function lw(r,e,n,s){return Vt(r).onIdTokenChanged(e,n,s)}function uw(r,e,n){return Vt(r).beforeAuthStateChanged(e,n)}function cw(r,e,n,s){return Vt(r).onAuthStateChanged(e,n,s)}function hw(r){return Vt(r).signOut()}const ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=1e3,dw=10;class kE extends OE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,_)=>{this.notifyListeners(f,_)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);N2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,dw):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},fw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kE.type="LOCAL";const mw=kE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME extends OE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ME.type="SESSION";const VE=ME;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new bh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async y=>y(n.origin,u)),_=await gw(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((g,_)=>{const y=Fm("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(A){const R=A;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(R.data.response);break;default:clearTimeout(T),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function yw(r){Ni().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function _w(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function Ew(){return jE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="firebaseLocalStorageDb",bw=1,oh="firebaseLocalStorage",LE="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Th(r,e){return r.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function Tw(){const r=indexedDB.deleteDatabase(PE);return new eu(r).toPromise()}function mm(){const r=indexedDB.open(PE,bw);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(oh,{keyPath:LE})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(oh)?e(s):(s.close(),await Tw(),e(await mm()))})})}async function M_(r,e,n){const s=Th(r,!0).put({[LE]:e,value:n});return new eu(s).toPromise()}async function Sw(r,e){const n=Th(r,!1).get(e),s=await new eu(n).toPromise();return s===void 0?null:s.value}function V_(r,e){const n=Th(r,!0).delete(e);return new eu(n).toPromise()}const Aw=800,ww=3;class UE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>ww)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(Ew()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await _w(),!this.activeServiceWorker)return;this.sender=new pw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mm();return await M_(e,ah,"1"),await V_(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>M_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Sw(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>V_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Th(l,!1).getAll();return new eu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UE.type="LOCAL";const xw=UE;new $l(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(r,e){return e?nr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends Bm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Rw(r){return NE(r.auth,new Gm(r),r.bypassAuthState)}function Iw(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),rw(n,new Gm(r),r.bypassAuthState)}async function Nw(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),iw(n,new Gm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:f,type:g}=e;if(f){this.reject(f);return}const _={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rw;case"linkViaPopup":case"linkViaRedirect":return Nw;case"reauthViaPopup":case"reauthViaRedirect":return Iw;default:ii(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new $l(2e3,1e4);class $a extends zE{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=Fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Dw.get())};e()}}$a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="pendingRedirect",Qc=new Map;class kw extends zE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Qc.get(this.auth._key());if(!e){try{const s=await Mw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Qc.set(this.auth._key(),e)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mw(r,e){const n=Pw(e),s=jw(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function Vw(r,e){Qc.set(r._key(),e)}function jw(r){return nr(r._redirectPersistence)}function Pw(r){return Gc(Ow,r.config.apiKey,r.name)}async function Lw(r,e,n=!1){if(zn(r.app))return Promise.reject(ir(r));const s=ea(r),l=Cw(s,e),f=await new kw(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=600*1e3;class zw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qw(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!qE(e)){const l=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ii(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Uw&&this.cachedEventUids.clear(),this.cachedEventUids.has(j_(e))}saveEventToCache(e){this.cachedEventUids.add(j_(e)),this.lastProcessedEventTime=Date.now()}}function j_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function qE({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bw(r,e={}){return cs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fw=/^https?/;async function Gw(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Bw(r);for(const n of e)try{if(Qw(n))return}catch{}ii(r,"unauthorized-domain")}function Qw(r){const e=hm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!Fw.test(n))return!1;if(Hw.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=new $l(3e4,6e4);function P_(){const r=Ni().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Yw(r){return new Promise((e,n)=>{var l,u,f;function s(){P_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P_(),n(Ii(r,"network-request-failed"))},timeout:Kw.get()})}if((u=(l=Ni().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=Ni().gapi)!=null&&f.load)s();else{const g=U2("iframefcb");return Ni()[g]=()=>{gapi.load?s():n(Ii(r,"network-request-failed"))},wE(`${L2()}?onload=${g}`).catch(_=>n(_))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function Xw(r){return Kc=Kc||Yw(r),Kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new $l(5e3,15e3),$w="__/auth/iframe",Zw="emulator/auth/iframe",Ww={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ex=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tx(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Um(e,Zw):`https://${r.config.authDomain}/${$w}`,s={apiKey:e.apiKey,appName:r.name,v:ho},l=ex.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Jl(s).slice(1)}`}async function nx(r){const e=await Xw(r),n=Ni().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:tx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ww,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ii(r,"network-request-failed"),g=Ni().setTimeout(()=>{u(f)},Jw.get());function _(){Ni().clearTimeout(g),l(s)}s.ping(_).then(_,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rx=500,sx=600,ax="_blank",ox="http://localhost";class L_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lx(r,e,n,s=rx,l=sx){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const _={...ix,width:s.toString(),height:l.toString(),top:u,left:f},y=Wt().toLowerCase();n&&(g=_E(y)?ax:n),pE(y)&&(e=e||ox,_.scrollbars="yes");const T=Object.entries(_).reduce((R,[q,Z])=>`${R}${q}=${Z},`,"");if(I2(y)&&g!=="_self")return ux(e||"",g),new L_(null);const A=window.open(e||"",g,T);Ee(A,r,"popup-blocked");try{A.focus()}catch{}return new L_(A)}function ux(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="__/auth/handler",hx="emulator/auth/handler",fx=encodeURIComponent("fac");async function U_(r,e,n,s,l,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ho,eventId:l};if(e instanceof RE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",XS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))f[T]=A}if(e instanceof Wl){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const _=await r._getAppCheckToken(),y=_?`#${fx}=${encodeURIComponent(_)}`:"";return`${dx(r)}?${Jl(g).slice(1)}${y}`}function dx({config:r}){return r.emulator?Um(r,hx):`https://${r.authDomain}/${cx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="webStorageSupport";class mx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VE,this._completeRedirectFn=Lw,this._overrideRedirectResult=Vw}async _openPopup(e,n,s,l){var f;ar((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await U_(e,n,s,hm(),l);return lx(e,u,Fm())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await U_(e,n,s,hm(),l);return yw(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await nx(e),s=new zw(e);return n.register("authEvent",l=>(Ee(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(em,{type:em},l=>{var f;const u=(f=l==null?void 0:l[0])==null?void 0:f[em];u!==void 0&&n(!!u),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Gw(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SE()||yE()||qm()}}const gx=mx;var z_="@firebase/auth",q_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _x(r){no(new Xs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AE(r)},y=new V2(s,l,u,_);return G2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),no(new Xs("auth-internal",e=>{const n=ea(e.getProvider("auth").getImmediate());return(s=>new px(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(z_,q_,yx(r)),es(z_,q_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=300,Ex=Wv("authIdTokenMaxAge")||vx;let B_=null;const bx=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Ex)return;const l=n==null?void 0:n.token;B_!==l&&(B_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Tx(r=sE()){const e=Pm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=F2(r,{popupRedirectResolver:gx,persistence:[xw,mw,VE]}),s=Wv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=bx(u.toString());uw(n,f,()=>f(n.currentUser)),lw(n,g=>f(g))}}const l=$v("auth");return l&&Q2(n,`http://${l}`),n}function Sx(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}j2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const u=Ii("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",Sx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_x("Browser");var H_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ts,BE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,x){function C(){}C.prototype=x.prototype,I.F=x.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(M,D,V){for(var w=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)w[ae-2]=arguments[ae];return x.prototype[D].apply(M,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,x,C){C||(C=0);const M=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)M[D]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(D=0;D<16;++D)M[D]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=I.g[0],C=I.g[1],D=I.g[2];let V=I.g[3],w;w=x+(V^C&(D^V))+M[0]+3614090360&4294967295,x=C+(w<<7&4294967295|w>>>25),w=V+(D^x&(C^D))+M[1]+3905402710&4294967295,V=x+(w<<12&4294967295|w>>>20),w=D+(C^V&(x^C))+M[2]+606105819&4294967295,D=V+(w<<17&4294967295|w>>>15),w=C+(x^D&(V^x))+M[3]+3250441966&4294967295,C=D+(w<<22&4294967295|w>>>10),w=x+(V^C&(D^V))+M[4]+4118548399&4294967295,x=C+(w<<7&4294967295|w>>>25),w=V+(D^x&(C^D))+M[5]+1200080426&4294967295,V=x+(w<<12&4294967295|w>>>20),w=D+(C^V&(x^C))+M[6]+2821735955&4294967295,D=V+(w<<17&4294967295|w>>>15),w=C+(x^D&(V^x))+M[7]+4249261313&4294967295,C=D+(w<<22&4294967295|w>>>10),w=x+(V^C&(D^V))+M[8]+1770035416&4294967295,x=C+(w<<7&4294967295|w>>>25),w=V+(D^x&(C^D))+M[9]+2336552879&4294967295,V=x+(w<<12&4294967295|w>>>20),w=D+(C^V&(x^C))+M[10]+4294925233&4294967295,D=V+(w<<17&4294967295|w>>>15),w=C+(x^D&(V^x))+M[11]+2304563134&4294967295,C=D+(w<<22&4294967295|w>>>10),w=x+(V^C&(D^V))+M[12]+1804603682&4294967295,x=C+(w<<7&4294967295|w>>>25),w=V+(D^x&(C^D))+M[13]+4254626195&4294967295,V=x+(w<<12&4294967295|w>>>20),w=D+(C^V&(x^C))+M[14]+2792965006&4294967295,D=V+(w<<17&4294967295|w>>>15),w=C+(x^D&(V^x))+M[15]+1236535329&4294967295,C=D+(w<<22&4294967295|w>>>10),w=x+(D^V&(C^D))+M[1]+4129170786&4294967295,x=C+(w<<5&4294967295|w>>>27),w=V+(C^D&(x^C))+M[6]+3225465664&4294967295,V=x+(w<<9&4294967295|w>>>23),w=D+(x^C&(V^x))+M[11]+643717713&4294967295,D=V+(w<<14&4294967295|w>>>18),w=C+(V^x&(D^V))+M[0]+3921069994&4294967295,C=D+(w<<20&4294967295|w>>>12),w=x+(D^V&(C^D))+M[5]+3593408605&4294967295,x=C+(w<<5&4294967295|w>>>27),w=V+(C^D&(x^C))+M[10]+38016083&4294967295,V=x+(w<<9&4294967295|w>>>23),w=D+(x^C&(V^x))+M[15]+3634488961&4294967295,D=V+(w<<14&4294967295|w>>>18),w=C+(V^x&(D^V))+M[4]+3889429448&4294967295,C=D+(w<<20&4294967295|w>>>12),w=x+(D^V&(C^D))+M[9]+568446438&4294967295,x=C+(w<<5&4294967295|w>>>27),w=V+(C^D&(x^C))+M[14]+3275163606&4294967295,V=x+(w<<9&4294967295|w>>>23),w=D+(x^C&(V^x))+M[3]+4107603335&4294967295,D=V+(w<<14&4294967295|w>>>18),w=C+(V^x&(D^V))+M[8]+1163531501&4294967295,C=D+(w<<20&4294967295|w>>>12),w=x+(D^V&(C^D))+M[13]+2850285829&4294967295,x=C+(w<<5&4294967295|w>>>27),w=V+(C^D&(x^C))+M[2]+4243563512&4294967295,V=x+(w<<9&4294967295|w>>>23),w=D+(x^C&(V^x))+M[7]+1735328473&4294967295,D=V+(w<<14&4294967295|w>>>18),w=C+(V^x&(D^V))+M[12]+2368359562&4294967295,C=D+(w<<20&4294967295|w>>>12),w=x+(C^D^V)+M[5]+4294588738&4294967295,x=C+(w<<4&4294967295|w>>>28),w=V+(x^C^D)+M[8]+2272392833&4294967295,V=x+(w<<11&4294967295|w>>>21),w=D+(V^x^C)+M[11]+1839030562&4294967295,D=V+(w<<16&4294967295|w>>>16),w=C+(D^V^x)+M[14]+4259657740&4294967295,C=D+(w<<23&4294967295|w>>>9),w=x+(C^D^V)+M[1]+2763975236&4294967295,x=C+(w<<4&4294967295|w>>>28),w=V+(x^C^D)+M[4]+1272893353&4294967295,V=x+(w<<11&4294967295|w>>>21),w=D+(V^x^C)+M[7]+4139469664&4294967295,D=V+(w<<16&4294967295|w>>>16),w=C+(D^V^x)+M[10]+3200236656&4294967295,C=D+(w<<23&4294967295|w>>>9),w=x+(C^D^V)+M[13]+681279174&4294967295,x=C+(w<<4&4294967295|w>>>28),w=V+(x^C^D)+M[0]+3936430074&4294967295,V=x+(w<<11&4294967295|w>>>21),w=D+(V^x^C)+M[3]+3572445317&4294967295,D=V+(w<<16&4294967295|w>>>16),w=C+(D^V^x)+M[6]+76029189&4294967295,C=D+(w<<23&4294967295|w>>>9),w=x+(C^D^V)+M[9]+3654602809&4294967295,x=C+(w<<4&4294967295|w>>>28),w=V+(x^C^D)+M[12]+3873151461&4294967295,V=x+(w<<11&4294967295|w>>>21),w=D+(V^x^C)+M[15]+530742520&4294967295,D=V+(w<<16&4294967295|w>>>16),w=C+(D^V^x)+M[2]+3299628645&4294967295,C=D+(w<<23&4294967295|w>>>9),w=x+(D^(C|~V))+M[0]+4096336452&4294967295,x=C+(w<<6&4294967295|w>>>26),w=V+(C^(x|~D))+M[7]+1126891415&4294967295,V=x+(w<<10&4294967295|w>>>22),w=D+(x^(V|~C))+M[14]+2878612391&4294967295,D=V+(w<<15&4294967295|w>>>17),w=C+(V^(D|~x))+M[5]+4237533241&4294967295,C=D+(w<<21&4294967295|w>>>11),w=x+(D^(C|~V))+M[12]+1700485571&4294967295,x=C+(w<<6&4294967295|w>>>26),w=V+(C^(x|~D))+M[3]+2399980690&4294967295,V=x+(w<<10&4294967295|w>>>22),w=D+(x^(V|~C))+M[10]+4293915773&4294967295,D=V+(w<<15&4294967295|w>>>17),w=C+(V^(D|~x))+M[1]+2240044497&4294967295,C=D+(w<<21&4294967295|w>>>11),w=x+(D^(C|~V))+M[8]+1873313359&4294967295,x=C+(w<<6&4294967295|w>>>26),w=V+(C^(x|~D))+M[15]+4264355552&4294967295,V=x+(w<<10&4294967295|w>>>22),w=D+(x^(V|~C))+M[6]+2734768916&4294967295,D=V+(w<<15&4294967295|w>>>17),w=C+(V^(D|~x))+M[13]+1309151649&4294967295,C=D+(w<<21&4294967295|w>>>11),w=x+(D^(C|~V))+M[4]+4149444226&4294967295,x=C+(w<<6&4294967295|w>>>26),w=V+(C^(x|~D))+M[11]+3174756917&4294967295,V=x+(w<<10&4294967295|w>>>22),w=D+(x^(V|~C))+M[2]+718787259&4294967295,D=V+(w<<15&4294967295|w>>>17),w=C+(V^(D|~x))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+V&4294967295}s.prototype.v=function(I,x){x===void 0&&(x=I.length);const C=x-this.blockSize,M=this.C;let D=this.h,V=0;for(;V<x;){if(D==0)for(;V<=C;)l(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<x;)if(M[D++]=I.charCodeAt(V++),D==this.blockSize){l(this,M),D=0;break}}else for(;V<x;)if(M[D++]=I[V++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=x},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)I[x++]=this.g[C]>>>M&255;return I};function u(I,x){var C=g;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=x(I)}function f(I,x){this.h=x;const C=[];let M=!0;for(let D=I.length-1;D>=0;D--){const V=I[D]|0;M&&V==x||(C[D]=V,M=!1)}this.g=C}var g={};function _(I){return-128<=I&&I<128?u(I,function(x){return new f([x|0],x<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return Q(y(-I));const x=[];let C=1;for(let M=0;I>=C;M++)x[M]=I/C|0,C*=4294967296;return new f(x,0)}function T(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return Q(T(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(x,8));let M=A;for(let V=0;V<I.length;V+=8){var D=Math.min(8,I.length-V);const w=parseInt(I.substring(V,V+D),x);D<8?(D=y(Math.pow(x,D)),M=M.j(D).add(y(w))):(M=M.j(C),M=M.add(y(w)))}return M}var A=_(0),R=_(1),q=_(16777216);r=f.prototype,r.m=function(){if(ee(this))return-Q(this).m();let I=0,x=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);I+=(M>=0?M:4294967296+M)*x,x*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(ee(this))return"-"+Q(this).toString(I);const x=y(Math.pow(I,6));var C=this;let M="";for(;;){const D=ce(C,x).g;C=W(C,D.j(x));let V=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,Z(C))return V+M;for(;V.length<6;)V="0"+V;M=V+M}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function ee(I){return I.h==-1}r.l=function(I){return I=W(this,I),ee(I)?-1:Z(I)?0:1};function Q(I){const x=I.g.length,C=[];for(let M=0;M<x;M++)C[M]=~I.g[M];return new f(C,~I.h).add(R)}r.abs=function(){return ee(this)?Q(this):this},r.add=function(I){const x=Math.max(this.g.length,I.g.length),C=[];let M=0;for(let D=0;D<=x;D++){let V=M+(this.i(D)&65535)+(I.i(D)&65535),w=(V>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);M=w>>>16,V&=65535,w&=65535,C[D]=w<<16|V}return new f(C,C[C.length-1]&-2147483648?-1:0)};function W(I,x){return I.add(Q(x))}r.j=function(I){if(Z(this)||Z(I))return A;if(ee(this))return ee(I)?Q(this).j(Q(I)):Q(Q(this).j(I));if(ee(I))return Q(this.j(Q(I)));if(this.l(q)<0&&I.l(q)<0)return y(this.m()*I.m());const x=this.g.length+I.g.length,C=[];for(var M=0;M<2*x;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<I.g.length;D++){const V=this.i(M)>>>16,w=this.i(M)&65535,ae=I.i(D)>>>16,Ce=I.i(D)&65535;C[2*M+2*D]+=w*Ce,ne(C,2*M+2*D),C[2*M+2*D+1]+=V*Ce,ne(C,2*M+2*D+1),C[2*M+2*D+1]+=w*ae,ne(C,2*M+2*D+1),C[2*M+2*D+2]+=V*ae,ne(C,2*M+2*D+2)}for(I=0;I<x;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=x;I<2*x;I++)C[I]=0;return new f(C,0)};function ne(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function te(I,x){this.g=I,this.h=x}function ce(I,x){if(Z(x))throw Error("division by zero");if(Z(I))return new te(A,A);if(ee(I))return x=ce(Q(I),x),new te(Q(x.g),Q(x.h));if(ee(x))return x=ce(I,Q(x)),new te(Q(x.g),x.h);if(I.g.length>30){if(ee(I)||ee(x))throw Error("slowDivide_ only works with positive integers.");for(var C=R,M=x;M.l(I)<=0;)C=fe(C),M=fe(M);var D=_e(C,1),V=_e(M,1);for(M=_e(M,2),C=_e(C,2);!Z(M);){var w=V.add(M);w.l(I)<=0&&(D=D.add(C),V=w),M=_e(M,1),C=_e(C,1)}return x=W(I,D.j(x)),new te(D,x)}for(D=A;I.l(x)>=0;){for(C=Math.max(1,Math.floor(I.m()/x.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),V=y(C),w=V.j(x);ee(w)||w.l(I)>0;)C-=M,V=y(C),w=V.j(x);Z(V)&&(V=R),D=D.add(V),I=W(I,w)}return new te(D,I)}r.B=function(I){return ce(this,I).h},r.and=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)&I.i(M);return new f(C,this.h&I.h)},r.or=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)|I.i(M);return new f(C,this.h|I.h)},r.xor=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)^I.i(M);return new f(C,this.h^I.h)};function fe(I){const x=I.g.length+1,C=[];for(let M=0;M<x;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new f(C,I.h)}function _e(I,x){const C=x>>5;x%=32;const M=I.g.length-C,D=[];for(let V=0;V<M;V++)D[V]=x>0?I.i(V+C)>>>x|I.i(V+C+1)<<32-x:I.i(V+C);return new f(D,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,BE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,ts=f}).apply(typeof H_<"u"?H_:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HE,Rl,FE,Yc,gm,GE,QE,KE;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var m=0;m<c.length;++m){var E=c[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function l(c,m){if(m)e:{var E=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var P=c[S];if(!(P in E))break e;E=E[P]}c=c[c.length-1],S=E[c],m=m(S),m!=S&&m!=null&&e(E,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var E=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&E.push([S,m[S]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,E){return c.call.apply(c.bind,arguments)}function y(c,m,E){return y=_,y.apply(null,arguments)}function T(c,m){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,m){function E(){}E.prototype=m.prototype,c.Z=m.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(S,P,B){for(var re=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)re[Re-2]=arguments[Re];return m.prototype[P].apply(S,re)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function q(c){const m=c.length;if(m>0){const E=Array(m);for(let S=0;S<m;S++)E[S]=c[S];return E}return[]}function Z(c,m){for(let S=1;S<arguments.length;S++){const P=arguments[S];var E=typeof P;if(E=E!="object"?E:P?Array.isArray(P)?"array":E:"null",E=="array"||E=="object"&&typeof P.length=="number"){E=c.length||0;const B=P.length||0;c.length=E+B;for(let re=0;re<B;re++)c[E+re]=P[re]}else c.push(P)}}class ee{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Q(c){f.setTimeout(()=>{throw c},0)}function W(){var c=I;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ne{constructor(){this.h=this.g=null}add(m,E){const S=te.get();S.set(m,E),this.h?this.h.next=S:this.g=S,this.h=S}}var te=new ee(()=>new ce,c=>c.reset());class ce{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,_e=!1,I=new ne,x=()=>{const c=Promise.resolve(void 0);fe=()=>{c.then(C)}};function C(){for(var c;c=W();){try{c.h.call(c.g)}catch(E){Q(E)}var m=te;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}_e=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,m),f.removeEventListener("test",E,m)}catch{}return c})();function w(c){return/^[\s\xa0]*$/.test(c)}function ae(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}A(ae,D),ae.prototype.init=function(c,m){const E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(E=="mouseover"?m=c.fromElement:E=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),F=0;function se(c,m,E,S,P){this.listener=c,this.proxy=null,this.src=m,this.type=E,this.capture=!!S,this.ha=P,this.key=++F,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function De(c,m,E){for(const S in c)m.call(E,c[S],S,c)}function ze(c,m){for(const E in c)m.call(void 0,c[E],E,c)}function k(c){const m={};for(const E in c)m[E]=c[E];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,m){let E,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(E in S)c[E]=S[E];for(let B=0;B<Y.length;B++)E=Y[B],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,m,E,S,P){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const re=xe(c,m,S,P);return re>-1?(m=c[re],E||(m.fa=!1)):(m=new se(m,this.src,B,!!S,P),m.fa=E,c.push(m)),m};function Te(c,m){const E=m.type;if(E in c.g){var S=c.g[E],P=Array.prototype.indexOf.call(S,m,void 0),B;(B=P>=0)&&Array.prototype.splice.call(S,P,1),B&&(ge(m),c.g[E].length==0&&(delete c.g[E],c.h--))}}function xe(c,m,E,S){for(let P=0;P<c.length;++P){const B=c[P];if(!B.da&&B.listener==m&&B.capture==!!E&&B.ha==S)return P}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),dt={};function Ke(c,m,E,S,P){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Ke(c,m[B],E,S,P);return null}return E=To(E),c&&c[Ce]?c.J(m,E,g(S)?!!S.capture:!1,P):si(c,m,E,!1,S,P)}function si(c,m,E,S,P,B){if(!m)throw Error("Invalid event type");const re=g(P)?!!P.capture:!!P;let Re=ms(c);if(Re||(c[Me]=Re=new ue(c)),E=Re.add(m,E,S,re,B),E.proxy)return E;if(S=ia(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)V||(P=re),P===void 0&&(P=!1),c.addEventListener(m.toString(),S,P);else if(c.attachEvent)c.attachEvent(ai(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ia(){function c(E){return m.call(c.src,c.listener,E)}const m=Eo;return c}function ra(c,m,E,S,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)ra(c,m[B],E,S,P);else S=g(S)?!!S.capture:!!S,E=To(E),c&&c[Ce]?(c=c.i,B=String(m).toString(),B in c.g&&(m=c.g[B],E=xe(m,E,S,P),E>-1&&(ge(m[E]),Array.prototype.splice.call(m,E,1),m.length==0&&(delete c.g[B],c.h--)))):c&&(c=ms(c))&&(m=c.g[m.toString()],c=-1,m&&(c=xe(m,E,S,P)),(E=c>-1?m[c]:null)&&sa(E))}function sa(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Ce])Te(m.i,c);else{var E=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(E,S,c.capture):m.detachEvent?m.detachEvent(ai(E),S):m.addListener&&m.removeListener&&m.removeListener(S),(E=ms(m))?(Te(E,c),E.h==0&&(E.src=null,m[Me]=null)):ge(c)}}}function ai(c){return c in dt?dt[c]:dt[c]="on"+c}function Eo(c,m){if(c.da)c=!0;else{m=new ae(m,this);const E=c.listener,S=c.ha||c.src;c.fa&&sa(c),c=E.call(S,m)}return c}function ms(c){return c=c[Me],c instanceof ue?c:null}var bo="__closure_events_fn_"+(Math.random()*1e9>>>0);function To(c){return typeof c=="function"?c:(c[bo]||(c[bo]=function(m){return c.handleEvent(m)}),c[bo])}function Et(){M.call(this),this.i=new ue(this),this.M=this,this.G=null}A(Et,M),Et.prototype[Ce]=!0,Et.prototype.removeEventListener=function(c,m,E,S){ra(this,c,m,E,S)};function Ot(c,m){var E,S=c.G;if(S)for(E=[];S;S=S.G)E.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var P=m;m=new D(S,c),oe(m,P)}P=!0;let B,re;if(E)for(re=E.length-1;re>=0;re--)B=m.g=E[re],P=dr(B,S,!0,m)&&P;if(B=m.g=c,P=dr(B,S,!0,m)&&P,P=dr(B,S,!1,m)&&P,E)for(re=0;re<E.length;re++)B=m.g=E[re],P=dr(B,S,!1,m)&&P}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const E=c.g[m];for(let S=0;S<E.length;S++)ge(E[S]);delete c.g[m],c.h--}}this.G=null},Et.prototype.J=function(c,m,E,S){return this.i.add(String(c),m,!1,E,S)},Et.prototype.K=function(c,m,E,S){return this.i.add(String(c),m,!0,E,S)};function dr(c,m,E,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let B=0;B<m.length;++B){const re=m[B];if(re&&!re.da&&re.capture==E){const Re=re.listener,gt=re.ha||re.src;re.fa&&Te(c.i,re),P=Re.call(gt,S)!==!1&&P}}return P&&!S.defaultPrevented}function Hh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function lu(c){c.g=Hh(()=>{c.g=null,c.i&&(c.i=!1,lu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class en extends M{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(c){M.call(this),this.h=c,this.g={}}A(gs,M);var So=[];function Ao(c){De(c.g,function(m,E){this.g.hasOwnProperty(E)&&sa(m)},c),c.g={}}gs.prototype.N=function(){gs.Z.N.call(this),Ao(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mr=f.JSON.stringify,Fh=f.JSON.parse,uu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function cu(){}function hu(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){D.call(this,"d")}A(zt,D);function xn(){D.call(this,"c")}A(xn,D);var mt={},fu=null;function aa(){return fu=fu||new Et}mt.Ia="serverreachability";function du(c){D.call(this,mt.Ia,c)}A(du,D);function oi(c){const m=aa();Ot(m,new du(m))}mt.STAT_EVENT="statevent";function ps(c,m){D.call(this,mt.STAT_EVENT,c),this.stat=m}A(ps,D);function bt(c){const m=aa();Ot(m,new ps(m,c))}mt.Ja="timingevent";function li(c,m){D.call(this,mt.Ja,c),this.size=m}A(li,D);function ui(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Gh(c,m,E,S,P,B){c.info(function(){if(c.g)if(B){var re="",Re=B.split("&");for(let Ge=0;Ge<Re.length;Ge++){var gt=Re[Ge].split("=");if(gt.length>1){const ot=gt[0];gt=gt[1];const Nn=ot.split("_");re=Nn.length>=2&&Nn[1]=="type"?re+(ot+"="+gt+"&"):re+(ot+"=redacted&")}}}else re=null;else re=B;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+m+`
`+E+`
`+re})}function mu(c,m,E,S,P,B,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+m+`
`+E+`
`+B+" "+re})}function ci(c,m,E,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Qh(c,E)+(S?" "+S:"")})}function ys(c,m){c.info(function(){return"TIMEOUT: "+m})}Fn.prototype.info=function(){};function Qh(c,m){if(!c.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var E=B[c];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return mr(B)}catch{return m}}var _s={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xo;function vs(){}A(vs,cu),vs.prototype.g=function(){return new XMLHttpRequest},xo=new vs;function ji(c){return encodeURIComponent(String(c))}function gu(c){var m=1;c=c.split(":");const E=[];for(;m>0&&c.length;)E.push(c.shift()),m--;return c.length&&E.push(c.join(":")),E}function Gn(c,m,E,S){this.j=c,this.i=m,this.l=E,this.S=S||1,this.V=new gs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var Tt={},jt={};function hi(c,m,E){c.M=1,c.A=Es(At(m)),c.u=E,c.R=!0,oa(c,null)}function oa(c,m){c.F=Date.now(),fi(c),c.B=At(c.A);var E=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ha(E.i,"t",S),c.C=0,E=c.j.L,c.h=new Qn,c.g=Nu(c.j,E?m:null,!c.u),c.P>0&&(c.O=new en(y(c.Y,c,c.g),c.P)),m=c.V,E=c.g,S=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(So[0]=P.toString()),P=So);for(let B=0;B<P.length;B++){const re=Ke(E,P[B],S||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),oi(),Gh(c.i,c.v,c.B,c.l,c.S,c.u)}Gn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Xn(c)==3?m.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)e:{const Re=Xn(this.g),gt=this.g.ya(),Ge=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||Re!=4||gt==7||(gt==8||Ge<=0?oi(3):oi(2)),di(this);var m=this.g.ca();this.X=m;var E=Kh(this);if(this.o=m==200,mu(this.i,this.v,this.B,this.l,this.S,Re,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(S)){var B=S;break t}}B=null}if(c=B)ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,c);else{this.o=!1,this.m=3,bt(12),pn(this),Cn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<E.length;)if(ot=yu(this,E),ot==jt){Re==4&&(this.m=4,bt(14),c=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,bt(15),ci(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else ci(this.i,this.l,ot,null),mi(this,ot);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||E.length!=0||this.h.h||(this.m=1,bt(16),c=!1),this.o=this.o&&c,!c)ci(this.i,this.l,E,"[Invalid Chunked Response]"),pn(this),Cn(this);else if(E.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),qo(re),re.P=!0,bt(11))}}else ci(this.i,this.l,E,null),mi(this,E);Re==4&&pn(this),this.o&&!this.K&&(Re==4?xu(this.j,this):(this.o=!1,fi(this)))}else Li(this.g),m==400&&E.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),pn(this),Cn(this)}}}catch{}finally{}};function Kh(c){if(!pu(c))return c.g.la();const m=qt(c.g);if(m==="")return"";let E="";const S=m.length,P=Xn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Cn(c),"";c.h.i=new f.TextDecoder}for(let B=0;B<S;B++)c.h.h=!0,E+=c.h.i.decode(m[B],{stream:!(P&&B==S-1)});return m.length=0,c.h.g+=E,c.C=0,c.h.g}function pu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function yu(c,m){var E=c.C,S=m.indexOf(`
`,E);return S==-1?jt:(E=Number(m.substring(E,S)),isNaN(E)?Tt:(S+=1,S+E>m.length?jt:(m=m.slice(S,S+E),c.C=S+E,m)))}Gn.prototype.cancel=function(){this.K=!0,pn(this)};function fi(c){c.T=Date.now()+c.H,la(c,c.H)}function la(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ui(y(c.aa,c),m)}function di(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Gn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ys(this.i,this.B),this.M!=2&&(oi(),bt(17)),pn(this),this.m=2,Cn(this)):la(this,this.T-c)};function Cn(c){c.j.I==0||c.K||xu(c.j,c)}function pn(c){di(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Ao(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function mi(c,m){try{var E=c.j;if(E.I!=0&&(E.g==c||pi(E.h,c))){if(!c.L&&pi(E.h,c)&&E.I==3){try{var S=E.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)pa(E),Tr(E);else break e;Cs(E),bt(18)}}else E.xa=P[1],0<E.xa-E.K&&P[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ui(y(E.Va,E),6e3));gi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ti(E,11)}else if((c.L||E.g==c)&&pa(E),!w(m))for(P=E.Ba.g.parse(m),m=0;m<P.length;m++){let Ge=P[m];const ot=Ge[0];if(!(ot<=E.K))if(E.K=ot,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const Nn=Ge[3];Nn!=null&&(E.ka=Nn,E.j.info("VER="+E.ka));const Si=Ge[4];Si!=null&&(E.za=Si,E.j.info("SVER="+E.za));const Jn=Ge[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(S=1.5*Jn,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const $n=c.g;if($n){const Rs=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rs){var B=S.h;B.g||Rs.indexOf("spdy")==-1&&Rs.indexOf("quic")==-1&&Rs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Io(B,B.h),B.h=null))}if(S.G){const ya=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(S.wa=ya,Xe(S.J,S.G,ya))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var re=c;if(S.na=Iu(S,S.L?S.ba:null,S.W),re.L){No(S.h,re);var Re=re,gt=S.O;gt&&(Re.H=gt),Re.D&&(di(Re),fi(Re)),S.g=re}else Au(S);E.i.length>0&&bi(E)}else Ge[0]!="stop"&&Ge[0]!="close"||Ti(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ti(E,7):Uo(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}oi(4)}catch{}}var St=class{constructor(c,m){this.g=c,this.map=m}};function Co(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function pi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Io(c,m){c.g?c.g.add(m):c.h=m}function No(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Co.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Do(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const E of c.g.values())m=m.concat(E.G);return m}return q(c.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(c,m){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const S=c[E].indexOf("=");let P,B=null;S>=0?(P=c[E].substring(0,S),B=c[E].substring(S+1)):P=c[E],m(P,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof yn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,gr(this,c.u),this.h=c.h,Oo(this,Tu(c.i)),this.m=c.m):c&&(m=String(c).match(_u))?(this.l=!1,Pt(this,m[1]||"",!0),this.o=yi(m[2]||""),this.g=yi(m[3]||"",!0),gr(this,m[4]),this.h=yi(m[5]||"",!0),Oo(this,m[6]||"",!0),this.m=yi(m[7]||"")):(this.l=!1,this.i=new yr(null,this.l))}yn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(bs(m,ca,!0),":");var E=this.g;return(E||m=="file")&&(c.push("//"),(m=this.o)&&c.push(bs(m,ca,!0),"@"),c.push(ji(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(bs(E,E.charAt(0)=="/"?ko:vu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",bs(E,Eu)),c.join("")},yn.prototype.resolve=function(c){const m=At(this);let E=!!c.j;E?Pt(m,c.j):E=!!c.o,E?m.o=c.o:E=!!c.g,E?m.g=c.g:E=c.u!=null;var S=c.h;if(E)gr(m,c.u);else if(E=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=m.h.lastIndexOf("/");P!=-1&&(S=m.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const B=[];for(let re=0;re<P.length;){const Re=P[re++];Re=="."?S&&re==P.length&&B.push(""):Re==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),S&&re==P.length&&B.push("")):(B.push(Re),S=!0)}S=B.join("/")}else S=P}return E?m.h=S:E=c.i.toString()!=="",E?Oo(m,Tu(c.i)):E=!!c.m,E&&(m.m=c.m),m};function At(c){return new yn(c)}function Pt(c,m,E){c.j=E?yi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function gr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Oo(c,m,E){m instanceof yr?(c.i=m,fa(c.i,c.l)):(E||(m=bs(m,pr)),c.i=new yr(m,c.l))}function Xe(c,m,E){c.i.set(m,E)}function Es(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function yi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bs(c,m,E){return typeof c=="string"?(c=encodeURI(c).replace(m,an),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ca=/[#\/\?@]/g,vu=/[#\?:]/g,ko=/[#\?]/g,pr=/[#\?@]/g,Eu=/#/g;function yr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&ua(c.i,function(m,E){c.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}r=yr.prototype,r.add=function(c,m){on(this),this.i=null,c=_r(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(m),this.h+=1,this};function bu(c,m){on(c),m=_r(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Mo(c,m){return on(c),m=_r(c,m),c.g.has(m)}r.forEach=function(c,m){on(this),this.g.forEach(function(E,S){E.forEach(function(P){c.call(m,P,S,this)},this)},this)};function Vo(c,m){on(c);let E=[];if(typeof m=="string")Mo(c,m)&&(E=E.concat(c.g.get(_r(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)E=E.concat(c[m]);return E}r.set=function(c,m){return on(this),this.i=null,c=_r(this,c),Mo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Vo(this,c),c.length>0?String(c[0]):m):m};function ha(c,m,E){bu(c,m),E.length>0&&(c.i=null,c.g.set(_r(c,m),q(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var E=m[S];const P=ji(E);E=Vo(this,E);for(let B=0;B<E.length;B++){let re=P;E[B]!==""&&(re+="="+ji(E[B])),c.push(re)}}return this.i=c.join("&")};function Tu(c){const m=new yr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function _r(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function fa(c,m){m&&!c.j&&(on(c),c.i=null,c.g.forEach(function(E,S){const P=S.toLowerCase();S!=P&&(bu(this,S),ha(this,P,E))},c)),c.j=m}function Kn(c,m){const E=new Fn;if(f.Image){const S=new Image;S.onload=T(Rn,E,"TestLoadImage: loaded",!0,m,S),S.onerror=T(Rn,E,"TestLoadImage: error",!1,m,S),S.onabort=T(Rn,E,"TestLoadImage: abort",!1,m,S),S.ontimeout=T(Rn,E,"TestLoadImage: timeout",!1,m,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function jo(c,m){const E=new Fn,S=new AbortController,P=setTimeout(()=>{S.abort(),Rn(E,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(B=>{clearTimeout(P),B.ok?Rn(E,"TestPingServer: ok",!0,m):Rn(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Rn(E,"TestPingServer: error",!1,m)})}function Rn(c,m,E,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(E)}catch{}}function vr(){this.g=new uu}function _i(c){this.i=c.Sb||null,this.h=c.ab||!1}A(_i,cu),_i.prototype.g=function(){return new Ts(this.i,this.h)};function Ts(c,m){Et.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ts,Et),r=Ts.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Yn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Er(this):Yn(this),this.readyState==3&&da(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Er(this))},r.Na=function(c){this.g&&(this.response=c,Er(this))},r.ga=function(){this.g&&Er(this)};function Er(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=m.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let m="";return De(c,function(E,S){m+=S,m+=":",m+=E,m+=`\r
`}),m}function Ss(c,m,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=In(E),typeof c=="string"?E!=null&&ji(E):Xe(c,m,E))}function Ze(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Ze,Et);var vi=/^https?$/i,Po=["POST","PUT"];r=Ze.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xo.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){As(this,B);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)E.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())E.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(B=>B.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Po,m,void 0)>=0)||S||P||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,re]of E)this.g.setRequestHeader(B,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){As(this,B)}};function As(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Lo(c),Pi(c)}function Lo(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Pi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),Ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ws(this):this.Xa())},r.Xa=function(){ws(this)};function ws(c){if(c.h&&typeof u<"u"){if(c.v&&Xn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const B=c.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var S;if(S=B===0){let re=String(c.D).match(_u)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),S=!vi.test(re?re.toLowerCase():"")}E=S}if(E)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var P=Xn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Lo(c)}}finally{Pi(c)}}}}function Pi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,m||Ot(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Fh(m)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(c){const m={};c=(c.g&&Xn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(w(c[S]))continue;var E=gu(c[S]);const P=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const B=m[P]||[];m[P]=B,B.push(E)}ze(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(c,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||m}function br(c){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,c),this.Za=Ei("retryDelaySeedMs",1e4,c),this.Ta=Ei("forwardChannelMaxRetries",2,c),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Co(c&&c.concurrentRequestLimit),this.Ba=new vr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=br.prototype,r.ka=8,r.I=1,r.connect=function(c,m,E,S){bt(0),this.W=c,this.H=m||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=Iu(this,null,this.W),bi(this)};function Uo(c){if(ma(c),c.I==3){var m=c.V++,E=At(c.J);if(Xe(E,"SID",c.M),Xe(E,"RID",m),Xe(E,"TYPE","terminate"),xs(c,E),m=new Gn(c,c.j,m),m.M=2,m.A=Es(At(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=m.A,E=!0),E||(m.g=Nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),fi(m)}Ru(c)}function Tr(c){c.g&&(qo(c),c.g.cancel(),c.g=null)}function ma(c){Tr(c),c.v&&(f.clearTimeout(c.v),c.v=null),pa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function bi(c){if(!Ro(c.h)&&!c.m){c.m=!0;var m=c.Ea;fe||x(),_e||(fe(),_e=!0),I.add(m,c),c.D=0}}function ga(c,m){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ui(y(c.Ea,c,m),Cu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Gn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=k(B),oe(B,this.U)):B=this.U),this.u!==null||this.R||(P.J=B,B=null),this.S)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=Su(this,P,m),E=At(this.J),Xe(E,"RID",c),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),xs(this,E),B&&(this.R?m="headers="+ji(In(B))+"&"+m:this.u&&Ss(E,this.u,B)),Io(this.h,P),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",m),Xe(E,"SID","null"),P.U=!0,hi(P,E,null)):hi(P,E,m),this.I=2}}else this.I==3&&(c?zo(this,c):this.i.length==0||Ro(this.h)||zo(this))};function zo(c,m){var E;m?E=m.l:E=c.V++;const S=At(c.J);Xe(S,"SID",c.M),Xe(S,"RID",E),Xe(S,"AID",c.K),xs(c,S),c.u&&c.o&&Ss(S,c.u,c.o),E=new Gn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Su(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Io(c.h,E),hi(E,S,m)}function xs(c,m){c.H&&De(c.H,function(E,S){Xe(m,S,E)}),c.l&&De({},function(E,S){Xe(m,S,E)})}function Su(c,m,E){E=Math.min(c.i.length,E);const S=c.l?y(c.l.Ka,c.l,c):null;e:{var P=c.i;let Re=-1;for(;;){const gt=["count="+E];Re==-1?E>0?(Re=P[0].g,gt.push("ofs="+Re)):Re=0:gt.push("ofs="+Re);let Ge=!0;for(let ot=0;ot<E;ot++){var B=P[ot].g;const Nn=P[ot].map;if(B-=Re,B<0)Re=Math.max(0,P[ot].g-100),Ge=!1;else try{B="req"+B+"_"||"";try{var re=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Si,Jn]of re){let $n=Jn;g(Jn)&&($n=mr(Jn)),gt.push(B+Si+"="+encodeURIComponent($n))}}catch(Si){throw gt.push(B+"type="+encodeURIComponent("_badmap")),Si}}catch{S&&S(Nn)}}if(Ge){re=gt.join("&");break e}}re=void 0}return c=c.i.splice(0,E),m.G=c,re}function Au(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;fe||x(),_e||(fe(),_e=!0),I.add(m,c),c.A=0}}function Cs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ui(y(c.Da,c),Cu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ui(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Tr(this),wu(this))};function qo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function wu(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=At(c.na);Xe(m,"RID","rpc"),Xe(m,"SID",c.M),Xe(m,"AID",c.K),Xe(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(m,"TO",c.ia),Xe(m,"TYPE","xmlhttp"),xs(c,m),c.u&&c.o&&Ss(m,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Es(At(m)),E.u=null,E.R=!0,oa(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Tr(this),Cs(this),bt(19))};function pa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function xu(c,m){var E=null;if(c.g==m){pa(c),qo(c),c.g=null;var S=2}else if(pi(c.h,m))E=m.G,No(c.h,m),S=1;else return;if(c.I!=0){if(m.o)if(S==1){E=m.u?m.u.length:0,m=Date.now()-m.F;var P=c.D;S=aa(),Ot(S,new li(S,E)),bi(c)}else Au(c);else if(P=m.m,P==3||P==0&&m.X>0||!(S==1&&ga(c,m)||S==2&&Cs(c)))switch(E&&E.length>0&&(m=c.h,m.i=m.i.concat(E)),P){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function Cu(c,m){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*m}function Ti(c,m){if(c.j.info("Error code "+m),m==2){var E=y(c.bb,c),S=c.Ua;const P=!S;S=new yn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(S,"https"),Es(S),P?Kn(S.toString(),E):jo(S.toString(),E)}else bt(2);c.I=0,c.l&&c.l.pa(m),Ru(c),ma(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Ru(c){if(c.I=0,c.ja=[],c.l){const m=Do(c.h);(m.length!=0||c.i.length!=0)&&(Z(c.ja,m),Z(c.ja,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.oa()}}function Iu(c,m,E){var S=E instanceof yn?At(E):new yn(E);if(S.g!="")m&&(S.g=m+"."+S.g),gr(S,S.u);else{var P=f.location;S=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const B=new yn(null);S&&Pt(B,S),m&&(B.g=m),P&&gr(B,P),E&&(B.h=E),S=B}return E=c.G,m=c.wa,E&&m&&Xe(S,E,m),Xe(S,"VER",c.ka),xs(c,S),S}function Nu(c,m,E){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Ze(new _i({ab:E})):new Ze(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}r=Du.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Sr(){}Sr.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){Et.call(this),this.g=new br(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!w(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ui(this)}A(tn,Et),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Uo(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=mr(c),c=E);m.i.push(new St(m.Ya++,c)),m.I==3&&bi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,tn.Z.N.call(this)};function Ou(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const E in m){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}A(Ou,zt);function ku(){xn.call(this),this.status=1}A(ku,xn);function Ui(c){this.g=c}A(Ui,Du),Ui.prototype.ra=function(){Ot(this.g,"a")},Ui.prototype.qa=function(c){Ot(this.g,new Ou(c))},Ui.prototype.pa=function(c){Ot(this.g,new ku)},Ui.prototype.oa=function(){Ot(this.g,"b")},Sr.prototype.createWebChannel=Sr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,KE=function(){return new Sr},QE=function(){return aa()},GE=mt,gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,Yc=_s,wo.COMPLETE="complete",FE=wo,hu.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Rl=hu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,HE=Ze}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const F_="@firebase/firestore",G_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new Vm("@firebase/firestore");function Ka(){return Zs.logLevel}function he(r,...e){if(Zs.logLevel<=Pe.DEBUG){const n=e.map(Qm);Zs.debug(`Firestore (${mo}): ${r}`,...n)}}function or(r,...e){if(Zs.logLevel<=Pe.ERROR){const n=e.map(Qm);Zs.error(`Firestore (${mo}): ${r}`,...n)}}function io(r,...e){if(Zs.logLevel<=Pe.WARN){const n=e.map(Qm);Zs.warn(`Firestore (${mo}): ${r}`,...n)}}function Qm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,YE(r,s,n)}function YE(r,e,n){let s=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw or(s),new Error(s)}function Ye(r,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||YE(e,l,s)}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ax{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($t.UNAUTHENTICATED)))}shutdown(){}}class wx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class xx{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let u=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new rr,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const _=u;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new rr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new XE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class Cx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Rx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Cx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ix{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const l=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Q_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=Nx(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=e.charAt(l[u]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function pm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const l=r.charAt(s),u=e.charAt(s);if(l!==u)return tm(l)===tm(u)?Le(l,u):tm(l)?1:-1}return Le(r.length,e.length)}const Dx=55296,Ox=57343;function tm(r){const e=r.charCodeAt(0);return e>=Dx&&e<=Ox}function ro(r,e,n){return r.length===e.length&&r.every(((s,l)=>n(s,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="__name__";class Ri{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=Ri.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const s=Ri.isNumericId(e),l=Ri.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Ri.extractNumericId(e).compare(Ri.extractNumericId(n)):pm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ts.fromString(e.substring(4,e.length-2))}}class it extends Ri{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const kx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ri{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return kx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K_}static keyField(){return new Kt([K_])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new le(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new le(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(u(),l++)}if(u(),f)throw new le(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(r,e,n){if(!n)throw new le(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Mx(r,e,n,s){if(e===!0&&s===!0)throw new le(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Y_(r){if(!ye.isDocumentKey(r))throw new le(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function X_(r){if(ye.isDocumentKey(r))throw new le(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function $E(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Sh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function gn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sh(r);throw new le(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function tu(r,e){if(!$E(r))throw new le(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const l=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(l&&typeof f!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=-62135596800,$_=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*$_);return new at(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<J_)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$_}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tu(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-J_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Dt("string",at._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new at(0,0))}static max(){return new Se(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=-1;function Vx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(s===1e9?new at(n+1,0):new at(n,s));return new is(l,ye.empty(),e)}function jx(r){return new is(r.readTime,r.key,ql)}class is{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new is(Se.min(),ye.empty(),ql)}static max(){return new is(Se.max(),ye.empty(),ql)}}function Px(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Le(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ux{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==Lx)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):$.reject(n)}static resolve(e){return new $(((n,s)=>{n(e)}))}static reject(e){return new $(((n,s)=>{s(e)}))}static waitFor(e){return new $(((n,s)=>{let l=0,u=0,f=!1;e.forEach((g=>{++l,g.next((()=>{++u,f&&u===l&&n()}),(_=>s(_)))})),f=!0,u===l&&n()}))}static or(e){let n=$.resolve(!1);for(const s of e)n=n.next((l=>l?$.resolve(l):s()));return n}static forEach(e,n){const s=[];return e.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(e,n){return new $(((s,l)=>{const u=e.length,f=new Array(u);let g=0;for(let _=0;_<u;_++){const y=_;n(e[y]).next((T=>{f[y]=T,++g,g===u&&s(f)}),(T=>l(T)))}}))}static doWhile(e,n){return new $(((s,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):s()};u()}))}}function zx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function po(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ah.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=-1;function wh(r){return r==null}function lh(r){return r===0&&1/r==-1/0}function qx(r){return typeof r=="number"&&Number.isInteger(r)&&!lh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="";function Bx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Z_(e)),e=Hx(r.get(n),e);return Z_(e)}function Hx(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case ZE:n+="";break;default:n+=u}}return n}function Z_(r){return r+ZE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function hs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function WE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=l??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new Qt(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Qt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,l,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ev(this.data.getIterator())}getIteratorFrom(e){return new ev(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class ev{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Mt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new eb("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const Fx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(r){if(Ye(!!r,39018),typeof r=="string"){let e=0;const n=Fx.exec(r);if(Ye(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ss(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="server_timestamp",nb="__type__",ib="__previous_value__",rb="__local_write_time__";function Xm(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[nb])==null?void 0:s.stringValue)===tb}function xh(r){const e=r.mapValue.fields[ib];return Xm(e)?xh(e):e}function Bl(r){const e=rs(r.mapValue.fields[rb].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n,s,l,u,f,g,_,y,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T}}const uh="(default)";class Hl{constructor(e,n){this.projectId=e,this.database=n||uh}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="__type__",Qx="__max__",qc={mapValue:{}},ab="__vector__",ch="value";function as(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Xm(r)?4:Yx(r)?9007199254740991:Kx(r)?10:11:be(28295,{value:r})}function Vi(r,e){if(r===e)return!0;const n=as(r);if(n!==as(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Bl(r).isEqual(Bl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=rs(l.timestampValue),g=rs(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,u){return ss(l.bytesValue).isEqual(ss(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,u){return _t(l.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(l.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(r,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return _t(l.integerValue)===_t(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=_t(l.doubleValue),g=_t(u.doubleValue);return f===g?lh(f)===lh(g):isNaN(f)&&isNaN(g)}return!1})(r,e);case 9:return ro(r.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},g=u.mapValue.fields||{};if(W_(f)!==W_(g))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(g[_]===void 0||!Vi(f[_],g[_])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function Fl(r,e){return(r.values||[]).find((n=>Vi(n,e)))!==void 0}function so(r,e){if(r===e)return 0;const n=as(r),s=as(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const g=_t(u.integerValue||u.doubleValue),_=_t(f.integerValue||f.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,e);case 3:return tv(r.timestampValue,e.timestampValue);case 4:return tv(Bl(r),Bl(e));case 5:return pm(r.stringValue,e.stringValue);case 6:return(function(u,f){const g=ss(u),_=ss(f);return g.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const g=u.split("/"),_=f.split("/");for(let y=0;y<g.length&&y<_.length;y++){const T=Le(g[y],_[y]);if(T!==0)return T}return Le(g.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const g=Le(_t(u.latitude),_t(f.latitude));return g!==0?g:Le(_t(u.longitude),_t(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return nv(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var R,q,Z,ee;const g=u.fields||{},_=f.fields||{},y=(R=g[ch])==null?void 0:R.arrayValue,T=(q=_[ch])==null?void 0:q.arrayValue,A=Le(((Z=y==null?void 0:y.values)==null?void 0:Z.length)||0,((ee=T==null?void 0:T.values)==null?void 0:ee.length)||0);return A!==0?A:nv(y,T)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===qc.mapValue&&f===qc.mapValue)return 0;if(u===qc.mapValue)return 1;if(f===qc.mapValue)return-1;const g=u.fields||{},_=Object.keys(g),y=f.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let A=0;A<_.length&&A<T.length;++A){const R=pm(_[A],T[A]);if(R!==0)return R;const q=so(g[_[A]],y[T[A]]);if(q!==0)return q}return Le(_.length,T.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function tv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const n=rs(r),s=rs(e),l=Le(n.seconds,s.seconds);return l!==0?l:Le(n.nanos,s.nanos)}function nv(r,e){const n=r.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=so(n[l],s[l]);if(u)return u}return Le(n.length,s.length)}function ao(r){return ym(r)}function ym(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=rs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ss(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ye.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=ym(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${ym(n.fields[f])}`;return l+"}"})(r.mapValue):be(61005,{value:r})}function Xc(r){switch(as(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xh(r);return e?16+Xc(e):16;case 5:return 2*r.stringValue.length;case 6:return ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+Xc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return hs(s.fields,((u,f)=>{l+=u.length+Xc(f)})),l})(r.mapValue);default:throw be(13486,{value:r})}}function iv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function _m(r){return!!r&&"integerValue"in r}function Jm(r){return!!r&&"arrayValue"in r}function rv(r){return!!r&&"nullValue"in r}function sv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Jc(r){return!!r&&"mapValue"in r}function Kx(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[sb])==null?void 0:s.stringValue)===ab}function Ml(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return hs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ml(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ml(r.arrayValue.values[n]);return e}return{...r}}function Yx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Qx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(n)}setAll(e){let n=Kt.emptyPath(),s={},l=[];e.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const _=this.getFieldsMap(n);this.applyChanges(_,s,l),s={},l=[],n=g.popLast()}f?s[g.lastSegment()]=Ml(f):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){hs(n,((l,u)=>e[l]=u));for(const l of s)delete e[l]}clone(){return new mn(Ml(this.value))}}function ob(r){const e=[];return hs(r.fields,((n,s)=>{const l=new Kt([n]);if(Jc(s)){const u=ob(s.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,l,u,f,g){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),mn.empty(),0)}static newFoundDocument(e,n,s,l){return new Zt(e,1,n,Se.min(),s,l,0)}static newNoDocument(e,n){return new Zt(e,2,n,Se.min(),Se.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Se.min(),Se.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.position=e,this.inclusive=n}}function av(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const u=e[l],f=r.position[l];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=so(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function ov(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Vi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Xx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{}class Nt extends lb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new $x(e,n,s):n==="array-contains"?new eC(e,s):n==="in"?new tC(e,s):n==="not-in"?new nC(e,s):n==="array-contains-any"?new iC(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Zx(e,s):new Wx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(so(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends lb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ri(e,n)}matches(e){return ub(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ub(r){return r.op==="and"}function cb(r){return Jx(r)&&ub(r)}function Jx(r){for(const e of r.filters)if(e instanceof ri)return!1;return!0}function vm(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+ao(r.value);if(cb(r))return r.filters.map((e=>vm(e))).join(",");{const e=r.filters.map((n=>vm(n))).join(",");return`${r.op}(${e})`}}function hb(r,e){return r instanceof Nt?(function(s,l){return l instanceof Nt&&s.op===l.op&&s.field.isEqual(l.field)&&Vi(s.value,l.value)})(r,e):r instanceof ri?(function(s,l){return l instanceof ri&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,f,g)=>u&&hb(f,l.filters[g])),!0):!1})(r,e):void be(19439)}function fb(r){return r instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ao(n.value)}`})(r):r instanceof ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(fb).join(" ,")+"}"})(r):"Filter"}class $x extends Nt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class Zx extends Nt{constructor(e,n){super(e,"in",n),this.keys=db("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Wx extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=db("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function db(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>ye.fromName(s.referenceValue)))}class eC extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jm(n)&&Fl(n.arrayValue,this.value)}}class tC extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fl(this.value.arrayValue,n)}}class nC extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fl(this.value.arrayValue,n)}}class iC extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Fl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n=null,s=[],l=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function lv(r,e=null,n=[],s=[],l=null,u=null,f=null){return new rC(r,e,n,s,l,u,f)}function $m(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>vm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ao(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ao(s))).join(",")),e.Te=n}return e.Te}function Zm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Xx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!hb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ov(r.startAt,e.startAt)&&ov(r.endAt,e.endAt)}function Em(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n=null,s=[],l=[],u=null,f="F",g=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sC(r,e,n,s,l,u,f,g){return new yo(r,e,n,s,l,u,f,g)}function Ch(r){return new yo(r)}function uv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function mb(r){return r.collectionGroup!==null}function Vl(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Mt(Kt.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Gl(u,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new Gl(Kt.keyField(),s))}return e.Ie}function Di(r){const e=we(r);return e.Ee||(e.Ee=aC(e,Vl(r))),e.Ee}function aC(r,e){if(r.limitType==="F")return lv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Gl(l.field,u)}));const n=r.endAt?new hh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new hh(r.startAt.position,r.startAt.inclusive):null;return lv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function bm(r,e){const n=r.filters.concat([e]);return new yo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Tm(r,e,n){return new yo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Rh(r,e){return Zm(Di(r),Di(e))&&r.limitType===e.limitType}function gb(r){return`${$m(Di(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>fb(l))).join(", ")}]`),wh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>ao(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>ao(l))).join(",")),`Target(${s})`})(Di(r))}; limitType=${r.limitType})`}function Ih(r,e){return e.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,l){for(const u of Vl(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(f,g,_){const y=av(f,g,_);return f.inclusive?y<=0:y<0})(s.startAt,Vl(s),l)||s.endAt&&!(function(f,g,_){const y=av(f,g,_);return f.inclusive?y>=0:y>0})(s.endAt,Vl(s),l))})(r,e)}function oC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function pb(r){return(e,n)=>{let s=!1;for(const l of Vl(r)){const u=lC(l,e,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function lC(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,f,g){const _=f.data.field(u),y=g.data.field(u);return _!==null&&y!==null?so(_,y):be(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,((n,s)=>{for(const[l,u]of s)e(l,u)}))}isEmpty(){return WE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new ut(ye.comparator);function lr(){return uC}const yb=new ut(ye.comparator);function Il(...r){let e=yb;for(const n of r)e=e.insert(n.key,n);return e}function _b(r){let e=yb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Gs(){return jl()}function vb(){return jl()}function jl(){return new ta((r=>r.toString()),((r,e)=>r.isEqual(e)))}const cC=new ut(ye.comparator),hC=new Mt(ye.comparator);function Ue(...r){let e=hC;for(const n of r)e=e.add(n);return e}const fC=new Mt(Le);function dC(){return fC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function Eb(r){return{integerValue:""+r}}function mC(r,e){return qx(e)?Eb(e):Wm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this._=void 0}}function gC(r,e,n){return r instanceof Ql?(function(l,u){const f={fields:{[nb]:{stringValue:tb},[rb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Xm(u)&&(u=xh(u)),u&&(f.fields[ib]=u),{mapValue:f}})(n,e):r instanceof Kl?Tb(r,e):r instanceof Yl?Sb(r,e):(function(l,u){const f=bb(l,u),g=cv(f)+cv(l.Ae);return _m(f)&&_m(l.Ae)?Eb(g):Wm(l.serializer,g)})(r,e)}function pC(r,e,n){return r instanceof Kl?Tb(r,e):r instanceof Yl?Sb(r,e):n}function bb(r,e){return r instanceof fh?(function(s){return _m(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Ql extends Nh{}class Kl extends Nh{constructor(e){super(),this.elements=e}}function Tb(r,e){const n=Ab(e);for(const s of r.elements)n.some((l=>Vi(l,s)))||n.push(s);return{arrayValue:{values:n}}}class Yl extends Nh{constructor(e){super(),this.elements=e}}function Sb(r,e){let n=Ab(e);for(const s of r.elements)n=n.filter((l=>!Vi(l,s)));return{arrayValue:{values:n}}}class fh extends Nh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function cv(r){return _t(r.integerValue||r.doubleValue)}function Ab(r){return Jm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this.field=e,this.transform=n}}function _C(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof Kl&&l instanceof Kl||s instanceof Yl&&l instanceof Yl?ro(s.elements,l.elements,Vi):s instanceof fh&&l instanceof fh?Vi(s.Ae,l.Ae):s instanceof Ql&&l instanceof Ql})(r.transform,e.transform)}class vC{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Dh{}function wb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new eg(r.key,Bn.none()):new nu(r.key,r.data,Bn.none());{const n=r.data,s=mn.empty();let l=new Mt(Kt.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new fs(r.key,s,new wn(l.toArray()),Bn.none())}}function EC(r,e,n){r instanceof nu?(function(l,u,f){const g=l.value.clone(),_=fv(l.fieldTransforms,u,f.transformResults);g.setAll(_),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):r instanceof fs?(function(l,u,f){if(!$c(l.precondition,u))return void u.convertToUnknownDocument(f.version);const g=fv(l.fieldTransforms,u,f.transformResults),_=u.data;_.setAll(xb(l)),_.setAll(g),u.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(r,e,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Pl(r,e,n,s){return r instanceof nu?(function(u,f,g,_){if(!$c(u.precondition,f))return g;const y=u.value.clone(),T=dv(u.fieldTransforms,_,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof fs?(function(u,f,g,_){if(!$c(u.precondition,f))return g;const y=dv(u.fieldTransforms,_,f),T=f.data;return T.setAll(xb(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,e,n,s):(function(u,f,g){return $c(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(r,e,n)}function bC(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),u=bb(s.transform,l||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function hv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&ro(s,l,((u,f)=>_C(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class nu extends Dh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class fs extends Dh{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function xb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function fv(r,e,n){const s=new Map;Ye(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],f=u.transform,g=e.data.field(u.field);s.set(u.field,pC(f,g,n[l]))}return s}function dv(r,e,n){const s=new Map;for(const l of r){const u=l.transform,f=n.data.field(l.field);s.set(l.field,gC(u,f,e))}return s}class eg extends Dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TC extends Dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&EC(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Pl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Pl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=vb();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(l.key)?null:g;const _=wb(f,g);_!==null&&s.set(l.key,_),f.isValidDocument()||f.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,((n,s)=>hv(n,s)))&&ro(this.baseMutations,e.baseMutations,((n,s)=>hv(n,s)))}}class tg{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return cC})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new tg(e,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Be;function xC(r){switch(r){case X.OK:return be(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function Cb(r){if(r===void 0)return or("GRPC error has no .code"),X.UNKNOWN;switch(r){case It.OK:return X.OK;case It.CANCELLED:return X.CANCELLED;case It.UNKNOWN:return X.UNKNOWN;case It.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case It.INTERNAL:return X.INTERNAL;case It.UNAVAILABLE:return X.UNAVAILABLE;case It.UNAUTHENTICATED:return X.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case It.NOT_FOUND:return X.NOT_FOUND;case It.ALREADY_EXISTS:return X.ALREADY_EXISTS;case It.PERMISSION_DENIED:return X.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case It.ABORTED:return X.ABORTED;case It.OUT_OF_RANGE:return X.OUT_OF_RANGE;case It.UNIMPLEMENTED:return X.UNIMPLEMENTED;case It.DATA_LOSS:return X.DATA_LOSS;default:return be(39323,{code:r})}}(Be=It||(It={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new ts([4294967295,4294967295],0);function mv(r){const e=CC().encode(r),n=new BE;return n.update(e),new Uint8Array(n.digest())}function gv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ts([n,s],0),new ts([l,u],0)]}class ng{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(s<0)throw new Nl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ts.fromNumber(this.ge)}ye(e,n,s){let l=e.add(n.multiply(ts.fromNumber(s)));return l.compare(RC)===1&&(l=new ts([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=mv(e),[s,l]=gv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new ng(u,l,n);return s.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const n=mv(e),[s,l]=gv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Oh(Se.min(),l,new ut(Le),lr(),Ue())}}class iu{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new iu(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n,s,l){this.be=e,this.removedTargetIds=n,this.key=s,this.De=l}}class Rb{constructor(e,n){this.targetId=e,this.Ce=n}}class Ib{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class pv{constructor(){this.ve=0,this.Fe=yv(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:be(38017,{changeType:u})}})),new iu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=yv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class IC{constructor(e){this.Ge=e,this.ze=new Map,this.je=lr(),this.Je=Bc(),this.He=Bc(),this.Ye=new ut(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,s=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Em(u))if(s===0){const f=new ye(u.path);this.et(n,f,Zt.newNoDocument(f,Se.min()))}else Ye(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const g=this.ut(e),_=g?this.ct(g,e,f):1;if(_!==0){this.it(n);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let f,g;try{f=ss(s).toUint8Array()}catch(_){if(_ instanceof eb)return io("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new ng(f,l,u)}catch(_){return io(_ instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&Em(g.target)){const _=new ye(g.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,Zt.newNoDocument(_,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Ue();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new Oh(e,n,this.Ye,this.je,s);return this.je=lr(),this.Je=Bc(),this.He=Bc(),this.Ye=new ut(Le),l}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new pv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Bc(){return new ut(ye.comparator)}function yv(){return new ut(ye.comparator)}const NC={asc:"ASCENDING",desc:"DESCENDING"},DC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OC={and:"AND",or:"OR"};class kC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sm(r,e){return r.useProto3Json||wh(e)?e:{value:e}}function dh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function MC(r,e){return dh(r,e.toTimestamp())}function Oi(r){return Ye(!!r,49232),Se.fromTimestamp((function(n){const s=rs(n);return new at(s.seconds,s.nanos)})(r))}function ig(r,e){return Am(r,e).canonicalString()}function Am(r,e){const n=(function(l){return new it(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Db(r){const e=it.fromString(r);return Ye(jb(e),10190,{key:e.toString()}),e}function wm(r,e){return ig(r.databaseId,e.path)}function nm(r,e){const n=Db(e);if(n.get(1)!==r.databaseId.projectId)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(kb(n))}function Ob(r,e){return ig(r.databaseId,e)}function VC(r){const e=Db(r);return e.length===4?it.emptyPath():kb(e)}function xm(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function kb(r){return Ye(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function _v(r,e,n){return{name:wm(r,e),fields:n.value.mapValue.fields}}function jC(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(Ye(T===void 0||typeof T=="string",58123),Yt.fromBase64String(T||"")):(Ye(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Yt.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(y){const T=y.code===void 0?X.UNKNOWN:Cb(y.code);return new le(T,y.message||"")})(f);n=new Ib(s,l,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=nm(r,s.document.name),u=Oi(s.document.updateTime),f=s.document.createTime?Oi(s.document.createTime):Se.min(),g=new mn({mapValue:{fields:s.document.fields}}),_=Zt.newFoundDocument(l,u,f,g),y=s.targetIds||[],T=s.removedTargetIds||[];n=new Zc(y,T,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=nm(r,s.document),u=s.readTime?Oi(s.readTime):Se.min(),f=Zt.newNoDocument(l,u),g=s.removedTargetIds||[];n=new Zc([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=nm(r,s.document),u=s.removedTargetIds||[];n=new Zc([],u,l,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new wC(l,u),g=s.targetId;n=new Rb(g,f)}}return n}function PC(r,e){let n;if(e instanceof nu)n={update:_v(r,e.key,e.value)};else if(e instanceof eg)n={delete:wm(r,e.key)};else if(e instanceof fs)n={update:_v(r,e.key,e.data),updateMask:QC(e.fieldMask)};else{if(!(e instanceof TC))return be(16599,{Vt:e.type});n={verify:wm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const g=f.transform;if(g instanceof Ql)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Kl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Yl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof fh)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw be(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:MC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)})(r,e.precondition)),n}function LC(r,e){return r&&r.length>0?(Ye(e!==void 0,14353),r.map((n=>(function(l,u){let f=l.updateTime?Oi(l.updateTime):Oi(u);return f.isEqual(Se.min())&&(f=Oi(u)),new vC(f,l.transformResults||[])})(n,e)))):[]}function UC(r,e){return{documents:[Ob(r,e.path)]}}function zC(r,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Ob(r,l);const u=(function(y){if(y.length!==0)return Vb(ri.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((T=>(function(R){return{field:Xa(R.field),direction:HC(R.dir)}})(T)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Sm(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function qC(r){let e=VC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ye(s===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(A){const R=Mb(A);return R instanceof ri&&cb(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((R=>(function(Z){return new Gl(Ja(Z.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(R)))})(n.orderBy));let g=null;n.limit&&(g=(function(A){let R;return R=typeof A=="object"?A.value:A,wh(R)?null:R})(n.limit));let _=null;n.startAt&&(_=(function(A){const R=!!A.before,q=A.values||[];return new hh(q,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(A){const R=!A.before,q=A.values||[];return new hh(q,R)})(n.endAt)),sC(e,l,f,u,g,"F",_,y)}function BC(r,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Mb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ja(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ja(n.unaryFilter.field);return Nt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ja(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nt.create(Ja(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ri.create(n.compositeFilter.filters.map((s=>Mb(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(r):be(30097,{filter:r})}function HC(r){return NC[r]}function FC(r){return DC[r]}function GC(r){return OC[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function Ja(r){return Kt.fromServerFormat(r.fieldPath)}function Vb(r){return r instanceof Nt?(function(n){if(n.op==="=="){if(sv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(rv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(rv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:FC(n.op),value:n.value}}})(r):r instanceof ri?(function(n){const s=n.getFilters().map((l=>Vb(l)));return s.length===1?s[0]:{compositeFilter:{op:GC(n.op),filters:s}}})(r):be(54877,{filter:r})}function QC(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function jb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n,s,l,u=Se.min(),f=Se.min(),g=Yt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new $r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.yt=e}}function YC(r){const e=qC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Tm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.Cn=new JC}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(is.min())}updateCollectionGroup(e,n,s){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class JC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Mt(it.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Mt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pb=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(Pb,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new oo(0)}static cr(){return new oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="LruGarbageCollector",$C=1048576;function bv([r,e],[n,s]){const l=Le(r,n);return l===0?Le(e,s):l}class ZC{constructor(e){this.Ir=e,this.buffer=new Mt(bv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();bv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(Ev,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){po(n)?he(Ev,"Ignoring IndexedDB error during garbage collection: ",n):await go(n)}await this.Vr(3e5)}))}}class eR{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Ah.ce);const s=new ZC(n);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(vv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,l,u,f,g,_,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,f=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(s=A,g=Date.now(),this.removeTargets(e,s,n)))).next((A=>(u=A,_=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(y=Date.now(),Ka()<=Pe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${u} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A}))))}}function tR(r,e){return new eR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.changes=new ta((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(s!==null&&Pl(s.mutation,l,wn.empty(),at.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const l=Gs();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,s).next((u=>{let f=Il();return u.forEach(((g,_)=>{f=f.insert(g,_.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Gs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(e,n,s,l){let u=lr();const f=jl(),g=(function(){return jl()})();return n.forEach(((_,y)=>{const T=s.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof fs)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Pl(T.mutation,y,T.mutation.getFieldMask(),at.now())):f.set(y.key,wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((_=>(_.forEach(((y,T)=>f.set(y,T))),n.forEach(((y,T)=>g.set(y,new iR(T,f.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=jl();let l=new ut(((f,g)=>f-g)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const g of f)g.keys().forEach((_=>{const y=n.get(_);if(y===null)return;let T=s.get(_)||wn.empty();T=g.applyToLocalView(y,T),s.set(_,T);const A=(l.get(g.batchId)||Ue()).add(_);l=l.insert(g.batchId,A)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,T=_.value,A=vb();T.forEach((R=>{if(!u.has(R)){const q=wb(n.get(R),s.get(R));q!==null&&A.set(R,q),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return $.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,l){return(function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):$.resolve(Gs());let g=ql,_=u;return f.next((y=>$.forEach(y,((T,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),u.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next((R=>{_=_.insert(T,R)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,_,y,Ue()))).next((T=>({batchId:g,changes:_b(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let l=Il();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const u=n.collectionGroup;let f=Il();return this.indexManager.getCollectionParents(e,u).next((g=>$.forEach(g,(_=>{const y=(function(A,R){return new yo(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,_.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next((T=>{T.forEach(((A,R)=>{f=f.insert(A,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,l)))).next((f=>{u.forEach(((_,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,Zt.newInvalidDocument(T)))}));let g=Il();return f.forEach(((_,y)=>{const T=u.get(_);T!==void 0&&Pl(T.mutation,y,wn.empty(),at.now()),Ih(n,y)&&(g=g.insert(_,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:YC(l.bundledQuery),readTime:Oi(l.readTime)}})(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.overlays=new ut(ye.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Gs();return $.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((l,u)=>{this.St(e,n,u)})),$.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(e,n,s){const l=Gs(),u=n.length+1,f=new ye(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&_.largestBatchId>s&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new ut(((y,T)=>y-T));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=Gs(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=Gs(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>g.set(y,T))),!(g.size()>=l)););return $.resolve(g)}St(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new AC(n,s));let u=this.qr.get(n);u===void 0&&(u=Ue(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.Qr=new Mt(Ut.$r),this.Ur=new Mt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new it([])),s=new Ut(n,e),l=new Ut(n,e+1),u=[];return this.Ur.forEachInRange([s,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new it([])),s=new Ut(n,e),l=new Ut(n,e+1);let u=Ue();return this.Ur.forEachInRange([s,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Ut(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Ut.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new SC(u,n,s,l);this.mutationQueue.push(f);for(const g of l)this.Zr=this.Zr.add(new Ut(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(f)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.ei(s),u=l<0?0:l;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Ym:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),l=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(f=>{const g=this.Xr(f.Yr);u.push(g)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Mt(Le);return n.forEach((l=>{const u=new Ut(l,0),f=new Ut(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{s=s.add(g.Yr)}))})),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new ye(u),0);let g=new Mt(Le);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),f),$.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(n.mutations,(l=>{const u=new Ut(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ut(n,0),l=this.Zr.firstAfterOrEqual(s);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.ri=e,this.docs=(function(){return new ut(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=lr();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():Zt.newInvalidDocument(l))})),$.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=lr();const f=n.path,g=new ye(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||Px(jx(T),s)<=0||(l.has(T.key)||Ih(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(e,n,s,l){be(9500)}ii(e,n){return $.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new cR(this)}getSize(e){return $.resolve(this.size)}}class cR extends nR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.persistence=e,this.si=new ta((n=>$m(n)),Zm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new rg,this.targetCount=0,this.ai=oo.ur()}forEachTarget(e,n){return this.si.forEach(((s,l)=>n(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new oo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),$.waitFor(u).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return $.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),$.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),$.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return $.resolve(s)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ah(0),this.li=!1,this.li=!0,this.hi=new oR,this.referenceDelegate=e(this),this.Pi=new hR(this),this.indexManager=new XC,this.remoteDocumentCache=(function(l){return new uR(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new KC(n),this.Ii=new sR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new lR(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const l=new fR(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return $.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class fR extends Ux{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.Ri=new rg,this.Vi=null}static mi(e){return new sg(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),$.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(s=>{const l=ye.fromPath(s);return this.gi(e,l).next((u=>{u||n.removeEntry(l,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class mh{constructor(e,n){this.persistence=e,this.pi=new ta((s=>Bx(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=tR(this,n)}static mi(e,n){return new mh(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((l=>s+l))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return $.forEach(this.pi,((s,l)=>this.br(e,s,l).next((u=>u?$.resolve():n(l)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,n).next((g=>{g||(s++,u.removeEntry(f,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xc(e.data.value)),n}br(e,n,s){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=l}static As(e,n){let s=Ue(),l=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new ag(e,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return HS()?8:zx(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,l){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,l,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new dR;return this.Ss(e,n,f).next((g=>{if(u.result=g,this.Vs)return this.bs(e,n,f,g.size)}))})).next((()=>u.result))}bs(e,n,s,l){return s.documentReadCount<this.fs?(Ka()<=Pe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ka()<=Pe.DEBUG&&he("QueryEngine","Query:",Ya(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ka()<=Pe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(n))):$.resolve())}ys(e,n){if(uv(n))return $.resolve(null);let s=Di(n);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Tm(n,null,"F"),s=Di(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ue(...u);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,s).next((_=>{const y=this.Ds(n,g);return this.Cs(n,y,f,_.readTime)?this.ys(e,Tm(n,null,"F")):this.vs(e,y,n,_)}))))})))))}ws(e,n,s,l){return uv(n)||l.isEqual(Se.min())?$.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,l)?$.resolve(null):(Ka()<=Pe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ya(n)),this.vs(e,f,n,Vx(l,ql)).next((g=>g)))}))}Ds(e,n){let s=new Mt(pb(e));return n.forEach(((l,u)=>{Ih(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,s){return Ka()<=Pe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.ps.getDocumentsMatchingQuery(e,n,is.min(),s)}vs(e,n,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="LocalStore",gR=3e8;class pR{constructor(e,n,s,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ut(Le),this.xs=new ta((u=>$m(u)),Zm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function yR(r,e,n,s){return new pR(r,e,n,s)}async function Ub(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],g=[];let _=Ue();for(const y of l){f.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of u){g.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return n.localDocuments.getDocuments(s,_).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:g})))}))}))}function _R(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,T){const A=y.batch,R=A.keys();let q=$.resolve();return R.forEach((Z=>{q=q.next((()=>T.getEntry(_,Z))).next((ee=>{const Q=y.docVersions.get(Z);Ye(Q!==null,48541),ee.version.compareTo(Q)<0&&(A.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),T.addEntry(ee)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let _=Ue();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function zb(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function vR(r,e){const n=we(r),s=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];e.targetChanges.forEach(((T,A)=>{const R=l.get(A);if(!R)return;g.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,A))));let q=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?q=q.withResumeToken(Yt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(T.resumeToken,s)),l=l.insert(A,q),(function(ee,Q,W){return ee.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=gR?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(R,q,T)&&g.push(n.Pi.updateTargetData(u,q))}));let _=lr(),y=Ue();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),g.push(ER(u,f,e.documentUpdates).next((T=>{_=T.ks,y=T.qs}))),!s.isEqual(Se.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(T)}return $.waitFor(g).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,_,y))).next((()=>_))})).then((u=>(n.Ms=l,u)))}function ER(r,e,n){let s=Ue(),l=Ue();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=lr();return n.forEach(((g,_)=>{const y=u.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(Se.min())?(e.removeEntry(g,_.readTime),f=f.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),f=f.insert(g,_)):he(og,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:f,qs:l}}))}function bR(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ym),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function TR(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,e).next((u=>u?(l=u,$.resolve(l)):n.Pi.allocateTargetId(s).next((f=>(l=new $r(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Cm(r,e,n){const s=we(r),l=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!po(f))throw f;he(og,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function Tv(r,e,n){const s=we(r);let l=Se.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,y,T){const A=we(_),R=A.xs.get(T);return R!==void 0?$.resolve(A.Ms.get(R)):A.Pi.getTargetData(y,T)})(s,f,Di(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,g.targetId).next((_=>{u=_}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?l:Se.min(),n?u:Ue()))).next((g=>(SR(s,oC(e),g),{documents:g,Qs:u})))))}function SR(r,e,n){let s=r.Os.get(e)||Se.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class Sv{constructor(){this.activeTargetIds=dC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AR{constructor(){this.Mo=new Sv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Sv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="ConnectivityMonitor";class wv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(Av,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(Av,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc=null;function Rm(){return Hc===null?Hc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hc++,"0x"+Hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="RestConnection",xR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===uh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,n,s,l,u){const f=Rm(),g=this.zo(e,n.toUriEncodedString());he(im,`Sending RPC '${e}' ${f}:`,g,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,u);const{host:y}=new URL(g),T=co(y);return this.Jo(e,g,_,s,T).then((A=>(he(im,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw io(im,`RPC '${e}' ${f} failed with error: `,A,"url: ",g,"request:",s),A}))}Ho(e,n,s,l,u,f){return this.Go(e,n,s,l,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),s&&s.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const s=xR[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class IR extends CR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,l,u){const f=Rm();return new Promise(((g,_)=>{const y=new HE;y.setWithCredentials(!0),y.listenOnce(FE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Yc.NO_ERROR:const A=y.getResponseJson();he(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),g(A);break;case Yc.TIMEOUT:he(Jt,`RPC '${e}' ${f} timed out`),_(new le(X.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const R=y.getStatus();if(he(Jt,`RPC '${e}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const Z=q==null?void 0:q.error;if(Z&&Z.status&&Z.message){const ee=(function(W){const ne=W.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ne)>=0?ne:X.UNKNOWN})(Z.status);_(new le(ee,Z.message))}else _(new le(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new le(X.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(Jt,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(l);he(Jt,`RPC '${e}' ${f} sending request:`,l),y.send(n,"POST",T,s,15)}))}T_(e,n,s){const l=Rm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=KE(),g=QE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,n,s),_.encodeInitMessageHeaders=!0;const T=u.join("");he(Jt,`Creating RPC '${e}' stream ${l}: ${T}`,_);const A=f.createWebChannel(T,_);this.I_(A);let R=!1,q=!1;const Z=new RR({Yo:Q=>{q?he(Jt,`Not sending because RPC '${e}' stream ${l} is closed:`,Q):(R||(he(Jt,`Opening RPC '${e}' stream ${l} transport.`),A.open(),R=!0),he(Jt,`RPC '${e}' stream ${l} sending:`,Q),A.send(Q))},Zo:()=>A.close()}),ee=(Q,W,ne)=>{Q.listen(W,(te=>{try{ne(te)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return ee(A,Rl.EventType.OPEN,(()=>{q||(he(Jt,`RPC '${e}' stream ${l} transport opened.`),Z.o_())})),ee(A,Rl.EventType.CLOSE,(()=>{q||(q=!0,he(Jt,`RPC '${e}' stream ${l} transport closed`),Z.a_(),this.E_(A))})),ee(A,Rl.EventType.ERROR,(Q=>{q||(q=!0,io(Jt,`RPC '${e}' stream ${l} transport errored. Name:`,Q.name,"Message:",Q.message),Z.a_(new le(X.UNAVAILABLE,"The operation could not be completed")))})),ee(A,Rl.EventType.MESSAGE,(Q=>{var W;if(!q){const ne=Q.data[0];Ye(!!ne,16349);const te=ne,ce=(te==null?void 0:te.error)||((W=te[0])==null?void 0:W.error);if(ce){he(Jt,`RPC '${e}' stream ${l} received error:`,ce);const fe=ce.status;let _e=(function(C){const M=It[C];if(M!==void 0)return Cb(M)})(fe),I=ce.message;_e===void 0&&(_e=X.INTERNAL,I="Unknown error status: "+fe+" with message "+ce.message),q=!0,Z.a_(new le(_e,I)),A.close()}else he(Jt,`RPC '${e}' stream ${l} received:`,ne),Z.u_(ne)}})),ee(g,GE.STAT_EVENT,(Q=>{Q.stat===gm.PROXY?he(Jt,`RPC '${e}' stream ${l} detected buffering proxy`):Q.stat===gm.NOPROXY&&he(Jt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(r){return new kC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n,s=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&he("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="PersistentStream";class Bb{constructor(e,n,s,l,u,f,g,_){this.Mi=e,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{e((()=>{const l=new le(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(xv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NR extends Bb{constructor(e,n,s,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=jC(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Oi(f.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=xm(this.serializer),n.addTarget=(function(u,f){let g;const _=f.target;if(g=Em(_)?{documents:UC(u,_)}:{query:zC(u,_).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=Nb(u,f.resumeToken);const y=Sm(u,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){g.readTime=dh(u,f.snapshotVersion.toTimestamp());const y=Sm(u,f.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const s=BC(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=xm(this.serializer),n.removeTarget=e,this.q_(n)}}class DR extends Bb{constructor(e,n,s,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=LC(e.writeResults,e.commitTime),s=Oi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=xm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>PC(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{}class kR extends OR{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Am(n,s),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(X.UNKNOWN,u.toString())}))}Ho(e,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,Am(n,s),l,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(X.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(or(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class VR{constructor(e,n,s,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{na(this)&&(he(Ws,"Restarting streams for network reachability change."),await(async function(_){const y=we(_);y.Ea.add(4),await ru(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Mh(y)})(this))}))})),this.Ra=new MR(s,l)}}async function Mh(r){if(na(r))for(const e of r.da)await e(!0)}async function ru(r){for(const e of r.da)await e(!1)}function Hb(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),hg(n)?cg(n):_o(n).O_()&&ug(n,e))}function lg(r,e){const n=we(r),s=_o(n);n.Ia.delete(e),s.O_()&&Fb(n,e),n.Ia.size===0&&(s.O_()?s.L_():na(n)&&n.Ra.set("Unknown"))}function ug(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_o(r).Y_(e)}function Fb(r,e){r.Va.Ue(e),_o(r).Z_(e)}function cg(r){r.Va=new IC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),_o(r).start(),r.Ra.ua()}function hg(r){return na(r)&&!_o(r).x_()&&r.Ia.size>0}function na(r){return we(r).Ea.size===0}function Gb(r){r.Va=void 0}async function jR(r){r.Ra.set("Online")}async function PR(r){r.Ia.forEach(((e,n)=>{ug(r,e)}))}async function LR(r,e){Gb(r),hg(r)?(r.Ra.ha(e),cg(r)):r.Ra.set("Unknown")}async function UR(r,e,n){if(r.Ra.set("Online"),e instanceof Ib&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ia.delete(g),l.Va.removeTarget(g))})(r,e)}catch(s){he(Ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gh(r,s)}else if(e instanceof Zc?r.Va.Ze(e):e instanceof Rb?r.Va.st(e):r.Va.tt(e),!n.isEqual(Se.min()))try{const s=await zb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(_.resumeToken,f))}})),g.targetMismatches.forEach(((_,y)=>{const T=u.Ia.get(_);if(!T)return;u.Ia.set(_,T.withResumeToken(Yt.EMPTY_BYTE_STRING,T.snapshotVersion)),Fb(u,_);const A=new $r(T.target,_,y,T.sequenceNumber);ug(u,A)})),u.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(s){he(Ws,"Failed to raise snapshot:",s),await gh(r,s)}}async function gh(r,e,n){if(!po(e))throw e;r.Ea.add(1),await ru(r),r.Ra.set("Offline"),n||(n=()=>zb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(Ws,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Mh(r)}))}function Qb(r,e){return e().catch((n=>gh(r,n,e)))}async function Vh(r){const e=we(r),n=os(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ym;for(;zR(e);)try{const l=await bR(e.localStore,s);if(l===null){e.Ta.length===0&&n.L_();break}s=l.batchId,qR(e,l)}catch(l){await gh(e,l)}Kb(e)&&Yb(e)}function zR(r){return na(r)&&r.Ta.length<10}function qR(r,e){r.Ta.push(e);const n=os(r);n.O_()&&n.X_&&n.ea(e.mutations)}function Kb(r){return na(r)&&!os(r).x_()&&r.Ta.length>0}function Yb(r){os(r).start()}async function BR(r){os(r).ra()}async function HR(r){const e=os(r);for(const n of r.Ta)e.ea(n.mutations)}async function FR(r,e,n){const s=r.Ta.shift(),l=tg.from(s,e,n);await Qb(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Vh(r)}async function GR(r,e){e&&os(r).X_&&await(async function(s,l){if((function(f){return xC(f)&&f!==X.ABORTED})(l.code)){const u=s.Ta.shift();os(s).B_(),await Qb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Vh(s)}})(r,e),Kb(r)&&Yb(r)}async function Cv(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),he(Ws,"RemoteStore received new credentials");const s=na(n);n.Ea.add(3),await ru(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Mh(n)}async function QR(r,e){const n=we(r);e?(n.Ea.delete(2),await Mh(n)):e||(n.Ea.add(2),await ru(n),n.Ra.set("Unknown"))}function _o(r){return r.ma||(r.ma=(function(n,s,l){const u=we(n);return u.sa(),new NR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:jR.bind(null,r),t_:PR.bind(null,r),r_:LR.bind(null,r),H_:UR.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),hg(r)?cg(r):r.Ra.set("Unknown")):(await r.ma.stop(),Gb(r))}))),r.ma}function os(r){return r.fa||(r.fa=(function(n,s,l){const u=we(n);return u.sa(),new DR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:BR.bind(null,r),r_:GR.bind(null,r),ta:HR.bind(null,r),na:FR.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Vh(r)):(await r.fa.stop(),r.Ta.length>0&&(he(Ws,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,u){const f=Date.now()+s,g=new fg(e,n,f,l,u);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(r,e){if(or("AsyncQueue",`${e}: ${r}`),po(r))return new le(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static emptySet(e){return new to(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Il(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new to;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.ga=new ut(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class lo{constructor(e,n,s,l,u,f,g,_,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,l,u){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new lo(e,n,to.emptySet(n),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class YR{constructor(){this.queries=Iv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=we(n),u=l.queries;l.queries=Iv(),u.forEach(((f,g)=>{for(const _ of g.Sa)_.onError(s)}))})(this,new le(X.ABORTED,"Firestore shutting down"))}}function Iv(){return new ta((r=>gb(r)),Rh)}async function mg(r,e){const n=we(r);let s=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(s=2):(u=new KR,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=dg(f,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&pg(n)}async function gg(r,e){const n=we(r),s=e.query;let l=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function XR(r,e){const n=we(r);let s=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const g of f.Sa)g.Fa(l)&&(s=!0);f.wa=l}}s&&pg(n)}function JR(r,e,n){const s=we(r),l=s.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(e)}function pg(r){r.Ca.forEach((e=>{e.next()}))}var Im,Nv;(Nv=Im||(Im={})).Ma="default",Nv.Cache="cache";class yg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new lo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Im.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e){this.key=e}}class Jb{constructor(e){this.key=e}}class $R{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=pb(e),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Rv,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,A)=>{const R=l.get(T),q=Ih(this.query,A)?A:null,Z=!!R&&this.mutatedKeys.has(R.key),ee=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Q=!1;R&&q?R.data.isEqual(q.data)?Z!==ee&&(s.track({type:3,doc:q}),Q=!0):this.su(R,q)||(s.track({type:2,doc:q}),Q=!0,(_&&this.eu(q,_)>0||y&&this.eu(q,y)<0)&&(g=!0)):!R&&q?(s.track({type:0,doc:q}),Q=!0):R&&!q&&(s.track({type:1,doc:R}),Q=!0,(_||y)&&(g=!0)),Q&&(q?(f=f.add(q),u=ee?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,A)=>(function(q,Z){const ee=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:Q})}};return ee(q)-ee(Z)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(s),l=l??!1;const g=n&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,f.length!==0||y?{snapshot:new lo(this.query,e.tu,u,f,e.mutatedKeys,_===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Rv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Jb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Xb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _g="SyncEngine";class ZR{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class WR{constructor(e){this.key=e,this.hu=!1}}class eI{constructor(e,n,s,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ta((g=>gb(g)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ye.comparator),this.Au=new Map,this.Ru=new rg,this.Vu={},this.mu=new Map,this.fu=oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tI(r,e,n=!0){const s=nT(r);let l;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await $b(s,e,n,!0),l}async function nI(r,e){const n=nT(r);await $b(n,e,!0,!1)}async function $b(r,e,n,s){const l=await TR(r.localStore,Di(e)),u=l.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await iI(r,e,u,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&Hb(r.remoteStore,l),g}async function iI(r,e,n,s,l){r.pu=(A,R,q)=>(async function(ee,Q,W,ne){let te=Q.view.ru(W);te.Cs&&(te=await Tv(ee.localStore,Q.query,!1).then((({documents:I})=>Q.view.ru(I,te))));const ce=ne&&ne.targetChanges.get(Q.targetId),fe=ne&&ne.targetMismatches.get(Q.targetId)!=null,_e=Q.view.applyChanges(te,ee.isPrimaryClient,ce,fe);return Ov(ee,Q.targetId,_e.au),_e.snapshot})(r,A,R,q);const u=await Tv(r.localStore,e,!0),f=new $R(e,u.Qs),g=f.ru(u.documents),_=iu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=f.applyChanges(g,r.isPrimaryClient,_);Ov(r,n,y.au);const T=new ZR(e,n,f);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function rI(r,e,n){const s=we(r),l=s.Tu.get(e),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((f=>!Rh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Cm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&lg(s.remoteStore,l.targetId),Nm(s,l.targetId)})).catch(go)):(Nm(s,l.targetId),await Cm(s.localStore,l.targetId,!0))}async function sI(r,e){const n=we(r),s=n.Tu.get(e),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),lg(n.remoteStore,s.targetId))}async function aI(r,e,n){const s=dI(r);try{const l=await(function(f,g){const _=we(f),y=at.now(),T=g.reduce(((q,Z)=>q.add(Z.key)),Ue());let A,R;return _.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let Z=lr(),ee=Ue();return _.Ns.getEntries(q,T).next((Q=>{Z=Q,Z.forEach(((W,ne)=>{ne.isValidDocument()||(ee=ee.add(W))}))})).next((()=>_.localDocuments.getOverlayedDocuments(q,Z))).next((Q=>{A=Q;const W=[];for(const ne of g){const te=bC(ne,A.get(ne.key).overlayedDocument);te!=null&&W.push(new fs(ne.key,te,ob(te.value.mapValue),Bn.exists(!0)))}return _.mutationQueue.addMutationBatch(q,y,W,g)})).next((Q=>{R=Q;const W=Q.applyToLocalDocumentSet(A,ee);return _.documentOverlayCache.saveOverlays(q,Q.batchId,W)}))})).then((()=>({batchId:R.batchId,changes:_b(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(f,g,_){let y=f.Vu[f.currentUser.toKey()];y||(y=new ut(Le)),y=y.insert(g,_),f.Vu[f.currentUser.toKey()]=y})(s,l.batchId,n),await su(s,l.changes),await Vh(s.remoteStore)}catch(l){const u=dg(l,"Failed to persist write");n.reject(u)}}async function Zb(r,e){const n=we(r);try{const s=await vR(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(Ye(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Ye(f.hu,14607):l.removedDocuments.size>0&&(Ye(f.hu,42227),f.hu=!1))})),await su(n,s,e)}catch(s){await go(s)}}function Dv(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,f)=>{const g=f.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const _=we(f);_.onlineState=g;let y=!1;_.queries.forEach(((T,A)=>{for(const R of A.Sa)R.va(g)&&(y=!0)})),y&&pg(_)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function oI(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Au.get(e),u=l&&l.key;if(u){let f=new ut(ye.comparator);f=f.insert(u,Zt.newNoDocument(u,Se.min()));const g=Ue().add(u),_=new Oh(Se.min(),new Map,new ut(Le),f,g);await Zb(s,_),s.du=s.du.remove(u),s.Au.delete(e),vg(s)}else await Cm(s.localStore,e,!1).then((()=>Nm(s,e,n))).catch(go)}async function lI(r,e){const n=we(r),s=e.batch.batchId;try{const l=await _R(n.localStore,e);eT(n,s,null),Wb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await su(n,l)}catch(l){await go(l)}}async function uI(r,e,n){const s=we(r);try{const l=await(function(f,g){const _=we(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,g).next((A=>(Ye(A!==null,37113),T=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(s.localStore,e);eT(s,e,n),Wb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await su(s,l)}catch(l){await go(l)}}function Wb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function eT(r,e,n){const s=we(r);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function Nm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||tT(r,s)}))}function tT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(lg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),vg(r))}function Ov(r,e,n){for(const s of n)s instanceof Xb?(r.Ru.addReference(s.key,e),cI(r,s)):s instanceof Jb?(he(_g,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||tT(r,s.key)):be(19791,{wu:s})}function cI(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(he(_g,"New document in limbo: "+n),r.Eu.add(s),vg(r))}function vg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(it.fromString(e)),s=r.fu.next();r.Au.set(s,new WR(n)),r.du=r.du.insert(n,s),Hb(r.remoteStore,new $r(Di(Ch(n.path)),s,"TargetPurposeLimboResolution",Ah.ce))}}async function su(r,e,n){const s=we(r),l=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,_)=>{f.push(s.pu(_,e,n).then((y=>{var T;if((y||n)&&s.isPrimaryClient){const A=y?!y.fromCache:(T=n==null?void 0:n.targetChanges.get(_.targetId))==null?void 0:T.current;s.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=ag.As(_.targetId,y);u.push(A)}})))})),await Promise.all(f),s.Pu.H_(l),await(async function(_,y){const T=we(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(y,(R=>$.forEach(R.Es,(q=>T.persistence.referenceDelegate.addReference(A,R.targetId,q))).next((()=>$.forEach(R.ds,(q=>T.persistence.referenceDelegate.removeReference(A,R.targetId,q)))))))))}catch(A){if(!po(A))throw A;he(og,"Failed to update sequence numbers: "+A)}for(const A of y){const R=A.targetId;if(!A.fromCache){const q=T.Ms.get(R),Z=q.snapshotVersion,ee=q.withLastLimboFreeSnapshotVersion(Z);T.Ms=T.Ms.insert(R,ee)}}})(s.localStore,u))}async function hI(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){he(_g,"User change. New user:",e.toKey());const s=await Ub(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((g=>{g.forEach((_=>{_.reject(new le(X.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await su(n,s.Ls)}}function fI(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let l=Ue();const u=n.Iu.get(e);if(!u)return l;for(const f of u){const g=n.Tu.get(f);l=l.unionWith(g.view.nu)}return l}}function nT(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oI.bind(null,e),e.Pu.H_=XR.bind(null,e.eventManager),e.Pu.yu=JR.bind(null,e.eventManager),e}function dI(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uI.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return yR(this.persistence,new mR,e.initialUser,this.serializer)}Cu(e){return new Lb(sg.mi,this.serializer)}Du(e){return new AR}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class mI extends ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof mh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new WC(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new Lb((s=>mh.mi(s,n)),this.serializer)}}class Dm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Dv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=hI.bind(null,this.syncEngine),await QR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new YR})()}createDatastore(e){const n=kh(e.databaseInfo.databaseId),s=(function(u){return new IR(u)})(e.databaseInfo);return(function(u,f,g,_){return new kR(u,f,g,_)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,l,u,f,g){return new VR(s,l,u,f,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>Dv(this.syncEngine,n,0)),(function(){return wv.v()?new wv:new wR})())}createSyncEngine(e,n){return(function(l,u,f,g,_,y,T){const A=new eI(l,u,f,g,_,y);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const u=we(l);he(Ws,"RemoteStore shutting down."),u.Ea.add(5),await ru(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Dm.provider={build:()=>new Dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class gI{constructor(e,n,s,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=$t.UNAUTHENTICATED,this.clientId=Km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{he(ls,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(he(ls,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=dg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function sm(r,e){r.asyncQueue.verifyOperationInProgress(),he(ls,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await Ub(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function kv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await pI(r);he(ls,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>Cv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>Cv(e.remoteStore,l))),r._onlineComponents=e}async function pI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(ls,"Using user provided OfflineComponentProvider");try{await sm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await sm(r,new ph)}}else he(ls,"Using default OfflineComponentProvider"),await sm(r,new mI(void 0));return r._offlineComponents}async function iT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(ls,"Using user provided OnlineComponentProvider"),await kv(r,r._uninitializedComponentsProvider._online)):(he(ls,"Using default OnlineComponentProvider"),await kv(r,new Dm))),r._onlineComponents}function yI(r){return iT(r).then((e=>e.syncEngine))}async function yh(r){const e=await iT(r),n=e.eventManager;return n.onListen=tI.bind(null,e.syncEngine),n.onUnlisten=rI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sI.bind(null,e.syncEngine),n}function _I(r,e,n={}){const s=new rr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,_,y){const T=new Eg({next:R=>{T.Nu(),f.enqueueAndForget((()=>gg(u,A)));const q=R.docs.has(g);!q&&R.fromCache?y.reject(new le(X.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&R.fromCache&&_&&_.source==="server"?y.reject(new le(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),A=new yg(Ch(g.path),T,{includeMetadataChanges:!0,qa:!0});return mg(u,A)})(await yh(r),r.asyncQueue,e,n,s))),s.promise}function vI(r,e,n={}){const s=new rr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,_,y){const T=new Eg({next:R=>{T.Nu(),f.enqueueAndForget((()=>gg(u,A))),R.fromCache&&_.source==="server"?y.reject(new le(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),A=new yg(g,T,{includeMetadataChanges:!0,qa:!0});return mg(u,A)})(await yh(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="firestore.googleapis.com",Vv=!0;class jv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sT,this.ssl=Vv}else this.host=e.host,this.ssl=e.ssl??Vv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Pb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$C)throw new le(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Mx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Ax;switch(s.type){case"firstParty":return new Rx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Mv.get(n);s&&(he("ComponentProvider","Removing Datastore"),Mv.delete(n),s.terminate())})(this),Promise.resolve()}}function EI(r,e,n,s={}){var y;r=gn(r,jh);const l=co(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${n}`;l&&(eE(`https://${g}`),tE("Firestore",!0)),u.host!==sT&&u.host!==g&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:g,ssl:l,emulatorOptions:s};if(!Ys(_,f)&&(r._setSettings(_),s.mockUserToken)){let T,A;if(typeof s.mockUserToken=="string")T=s.mockUserToken,A=$t.MOCK_USER;else{T=MS(s.mockUserToken,(y=r._app)==null?void 0:y.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new le(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $t(R)}r._authCredentials=new wx(new XE(T,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ds(this.firestore,e,this._query)}}class ft{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(tu(n,ft._jsonSchema))return new ft(e,s||null,new ye(it.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:Dt("string",ft._jsonSchemaVersion),referencePath:Dt("string")};class ns extends ds{constructor(e,n,s){super(e,n,Ch(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new ye(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function vo(r,e,...n){if(r=Vt(r),JE("collection","path",e),r instanceof jh){const s=it.fromString(e,...n);return X_(s),new ns(r,null,s)}{if(!(r instanceof ft||r instanceof ns))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return X_(s),new ns(r.firestore,null,s)}}function au(r,e,...n){if(r=Vt(r),arguments.length===1&&(e=Km.newId()),JE("doc","path",e),r instanceof jh){const s=it.fromString(e,...n);return Y_(s),new ft(r,null,new ye(s))}{if(!(r instanceof ft||r instanceof ns))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return Y_(s),new ft(r.firestore,r instanceof ns?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="AsyncQueue";class Lv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qb(this,"async_queue_retry"),this._c=()=>{const s=rm();s&&he(Pv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!po(e))throw e;he(Pv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,or("INTERNAL UNHANDLED ERROR: ",Uv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=fg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&be(47125,{Pc:Uv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Uv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class ur extends jh{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new Lv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Lv(e),this._firestoreClient=void 0,await e}}}function bI(r,e){const n=typeof r=="object"?r:sE(),s=typeof r=="string"?r:uh,l=Pm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=OS("firestore");u&&EI(l,...u)}return l}function Ph(r){if(r._terminated)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||TI(r),r._firestoreClient}function TI(r){var s,l,u;const e=r._freezeSettings(),n=(function(g,_,y,T){return new Gx(g,_,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,rT(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new gI(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Yt.fromBase64String(e))}catch(n){throw new le(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tu(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Dt("string",qn._jsonSchemaVersion),bytes:Dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(tu(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Dt("string",ki._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tu(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Mi(e.vectorValues);throw new le(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Dt("string",Mi._jsonSchemaVersion),vectorValues:Dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=/^__.*__$/;class AI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new nu(e,this.data,n,this.fieldTransforms)}}class aT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:r})}}class bg{constructor(e,n,s,l,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _h(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oT(this.Ac)&&SI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class wI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||kh(e)}Cc(e,n,s,l=!1){return new bg({Ac:e,methodName:n,Dc:s,path:Kt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zh(r){const e=r._freezeSettings(),n=kh(r._databaseId);return new wI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function lT(r,e,n,s,l,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,l);Sg("Data must be an object, but it was:",f,s);const g=uT(s,f);let _,y;if(u.merge)_=new wn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const R=Om(e,A,n);if(!f.contains(R))throw new le(X.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);hT(T,R)||T.push(R)}_=new wn(T),y=f.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=f.fieldTransforms;return new AI(new mn(g),_,y)}class qh extends Uh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qh}}class Tg extends Uh{_toFieldTransform(e){return new yC(e.path,new Ql)}isEqual(e){return e instanceof Tg}}function xI(r,e,n,s){const l=r.Cc(1,e,n);Sg("Data must be an object, but it was:",l,s);const u=[],f=mn.empty();hs(s,((_,y)=>{const T=Ag(e,_,n);y=Vt(y);const A=l.yc(T);if(y instanceof qh)u.push(T);else{const R=ou(y,A);R!=null&&(u.push(T),f.set(T,R))}}));const g=new wn(u);return new aT(f,g,l.fieldTransforms)}function CI(r,e,n,s,l,u){const f=r.Cc(1,e,n),g=[Om(e,s,n)],_=[l];if(u.length%2!=0)throw new le(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)g.push(Om(e,u[R])),_.push(u[R+1]);const y=[],T=mn.empty();for(let R=g.length-1;R>=0;--R)if(!hT(y,g[R])){const q=g[R];let Z=_[R];Z=Vt(Z);const ee=f.yc(q);if(Z instanceof qh)y.push(q);else{const Q=ou(Z,ee);Q!=null&&(y.push(q),T.set(q,Q))}}const A=new wn(y);return new aT(T,A,f.fieldTransforms)}function RI(r,e,n,s=!1){return ou(n,r.Cc(s?4:3,e))}function ou(r,e){if(cT(r=Vt(r)))return Sg("Unsupported field value:",e,r),uT(r,e);if(r instanceof Uh)return(function(s,l){if(!oT(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let f=0;for(const g of s){let _=ou(g,l.wc(f));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,l){if((s=Vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return mC(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=at.fromDate(s);return{timestampValue:dh(l.serializer,u)}}if(s instanceof at){const u=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:dh(l.serializer,u)}}if(s instanceof ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:Nb(l.serializer,s._byteString)};if(s instanceof ft){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ig(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Mi)return(function(f,g){return{mapValue:{fields:{[sb]:{stringValue:ab},[ch]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Wm(g.serializer,y)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${Sh(s)}`)})(r,e)}function uT(r,e){const n={};return WE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(r,((s,l)=>{const u=ou(l,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function cT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof at||r instanceof ki||r instanceof qn||r instanceof ft||r instanceof Uh||r instanceof Mi)}function Sg(r,e,n){if(!cT(n)||!$E(n)){const s=Sh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Om(r,e,n){if((e=Vt(e))instanceof Lh)return e._internalPath;if(typeof e=="string")return Ag(r,e);throw _h("Field path arguments must be of type string or ",r,!1,void 0,n)}const II=new RegExp("[~\\*/\\[\\]]");function Ag(r,e,n){if(e.search(II)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Lh(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function _h(r,e,n,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(u||f)&&(_+=" (found",u&&(_+=` in field ${s}`),f&&(_+=` in document ${l}`),_+=")"),new le(X.INVALID_ARGUMENT,g+r+_)}function hT(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NI extends fT{data(){return super.data()}}function wg(r,e){return typeof e=="string"?Ag(r,e):e instanceof Lh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xg{}class mT extends xg{}function gT(r,e,...n){let s=[];e instanceof xg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((_=>_ instanceof Rg)).length,g=u.filter((_=>_ instanceof Cg)).length;if(f>1||f>0&&g>0)throw new le(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Cg extends mT{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Cg(e,n,s)}_apply(e){const n=this._parse(e);return yT(e._query,n),new ds(e.firestore,e.converter,bm(e._query,n))}_parse(e){const n=zh(e.firestore);return(function(u,f,g,_,y,T,A){let R;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new le(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Bv(A,T);const Z=[];for(const ee of A)Z.push(qv(_,u,ee));R={arrayValue:{values:Z}}}else R=qv(_,u,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Bv(A,T),R=RI(g,f,A,T==="in"||T==="not-in");return Nt.create(y,T,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Rg extends xg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let f=l;const g=u.getFlattenedFilters();for(const _ of g)yT(f,_),f=bm(f,_)})(e._query,n),new ds(e.firestore,e.converter,bm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ig extends mT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ig(e,n)}_apply(e){const n=(function(l,u,f){if(l.startAt!==null)throw new le(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new le(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gl(u,f)})(e._query,this._field,this._direction);return new ds(e.firestore,e.converter,(function(l,u){const f=l.explicitOrderBy.concat([u]);return new yo(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function pT(r,e="asc"){const n=e,s=wg("orderBy",r);return Ig._create(s,n)}function qv(r,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new le(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mb(e)&&n.indexOf("/")!==-1)throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ye.isDocumentKey(s))throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return iv(r,new ye(s))}if(n instanceof ft)return iv(r,n._key);throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sh(n)}.`)}function Bv(r,e){if(!Array.isArray(r)||r.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yT(r,e){const n=(function(l,u){for(const f of l)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class DI{convertValue(e,n="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return hs(e,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,l,u;const n=(u=(l=(s=e.fields)==null?void 0:s[ch].arrayValue)==null?void 0:l.values)==null?void 0:u.map((f=>_t(f.doubleValue)));return new Mi(n)}convertGeoPoint(e){return new ki(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=xh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const n=rs(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ye(jb(s),9688,{name:e});const l=new Hl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return l.isEqual(n)||or(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Dl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qs extends fT{constructor(e,n,s,l,u,f){super(e,n,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(wg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:Dt("string",Qs._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Wc extends Qs{data(e={}){return super.data(e)}}class Ks{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Dl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Wc(this._firestore,this._userDataWriter,s.key,s,new Dl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const _=new Wc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const _=new Wc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:OI(g.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ks._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function OI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(r){r=gn(r,ft);const e=gn(r.firestore,ur);return _I(Ph(e),r._key).then((n=>ET(e,r,n)))}Ks._jsonSchemaVersion="firestore/querySnapshot/1.0",Ks._jsonSchema={type:Dt("string",Ks._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Ng extends DI{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function MI(r){r=gn(r,ds);const e=gn(r.firestore,ur),n=Ph(e),s=new Ng(e);return dT(r._query),vI(n,r._query).then((l=>new Ks(e,s,r,l)))}function VI(r,e,n){r=gn(r,ft);const s=gn(r.firestore,ur),l=_T(r.converter,e);return Bh(s,[lT(zh(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Bn.none())])}function jI(r,e,n,...s){r=gn(r,ft);const l=gn(r.firestore,ur),u=zh(l);let f;return f=typeof(e=Vt(e))=="string"||e instanceof Lh?CI(u,"updateDoc",r._key,e,n,s):xI(u,"updateDoc",r._key,e),Bh(l,[f.toMutation(r._key,Bn.exists(!0))])}function PI(r){return Bh(gn(r.firestore,ur),[new eg(r._key,Bn.none())])}function Dg(r,e){const n=gn(r.firestore,ur),s=au(r),l=_T(r.converter,e);return Bh(n,[lT(zh(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Bn.exists(!1))]).then((()=>s))}function vT(r,...e){var _,y,T;r=Vt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||zv(e[s])||(n=e[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(zv(e[s])){const A=e[s];e[s]=(_=A.next)==null?void 0:_.bind(A),e[s+1]=(y=A.error)==null?void 0:y.bind(A),e[s+2]=(T=A.complete)==null?void 0:T.bind(A)}let u,f,g;if(r instanceof ft)f=gn(r.firestore,ur),g=Ch(r._key.path),u={next:A=>{e[s]&&e[s](ET(f,r,A))},error:e[s+1],complete:e[s+2]};else{const A=gn(r,ds);f=gn(A.firestore,ur),g=A._query;const R=new Ng(f);u={next:q=>{e[s]&&e[s](new Ks(f,R,A,q))},error:e[s+1],complete:e[s+2]},dT(r._query)}return(function(R,q,Z,ee){const Q=new Eg(ee),W=new yg(q,Q,Z);return R.asyncQueue.enqueueAndForget((async()=>mg(await yh(R),W))),()=>{Q.Nu(),R.asyncQueue.enqueueAndForget((async()=>gg(await yh(R),W)))}})(Ph(f),g,l,u)}function Bh(r,e){return(function(s,l){const u=new rr;return s.asyncQueue.enqueueAndForget((async()=>aI(await yI(s),l,u))),u.promise})(Ph(r),e)}function ET(r,e,n){const s=n.docs.get(e._key),l=new Ng(r);return new Qs(r,l,e._key,s,new Dl(n.hasPendingWrites,n.fromCache),e.converter)}function Og(){return new Tg("serverTimestamp")}(function(e,n=!0){(function(l){mo=l})(ho),no(new Xs("firestore",((s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),g=new ur(new xx(s.getProvider("auth-internal")),new Ix(f,s.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(y.options.projectId,T)})(f,l),f);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),es(F_,G_,e),es(F_,G_,"esm2020")})();const LI={apiKey:"AIzaSyCke9Nk3UncQP9XetppwTIhb5UaN-tDMgY",authDomain:"site-de-emprego-8d79f.firebaseapp.com",projectId:"site-de-emprego-8d79f",storageBucket:"site-de-emprego-8d79f.firebasestorage.app",messagingSenderId:"537905533556",appId:"1:537905533556:web:6c9507a5014fbb30e7f721"},sn=!0,uo=r=>{if(r==null)return;if(typeof r!="object"||r instanceof Date)return r;if(Array.isArray(r)){const n=r.map(uo).filter(s=>s!==void 0);return n.length>0?n:void 0}const e={};return Object.entries(r).forEach(([n,s])=>{if(s!=null)if(typeof s=="object"&&!(s instanceof Date)){const l=uo(s);l!==void 0&&(e[n]=l)}else e[n]=s}),Object.keys(e).length>0?e:void 0};let cr=null,vt=null;if(sn){const r=rE(LI);cr=Tx(r),vt=bI(r)}const rn=()=>sn,UI=async(r,e,n)=>{if(!sn||!cr||!vt)throw new Error("Firebase not configured");const l=(await aw(cr,e,n)).user,u={id:l.uid,companyName:r,email:e};return await VI(au(vt,"employers",l.uid),u),u},zI=async(r,e)=>{if(!sn||!cr)throw new Error("Firebase not configured");return(await ow(cr,r,e)).user},qI=async()=>{if(!sn||!cr)throw new Error("Firebase not configured");await hw(cr)},BI=r=>!sn||!cr?()=>{}:cw(cr,r),HI=async r=>{if(!sn||!vt)throw new Error("Firebase not configured");const e=au(vt,"employers",r),n=await kI(e);return n.exists()?n.data():null},FI=async(r,e)=>{if(!sn||!vt)throw new Error("Firebase not configured");const s={...uo(r),employerId:e,createdAt:Og()};return{id:(await Dg(vo(vt,"jobs"),s)).id,...s}},GI=async(r,e)=>{if(!sn||!vt)throw new Error("Firebase not configured");const s={...uo(e),updatedAt:Og()},l=au(vt,"jobs",r);await jI(l,s)},QI=async r=>{if(!sn||!vt)throw new Error("Firebase not configured");await PI(au(vt,"jobs",r))},KI=async(r,e)=>{if(!sn||!vt)throw new Error("Firebase not configured");const n=vo(vt,"jobs",r,"applications"),l={...uo(e),date:new Date().toISOString()};return{id:(await Dg(n,l)).id,...l}},Hv=async r=>{if(!sn||!vt)throw new Error("Firebase not configured");const e=vo(vt,"jobs",r,"applications");return(await MI(e)).docs.map(s=>({id:s.id,...s.data()}))},YI=r=>{if(!sn||!vt)return()=>{};const e=gT(vo(vt,"jobs"),pT("createdAt","desc"));return vT(e,s=>{const l=s.docs.map(u=>({id:u.id,...u.data()}));r(l)})},XI=async r=>{if(!sn||!vt)throw new Error("Firebase not configured");const n={...uo(r),createdAt:Og()};return{id:(await Dg(vo(vt,"feedback"),n)).id,...n}},JI=r=>{if(!sn||!vt)return()=>{};const e=gT(vo(vt,"feedback"),pT("createdAt","desc"));return vT(e,s=>{const l=s.docs.map(u=>({id:u.id,...u.data()}));r(l)})},$I=()=>{const r=ie.useContext(fr),[e,n]=ie.useState(!0),[s,l]=ie.useState(""),[u,f]=ie.useState(""),[g,_]=ie.useState(""),[y,T]=ie.useState(""),[A,R]=ie.useState(null),[q,Z]=ie.useState([]),[ee,Q]=ie.useState(null),[W,ne]=ie.useState({});if(!r)return p.jsx("div",{children:"Carregando..."});const{loggedInEmployer:te,login:ce,logout:fe,register:_e,jobs:I,deleteJob:x,setPage:C}=r,M=ie.useMemo(()=>te?I.filter(ae=>ae.employerId===te.id):[],[I,te]);ie.useEffect(()=>{if(!rn()||!te)return;(async()=>{const Ce={};for(const F of M)try{const se=await Hv(F.id);Ce[F.id]=se.length}catch{Ce[F.id]=0}ne(Ce)})()},[M,te]);const D=async ae=>{ae.preventDefault();const Ce=await ce(s,u);T(Ce?"":"E-mail ou senha invlidos.")},V=async ae=>{ae.preventDefault();const Ce=await _e(g,s,u);T(Ce?"":"Este e-mail j est em uso.")};if(!te)return p.jsx("div",{className:"max-w-md mx-auto mt-10",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-8",children:[p.jsxs("div",{className:"flex justify-center mb-6",children:[p.jsx("button",{onClick:()=>n(!0),className:`px-4 py-2 font-semibold ${e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,children:"Login"}),p.jsx("button",{onClick:()=>n(!1),className:`px-4 py-2 font-semibold ${e?"text-gray-500":"text-blue-600 border-b-2 border-blue-600"}`,children:"Cadastro"})]}),p.jsxs("form",{onSubmit:e?D:V,className:"space-y-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 dark:text-white",children:e?"Acesso do Empregador":"Cadastre sua Empresa"}),!e&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome da Empresa"}),p.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Qv,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"text",value:g,onChange:ae=>_(ae.target.value),required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"E-mail"}),p.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(bS,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"email",value:s,onChange:ae=>l(ae.target.value),required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Senha"}),p.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(TS,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"password",value:u,onChange:ae=>f(ae.target.value),required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600"})]})]}),y&&p.jsx("p",{className:"text-red-500 text-sm text-center",children:y}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{type:"submit",className:"flex-1 flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e?"Entrar":"Cadastrar"}),p.jsx("button",{type:"button",onClick:()=>C("home"),className:"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 dark:bg-gray-600 dark:text-gray-200 dark:border-gray-500 dark:hover:bg-gray-500",children:"Cancelar"})]})]})]})});const w=async ae=>{if(R(ae),rn())try{const Ce=await Hv(ae.id);Z(Ce)}catch{Z([])}else Z(ae.applications||[])};return A?p.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6",children:[p.jsx("button",{onClick:()=>R(null),className:"mb-4 text-blue-600 dark:text-blue-400 hover:underline",children:" Voltar para Vagas"}),p.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Candidatos para: ",A.title]}),q.length>0?p.jsx("div",{className:"space-y-4",children:q.map(ae=>p.jsxs("div",{className:"p-4 border rounded-md dark:border-gray-700",children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Nome:"})," ",ae.fullName]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Email:"})," ",p.jsx("a",{href:`mailto:${ae.email}`,className:"text-blue-500 hover:underline",children:ae.email})]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Telefone:"})," ",p.jsx("a",{href:`tel:${ae.phone}`,className:"text-blue-500 hover:underline",children:ae.phone})]}),ae.resumeFile&&p.jsxs("p",{children:[p.jsx("strong",{children:"Currculo (Arquivo):"})," ",p.jsx("a",{href:ae.resumeFile.content,download:ae.resumeFile.name,className:"text-blue-500 hover:underline",children:ae.resumeFile.name})]}),ae.resumeText&&p.jsxs("div",{className:"mt-2",children:[p.jsx("strong",{children:"Currculo (Texto):"}),p.jsx("pre",{className:"mt-1 p-2 bg-gray-100 dark:bg-gray-700 rounded whitespace-pre-wrap font-sans",children:ae.resumeText})]})]},ae.id))}):p.jsx("p",{children:"Nenhum candidato ainda."})]}):p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h1",{className:"text-3xl font-bold",children:"Painel do Empregador"}),p.jsx("button",{onClick:fe,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700",children:"Sair"})]}),p.jsxs("p",{className:"text-xl",children:["Bem-vindo(a), ",te.companyName,"!"]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:ee?`Editando Vaga: "${ee.title}"`:"Publicar Nova Vaga"}),p.jsx(ES,{jobToEdit:ee,onFinish:()=>Q(null)})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Suas Vagas Publicadas"}),p.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:M.length>0?M.map(ae=>p.jsxs("div",{className:"p-4 border rounded-md dark:border-gray-700 flex justify-between items-center gap-2",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold",children:ae.title}),p.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[ae.location," - ",W[ae.id]??ae.applications.length," candidato(s)"]})]}),p.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[p.jsx("button",{onClick:()=>Q(ae),className:"p-2 text-sm text-white bg-yellow-500 rounded-full hover:bg-yellow-600",title:"Editar Vaga",children:p.jsx(SS,{className:"h-4 w-4"})}),p.jsx("button",{onClick:()=>{window.confirm(`Tem certeza que deseja excluir esta vaga?
Esta ao no poder ser desfeita.`)&&x(ae.id)},className:"p-2 text-sm text-white bg-red-600 rounded-full hover:bg-red-700",title:"Excluir Vaga",children:p.jsx(Mm,{className:"h-4 w-4"})}),p.jsx("button",{onClick:()=>w(ae),className:"px-3 py-1 text-sm text-white bg-blue-600 rounded hover:bg-blue-700",children:"Ver Candidatos"})]})]},ae.id)):p.jsx("p",{children:"Voc ainda no publicou nenhuma vaga."})})]})]})]})},ZI=()=>{const r=ie.useContext(fr);if(!r)return p.jsx("div",{children:"Carregando..."});const{newsContent:e}=r;return p.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6 md:p-8",children:[p.jsx("h1",{className:"text-3xl font-bold mb-6 text-blue-600 dark:text-blue-400",children:"ltimas Notcias e Oportunidades"}),p.jsx("div",{className:"space-y-6",children:e.map((n,s)=>p.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:n.title}),p.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:n.description}),p.jsxs("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center font-semibold text-blue-600 dark:text-blue-400 hover:underline",children:["Ler mais em ",n.source]})]},s))})]})},WI=()=>{const r=ie.useContext(fr);if(!r)return p.jsx("div",{children:"Carregando..."});const{aboutContent:e}=r;return p.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6 md:p-8",children:p.jsx("div",{className:"prose dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:e}})})},eN=()=>{const r=ie.useContext(fr),[e,n]=ie.useState(!0),[s,l]=ie.useState(""),[u,f]=ie.useState(""),[g,_]=ie.useState(""),[y,T]=ie.useState(""),[A,R]=ie.useState(()=>{try{const w=localStorage.getItem("feedbackUser");return w?JSON.parse(w):null}catch{return null}}),[q,Z]=ie.useState("sugestao"),[ee,Q]=ie.useState(""),[W,ne]=ie.useState([]),[te,ce]=ie.useState(!1),[fe,_e]=ie.useState(!1),[I,x]=ie.useState("recent");if(ie.useEffect(()=>{if(!rn())return;const w=JI(ae=>{ne(ae)});return()=>w()},[]),!r)return p.jsx("div",{children:"Carregando..."});const C=w=>{if(w.preventDefault(),!s||!u){T("Preencha e-mail e senha.");return}const ae={email:s,name:s.split("@")[0]};R(ae);try{localStorage.setItem("feedbackUser",JSON.stringify(ae))}catch{}T(""),l(""),f("")},M=w=>{if(w.preventDefault(),!g||!s||!u){T("Preencha todos os campos.");return}if(u.length<6){T("Senha deve ter pelo menos 6 caracteres.");return}const ae={email:s,name:g};R(ae);try{localStorage.setItem("feedbackUser",JSON.stringify(ae))}catch{}T(""),_(""),l(""),f("")},D=()=>{R(null);try{localStorage.removeItem("feedbackUser")}catch{}},V=async w=>{if(w.preventDefault(),!ee.trim()){T("Escreva uma mensagem.");return}ce(!0);const ae={id:`fb-${Date.now()}`,name:A.name,email:A.email,type:q,message:ee,date:new Date().toISOString()};try{if(rn())try{await XI(ae)}catch(Ce){console.error("Firestore error:",Ce),T("Erro ao enviar feedback. Tente novamente."),ce(!1);return}else{T("Firebase no est configurado."),ce(!1);return}Q(""),T(""),_e(!1)}catch(Ce){console.error("Feedback error:",Ce),T("Erro ao enviar feedback. Tente novamente.")}finally{ce(!1)}};return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h1",{className:"text-3xl font-bold",children:"Comentrios"}),p.jsxs("div",{className:"flex items-center gap-3",children:[A&&p.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Ol, ",p.jsx("strong",{children:A.name})]}),A&&p.jsx("button",{onClick:D,className:"px-3 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700",children:"Sair"})]})]}),p.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300",children:"Compartilhe suas opinies, crticas, dvidas ou sugestes."}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"mb-4 text-gray-600 dark:text-gray-300",children:"Clique aqui para enviar o seu comentrio"}),p.jsx("button",{onClick:()=>_e(!0),className:"mt-2 inline-block px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Enviar Feedback"})]})}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-2xl font-bold",children:"Feedbacks"}),p.jsxs("select",{value:I,onChange:w=>x(w.target.value),className:"px-3 py-1 text-sm border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600",title:"Ordenar feedbacks",children:[p.jsx("option",{value:"recent",children:"Mais recentes"}),p.jsx("option",{value:"oldest",children:"Mais antigos"})]})]}),p.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:W.length>0?[...W].sort((w,ae)=>{const Ce=new Date(w.date).getTime(),F=new Date(ae.date).getTime();return I==="recent"?F-Ce:Ce-F}).map(w=>p.jsxs("div",{className:"p-4 border rounded-md dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("div",{children:p.jsx("p",{className:"font-semibold text-gray-800 dark:text-white",children:w.name})}),p.jsxs("span",{className:"text-xs bg-blue-200 dark:bg-blue-700 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:[w.type==="sugestao"&&"Sugesto",w.type==="elogio"&&"Elogio",w.type==="critica"&&"Crtica",w.type==="duvida"&&"Dvida"]})]}),p.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-2",children:w.message}),p.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(w.date).toLocaleDateString("pt-BR")," s"," ",new Date(w.date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]},w.id)):p.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum feedback ainda. Seja o primeiro!"})})]})]}),fe&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 w-full max-w-md",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Enviar Feedback"}),p.jsx("button",{onClick:()=>_e(!1),className:"text-gray-600 hover:text-gray-800",children:"Fechar"})]}),A?p.jsx("div",{children:p.jsxs("form",{onSubmit:V,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tipo de Feedback"}),p.jsxs("select",{value:q,onChange:w=>Z(w.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",title:"Tipo de feedback",children:[p.jsx("option",{value:"sugestao",children:"Sugesto"}),p.jsx("option",{value:"elogio",children:"Elogio"}),p.jsx("option",{value:"critica",children:"Crtica"}),p.jsx("option",{value:"duvida",children:"Dvida"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mensagem"}),p.jsx("textarea",{value:ee,onChange:w=>Q(w.target.value),rows:5,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Escreva sua mensagem aqui..."})]}),y&&p.jsx("p",{className:"text-red-500 text-sm",children:y}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{type:"submit",disabled:te,className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-md",children:te?"Enviando...":"Enviar Feedback"}),p.jsx("button",{type:"button",onClick:()=>_e(!1),className:"py-2 px-4 border rounded-md",children:"Fechar"})]})]})}):p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-center mb-4",children:[p.jsx("button",{onClick:()=>n(!0),className:`px-4 py-2 font-semibold ${e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,children:"Login"}),p.jsx("button",{onClick:()=>n(!1),className:`px-4 py-2 font-semibold ${e?"text-gray-500":"text-blue-600 border-b-2 border-blue-600"}`,children:"Cadastro"})]}),p.jsxs("form",{onSubmit:e?C:M,className:"space-y-4",children:[!e&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome"}),p.jsx("input",{type:"text",value:g,onChange:w=>_(w.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Seu nome"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"E-mail"}),p.jsx("input",{type:"email",value:s,onChange:w=>l(w.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"seu@exemplo.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Senha"}),p.jsx("input",{type:"password",value:u,onChange:w=>f(w.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Mnimo 6 caracteres"})]}),y&&p.jsx("p",{className:"text-red-500 text-sm",children:y}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{type:"submit",className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-md",children:e?"Entrar":"Cadastrar"}),p.jsx("button",{type:"button",onClick:()=>_e(!1),className:"py-2 px-4 border rounded-md",children:"Cancelar"})]})]})]})]})})]})},tN=()=>p.jsxs("div",{className:"space-y-12",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Educao"}),p.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Aprimore suas habilidades e prepare-se para o mercado de trabalho"})]}),p.jsxs("section",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Educao Financeira e Econmica"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Gesto de Oramento Pessoal"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Controle seus gastos:"})," Registre todas as despesas mensais (fixas e variveis)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Regra 50-30-20:"})," 50% necessidades, 30% desejos, 20% poupana/investimentos"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Fundo de emergncia:"})," Reserve de 3 a 6 meses de despesas em uma conta de fcil acesso"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Evite dvidas:"})," Priorize pagamentos  vista e evite juros de carto de crdito"]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Planejamento Financeiro"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Defina metas:"})," Curto prazo (frias), mdio prazo (carro), longo prazo (aposentadoria)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Invista em conhecimento:"})," Cursos gratuitos sobre finanas pessoais e investimentos"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Diversifique:"})," No coloque todos os recursos em um nico investimento"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Previdncia privada:"})," Considere opes de aposentadoria complementar"]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Noes de Economia"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Inflao:"})," Perda do poder de compra ao longo do tempo  invista para proteger seu dinheiro"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Taxa Selic:"})," Taxa bsica de juros do Brasil  afeta financiamentos e rendimentos"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Juros compostos:"}),' "Dinheiro gera dinheiro"  quanto antes investir, melhor']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Consumo consciente:"})," Avalie necessidade vs. desejo antes de comprar"]})]})]})]})]}),p.jsxs("section",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Preparo e Melhoria de Currculo"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Estrutura Bsica"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Dados pessoais:"})," Nome completo, telefone, e-mail profissional, cidade/estado, LinkedIn"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Objetivo profissional:"})," 2-3 linhas sobre a vaga desejada (personalize para cada empresa)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Formao acadmica:"})," Do mais recente ao mais antigo (curso, instituio, perodo)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Experincia profissional:"})," Empresa, cargo, perodo, principais atividades e resultados"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Cursos e certificaes:"})," Cursos relevantes para a vaga (idiomas, tcnicos, etc.)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Habilidades:"})," Competncias tcnicas (software, ferramentas) e comportamentais (liderana, comunicao)"]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Dicas de Ouro"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Seja objetivo:"})," Mximo de 2 pginas (profissionais juniores: 1 pgina)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Use verbos de ao:"}),' "Desenvolvi", "Gerenciei", "Implementei", "Analisei"']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Quantifique resultados:"}),' "Aumentei vendas em 30%" em vez de "Melhorei vendas"']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Revise ortografia:"})," Erros podem eliminar sua candidatura  pea para algum revisar"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Design limpo:"})," Fonte legvel (Arial, Calibri), espaamento adequado, evite cores excessivas"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Sem informaes pessoais demais:"})," No inclua RG, CPF, foto (a menos que solicitado)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Atualize sempre:"})," Adicione novos cursos, projetos e experincias regularmente"]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"O Que Evitar"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[p.jsx("li",{children:"Mentir sobre experincias ou habilidades"}),p.jsx("li",{children:"Usar e-mail pouco profissional (ex.: gatinha123@...)"}),p.jsx("li",{children:"Incluir informaes irrelevantes (hobbies que no agregam)"}),p.jsx("li",{children:"Salvar em formato incompatvel (sempre envie PDF)"}),p.jsx("li",{children:"Curriculo genrico  personalize para cada vaga"})]})]})]})]}),p.jsxs("section",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Como se Preparar para Entrevistas"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Antes da Entrevista"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Pesquise a empresa:"})," Misso, valores, produtos/servios, cultura organizacional"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Releia a vaga:"})," Anote os requisitos principais e prepare exemplos de como voc os atende"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Prepare respostas:"}),' "Fale sobre voc", "Pontos fortes/fracos", "Por que quer trabalhar aqui?"']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Tenha perguntas prontas:"}),' "Como  o dia a dia?", "Quais os desafios da funo?"']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Vista-se adequadamente:"})," Traje formal ou business casual (dependendo da empresa)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Chegue com antecedncia:"})," 10-15 minutos antes (online: teste equipamento com 30 min de antecedncia)"]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Durante a Entrevista"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Cumprimente com confiana:"})," Aperto de mo firme, olhar nos olhos, sorria naturalmente"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Linguagem corporal:"})," Postura ereta, evite cruzar braos, demonstre interesse"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Oua atentamente:"})," Espere o recrutador terminar antes de responder"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Seja honesto:"})," No invente experincias  foque no que realmente sabe fazer"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Use mtodo STAR:"})," Situao, Tarefa, Ao, Resultado ao contar experincias"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Mostre entusiasmo:"})," Demonstre interesse genuno pela vaga e pela empresa"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Evite falar mal:"})," Nunca critique ex-empregadores ou colegas"]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Perguntas Comuns e Como Responder"}),p.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-gray-300",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:'"Fale sobre voc"'}),p.jsx("p",{className:"ml-4",children:"Resuma sua trajetria profissional focando no que  relevante para a vaga (2-3 minutos)"})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:'"Qual seu maior defeito?"'}),p.jsx("p",{className:"ml-4",children:"Cite algo real, mas mostre como est trabalhando para melhorar"}),p.jsx("p",{className:"ml-4 text-sm italic",children:'Ex: "s vezes sou perfeccionista demais, mas aprendi a priorizar prazos"'})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:'"Por que devemos contratar voc?"'}),p.jsx("p",{className:"ml-4",children:"Destaque suas habilidades + resultados passados + alinhamento com a vaga"})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:'"Onde voc se v daqui a 5 anos?"'}),p.jsx("p",{className:"ml-4",children:"Mostre ambio alinhada com crescimento na empresa"})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:'"Pretenso salarial?"'}),p.jsx("p",{className:"ml-4",children:'Pesquise o mercado antes. Diga uma faixa ou "Estou aberto a propostas compatveis com o mercado"'})]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Aps a Entrevista"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Envie um e-mail de agradecimento:"})," Agradea a oportunidade e reforce seu interesse (em at 24h)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Anote pontos de melhoria:"})," O que poderia ter respondido melhor? Use para prximas entrevistas"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Mantenha contato (se apropriado):"})," Conecte-se no LinkedIn com o recrutador"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Continue buscando:"})," No espere apenas uma resposta  continue se candidatando"]})]})]}),p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900 p-4 rounded-lg",children:[p.jsx("h3",{className:"text-lg font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Dica Extra: Entrevistas Online"}),p.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-blue-700 dark:text-blue-300",children:[p.jsx("li",{children:"Teste cmera, microfone e conexo antes"}),p.jsx("li",{children:"Escolha um local iluminado e sem rudos"}),p.jsx("li",{children:"Fundo limpo e profissional (ou use fundo virtual neutro)"}),p.jsx("li",{children:"Olhe para a cmera (no para sua imagem na tela)"}),p.jsx("li",{children:"Tenha um copo d'gua por perto"})]})]})]})]}),p.jsxs("section",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-gray-800 dark:to-gray-700 shadow-lg rounded-lg p-8",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Recursos Gratuitos Recomendados"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-700 dark:text-gray-300",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold mb-2",children:"Educao Financeira:"}),p.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1",children:[p.jsx("li",{children:"CVM - Investidor"}),p.jsx("li",{children:"Tesouro Direto (cursos online)"}),p.jsx("li",{children:"B3 Educao"})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold mb-2",children:"Currculo e Entrevistas:"}),p.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1",children:[p.jsx("li",{children:"Canva (templates de currculo)"}),p.jsx("li",{children:"LinkedIn Learning"}),p.jsx("li",{children:"Vagas.com - Blog"})]})]})]})]})]}),fr=Gv.createContext(null),nN=()=>{const[r,e]=ie.useState("home"),[n,s]=ie.useState(()=>{try{const W=localStorage.getItem("jobs");return W?JSON.parse(W):u_}catch{return u_}}),[l,u]=ie.useState(()=>{try{const W=localStorage.getItem("employers");return W?JSON.parse(W):c_}catch{return c_}}),[f,g]=ie.useState(()=>{try{const W=localStorage.getItem("loggedInEmployer");return W?JSON.parse(W):null}catch{return null}}),_=ie.useCallback(async(W,ne)=>{if(rn())try{return await zI(W,ne),e("employer"),!0}catch{return!1}const te=l.find(ce=>ce.email===W&&ce.password===ne);return te?(g(te),e("employer"),!0):!1},[l]),y=ie.useCallback(()=>{rn()&&qI().catch(()=>{}),g(null)},[]);ie.useEffect(()=>{if(!rn())return;const W=YI(te=>{const ce=te.map(fe=>{let _e=new Date().toISOString();return fe.createdAt&&(typeof fe.createdAt=="string"?_e=fe.createdAt:typeof fe.createdAt=="object"&&fe.createdAt.toDate?_e=fe.createdAt.toDate().toISOString():fe.createdAt instanceof Date&&(_e=fe.createdAt.toISOString())),{id:fe.id,employerId:fe.employerId,title:fe.title,companyName:fe.companyName,location:fe.location,salary:fe.salary,benefits:fe.benefits,workHours:fe.workHours,workSchedule:fe.workSchedule,workScale:fe.workScale,requirements:fe.requirements||{},postedDate:_e,applications:fe.applications||[],resumePreference:fe.resumePreference||"file"}});s(ce);try{localStorage.setItem("jobs",JSON.stringify(ce))}catch{}}),ne=BI(async te=>{if(!te){g(null);return}try{const ce=await HI(te.uid);ce&&g(ce)}catch{}});return()=>{try{W()}catch{}try{ne()}catch{}}},[]);const T=ie.useCallback(async(W,ne,te)=>{if(rn())try{const fe=await UI(W,ne,te);return g(fe),e("employer"),!0}catch{return!1}if(l.some(fe=>fe.email===ne))return!1;const ce={id:`emp-${Date.now()}`,companyName:W,email:ne,password:te};return u(fe=>[...fe,ce]),g(ce),e("employer"),!0},[l]),A=ie.useCallback(W=>{if(rn()){if(!f){try{window.alert("Voc precisa estar logado como empregador para publicar vagas.")}catch{}return}FI(W,f.id).catch(te=>{try{window.alert("Falha ao publicar a vaga: "+((te==null?void 0:te.message)||String(te)))}catch{}});return}if(!f){try{window.alert("Voc precisa estar logado como empregador para publicar vagas.")}catch{}return}const ne={...W,id:`job-${Date.now()}`,postedDate:new Date().toISOString(),employerId:f.id,applications:[]};s(te=>[ne,...te])},[f]),R=ie.useCallback((W,ne)=>{if(rn()){GI(W,ne).catch(()=>{});return}s(te=>te.map(ce=>ce.id===W?{...ce,...ne}:ce))},[]),q=ie.useCallback(W=>{if(rn()){QI(W).catch(()=>{});return}s(ne=>ne.filter(te=>te.id!==W))},[]),Z=ie.useCallback((W,ne)=>{if(rn()){KI(W,ne).catch(()=>{});return}const te={...ne,id:`app-${Date.now()}`,date:new Date().toISOString()};s(ce=>ce.map(fe=>fe.id===W?{...fe,applications:[...fe.applications,te]}:fe))},[]);ie.useEffect(()=>{if(!rn())try{localStorage.setItem("jobs",JSON.stringify(n))}catch{}},[n]),ie.useEffect(()=>{if(!rn())try{localStorage.setItem("employers",JSON.stringify(l))}catch{}},[l]),ie.useEffect(()=>{if(!rn())try{f?localStorage.setItem("loggedInEmployer",JSON.stringify(f)):localStorage.removeItem("loggedInEmployer")}catch{}},[f]);const ee=()=>{switch(r){case"home":return p.jsx(f_,{});case"employer":return p.jsx($I,{});case"news":return p.jsx(ZI,{});case"about":return p.jsx(WI,{});case"feedback":return p.jsx(eN,{});case"education":return p.jsx(tN,{});default:return p.jsx(f_,{})}},Q=ie.useMemo(()=>({jobs:n,employers:l,loggedInEmployer:f,newsContent:uS,aboutContent:cS,setPage:e,login:_,logout:y,register:T,addJob:A,updateJob:R,deleteJob:q,addApplication:Z}),[n,l,f,_,y,T,A,R,Z]);return p.jsx(fr.Provider,{value:Q,children:p.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 font-sans",children:[p.jsx(fS,{}),p.jsx("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ee()}),p.jsx(dS,{})]})})},bT=document.getElementById("root");if(!bT)throw new Error("Could not find root element to mount to");const iN=lS.createRoot(bT);iN.render(p.jsx(Gv.StrictMode,{children:p.jsx(nN,{})}));
