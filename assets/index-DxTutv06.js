(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function Hv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Bd={exports:{}},Al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function $1(){if(Z0)return Al;Z0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:u}}return Al.Fragment=e,Al.jsx=n,Al.jsxs=n,Al}var W0;function Z1(){return W0||(W0=1,Bd.exports=$1()),Bd.exports}var p=Z1(),qd={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function W1(){if(e_)return Ae;e_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),R=Symbol.iterator;function B(M){return M===null||typeof M!="object"?null:(M=R&&M[R]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,Q={};function W(M,J,oe){this.props=M,this.context=J,this.refs=Q,this.updater=oe||Z}W.prototype.isReactComponent={},W.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},W.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ne(){}ne.prototype=W.prototype;function te(M,J,oe){this.props=M,this.context=J,this.refs=Q,this.updater=oe||Z}var ue=te.prototype=new ne;ue.constructor=te,ee(ue,W.prototype),ue.isPureReactComponent=!0;var fe=Array.isArray;function _e(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(M,J,oe){var he=oe.ref;return{$$typeof:r,type:M,key:J,ref:he!==void 0?he:null,props:oe}}function k(M,J){return C(M.type,J,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function V(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(oe){return J[oe]})}var w=/\/+/g;function re(M,J){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):J.toString(36)}function xe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(_e,_e):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,J,oe,he,be){var Ie=typeof M;(Ie==="undefined"||Ie==="boolean")&&(M=null);var Ue=!1;if(M===null)Ue=!0;else switch(Ie){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(M.$$typeof){case r:case e:Ue=!0;break;case b:return Ue=M._init,F(Ue(M._payload),J,oe,he,be)}}if(Ue)return be=be(M),Ue=he===""?"."+re(M,0):he,fe(be)?(oe="",Ue!=null&&(oe=Ue.replace(w,"$&/")+"/"),F(be,J,oe,"",function(ds){return ds})):be!=null&&(D(be)&&(be=k(be,oe+(be.key==null||M&&M.key===be.key?"":(""+be.key).replace(w,"$&/")+"/")+Ue)),J.push(be)),1;Ue=0;var Dt=he===""?".":he+":";if(fe(M))for(var at=0;at<M.length;at++)he=M[at],Ie=Dt+re(he,at),Ue+=F(he,J,oe,Ie,be);else if(at=B(M),typeof at=="function")for(M=at.call(M),at=0;!(he=M.next()).done;)he=he.value,Ie=Dt+re(he,at++),Ue+=F(he,J,oe,Ie,be);else if(Ie==="object"){if(typeof M.then=="function")return F(xe(M),J,oe,he,be);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ae(M,J,oe){if(M==null)return M;var he=[],be=0;return F(M,he,"","",function(Ie){return J.call(oe,Ie,be++)}),he}function ye(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(oe){(M._status===0||M._status===-1)&&(M._status=1,M._result=oe)},function(oe){(M._status===0||M._status===-1)&&(M._status=2,M._result=oe)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var Be=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ke={map:ae,forEach:function(M,J,oe){ae(M,function(){J.apply(this,arguments)},oe)},count:function(M){var J=0;return ae(M,function(){J++}),J},toArray:function(M){return ae(M,function(J){return J})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ae.Activity=A,Ae.Children=Ke,Ae.Component=W,Ae.Fragment=n,Ae.Profiler=l,Ae.PureComponent=te,Ae.StrictMode=s,Ae.Suspense=_,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Ae.cache=function(M){return function(){return M.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(M,J,oe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var he=ee({},M.props),be=M.key;if(J!=null)for(Ie in J.key!==void 0&&(be=""+J.key),J)!x.call(J,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&J.ref===void 0||(he[Ie]=J[Ie]);var Ie=arguments.length-2;if(Ie===1)he.children=oe;else if(1<Ie){for(var Ue=Array(Ie),Dt=0;Dt<Ie;Dt++)Ue[Dt]=arguments[Dt+2];he.children=Ue}return C(M.type,be,he)},Ae.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ae.createElement=function(M,J,oe){var he,be={},Ie=null;if(J!=null)for(he in J.key!==void 0&&(Ie=""+J.key),J)x.call(J,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(be[he]=J[he]);var Ue=arguments.length-2;if(Ue===1)be.children=oe;else if(1<Ue){for(var Dt=Array(Ue),at=0;at<Ue;at++)Dt[at]=arguments[at+2];be.children=Dt}if(M&&M.defaultProps)for(he in Ue=M.defaultProps,Ue)be[he]===void 0&&(be[he]=Ue[he]);return C(M,Ie,be)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:g,render:M}},Ae.isValidElement=D,Ae.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:ye}},Ae.memo=function(M,J){return{$$typeof:y,type:M,compare:J===void 0?null:J}},Ae.startTransition=function(M){var J=I.T,oe={};I.T=oe;try{var he=M(),be=I.S;be!==null&&be(oe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(_e,Be)}catch(Ie){Be(Ie)}finally{J!==null&&oe.types!==null&&(J.types=oe.types),I.T=J}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(M){return I.H.use(M)},Ae.useActionState=function(M,J,oe){return I.H.useActionState(M,J,oe)},Ae.useCallback=function(M,J){return I.H.useCallback(M,J)},Ae.useContext=function(M){return I.H.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M,J){return I.H.useDeferredValue(M,J)},Ae.useEffect=function(M,J){return I.H.useEffect(M,J)},Ae.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(M,J,oe){return I.H.useImperativeHandle(M,J,oe)},Ae.useInsertionEffect=function(M,J){return I.H.useInsertionEffect(M,J)},Ae.useLayoutEffect=function(M,J){return I.H.useLayoutEffect(M,J)},Ae.useMemo=function(M,J){return I.H.useMemo(M,J)},Ae.useOptimistic=function(M,J){return I.H.useOptimistic(M,J)},Ae.useReducer=function(M,J,oe){return I.H.useReducer(M,J,oe)},Ae.useRef=function(M){return I.H.useRef(M)},Ae.useState=function(M){return I.H.useState(M)},Ae.useSyncExternalStore=function(M,J,oe){return I.H.useSyncExternalStore(M,J,oe)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.0",Ae}var t_;function Om(){return t_||(t_=1,qd.exports=W1()),qd.exports}var se=Om();const Fv=Hv(se);var Hd={exports:{}},wl={},Fd={exports:{}},Gd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function eS(){return n_||(n_=1,(function(r){function e(F,ae){var ye=F.length;F.push(ae);e:for(;0<ye;){var Be=ye-1>>>1,Ke=F[Be];if(0<l(Ke,ae))F[Be]=ae,F[ye]=Ke,ye=Be;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var ae=F[0],ye=F.pop();if(ye!==ae){F[0]=ye;e:for(var Be=0,Ke=F.length,M=Ke>>>1;Be<M;){var J=2*(Be+1)-1,oe=F[J],he=J+1,be=F[he];if(0>l(oe,ye))he<Ke&&0>l(be,oe)?(F[Be]=be,F[he]=ye,Be=he):(F[Be]=oe,F[J]=ye,Be=J);else if(he<Ke&&0>l(be,ye))F[Be]=be,F[he]=ye,Be=he;else break e}}return ae}function l(F,ae){var ye=F.sortIndex-ae.sortIndex;return ye!==0?ye:F.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var _=[],y=[],b=1,A=null,R=3,B=!1,Z=!1,ee=!1,Q=!1,W=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ue(F){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=F)s(y),ae.sortIndex=ae.expirationTime,e(_,ae);else break;ae=n(y)}}function fe(F){if(ee=!1,ue(F),!Z)if(n(_)!==null)Z=!0,_e||(_e=!0,V());else{var ae=n(y);ae!==null&&xe(fe,ae.startTime-F)}}var _e=!1,I=-1,x=5,C=-1;function k(){return Q?!0:!(r.unstable_now()-C<x)}function D(){if(Q=!1,_e){var F=r.unstable_now();C=F;var ae=!0;try{e:{Z=!1,ee&&(ee=!1,ne(I),I=-1),B=!0;var ye=R;try{t:{for(ue(F),A=n(_);A!==null&&!(A.expirationTime>F&&k());){var Be=A.callback;if(typeof Be=="function"){A.callback=null,R=A.priorityLevel;var Ke=Be(A.expirationTime<=F);if(F=r.unstable_now(),typeof Ke=="function"){A.callback=Ke,ue(F),ae=!0;break t}A===n(_)&&s(_),ue(F)}else s(_);A=n(_)}if(A!==null)ae=!0;else{var M=n(y);M!==null&&xe(fe,M.startTime-F),ae=!1}}break e}finally{A=null,R=ye,B=!1}ae=void 0}}finally{ae?V():_e=!1}}}var V;if(typeof te=="function")V=function(){te(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,re=w.port2;w.port1.onmessage=D,V=function(){re.postMessage(null)}}else V=function(){W(D,0)};function xe(F,ae){I=W(function(){F(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(F){switch(R){case 1:case 2:case 3:var ae=3;break;default:ae=R}var ye=R;R=ae;try{return F()}finally{R=ye}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(F,ae){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ye=R;R=F;try{return ae()}finally{R=ye}},r.unstable_scheduleCallback=function(F,ae,ye){var Be=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Be+ye:Be):ye=Be,F){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ye+Ke,F={id:b++,callback:ae,priorityLevel:F,startTime:ye,expirationTime:Ke,sortIndex:-1},ye>Be?(F.sortIndex=ye,e(y,F),n(_)===null&&F===n(y)&&(ee?(ne(I),I=-1):ee=!0,xe(fe,ye-Be))):(F.sortIndex=Ke,e(_,F),Z||B||(Z=!0,_e||(_e=!0,V()))),F},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(F){var ae=R;return function(){var ye=R;R=ae;try{return F.apply(this,arguments)}finally{R=ye}}}})(Gd)),Gd}var i_;function tS(){return i_||(i_=1,Fd.exports=eS()),Fd.exports}var Qd={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function nS(){if(r_)return Xt;r_=1;var r=Om();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(_,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:y,implementation:b}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(_,y,null,b)},Xt.flushSync=function(_){var y=f.T,b=s.p;try{if(f.T=null,s.p=2,_)return _()}finally{f.T=y,s.p=b,s.d.f()}},Xt.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(_,y))},Xt.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Xt.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,A=g(b,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:B}):b==="script"&&s.d.X(_,{crossOrigin:A,integrity:R,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);s.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(_)},Xt.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=g(b,y.crossOrigin);s.d.L(_,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=g(y.as,y.crossOrigin);s.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(_)},Xt.requestFormReset=function(_){s.d.r(_)},Xt.unstable_batchedUpdates=function(_,y){return _(y)},Xt.useFormState=function(_,y,b){return f.H.useFormState(_,y,b)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var s_;function iS(){if(s_)return Qd.exports;s_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Qd.exports=nS(),Qd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function rS(){if(a_)return wl;a_=1;var r=tS(),e=Om(),n=iS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function _(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return _(h),t;if(d===o)return _(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,o=d;break}if(T===o){v=!0,o=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,o=h;break}if(T===o){v=!0,o=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,R=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),te=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function re(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case W:return"Profiler";case Q:return"StrictMode";case fe:return"Suspense";case _e:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case te:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case ue:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:re(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return re(t(i))}catch{}}return null}var xe=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Be=[],Ke=-1;function M(t){return{current:t}}function J(t){0>Ke||(t.current=Be[Ke],Be[Ke]=null,Ke--)}function oe(t,i){Ke++,Be[Ke]=t.current,t.current=i}var he=M(null),be=M(null),Ie=M(null),Ue=M(null);function Dt(t,i){switch(oe(Ie,i),oe(be,t),oe(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?T0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=T0(i),t=b0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(he),oe(he,t)}function at(){J(he),J(be),J(Ie)}function ds(t){t.memoizedState!==null&&oe(Ue,t);var i=he.current,a=b0(i,t.type);i!==a&&(oe(be,t),oe(he,a))}function ia(t){be.current===t&&(J(he),J(be)),Ue.current===t&&(J(Ue),El._currentValue=ye)}var ra,sa;function ii(t){if(ra===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ra=i&&i[1]||"",sa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ra+t+sa}var Eo=!1;function ms(t,i){if(!t||Eo)return"";Eo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){z=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var N=v.split(`
`),U=T.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===U.length)for(o=N.length-1,h=U.length-1;1<=o&&0<=h&&N[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==U[h]){var G=`
`+N[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{Eo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ii(a):""}function To(t,i){switch(t.tag){case 26:case 27:case 5:return ii(t.type);case 16:return ii("Lazy");case 13:return t.child!==i&&i!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return ms(t.type,!1);case 11:return ms(t.type.render,!1);case 1:return ms(t.type,!0);case 31:return ii("Activity");default:return""}}function bo(t){try{var i="",a=null;do i+=To(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var vt=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,fr=r.unstable_cancelCallback,qh=r.unstable_shouldYield,lu=r.unstable_requestPaint,en=r.unstable_now,gs=r.unstable_getCurrentPriorityLevel,So=r.unstable_ImmediatePriority,Ao=r.unstable_UserBlockingPriority,dr=r.unstable_NormalPriority,Hh=r.unstable_LowPriority,uu=r.unstable_IdlePriority,cu=r.log,hu=r.unstable_setDisableYieldValue,qn=null,zt=null;function xn(t){if(typeof cu=="function"&&hu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(qn,t)}catch{}}var dt=Math.clz32?Math.clz32:du,fu=Math.log,aa=Math.LN2;function du(t){return t>>>=0,t===0?32:31-(fu(t)/aa|0)|0}var ri=256,ps=262144,Et=4194304;function si(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ai(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=si(o):(v&=T,v!==0?h=si(v):a||(a=T&~t,a!==0&&(h=si(a))))):(T=o&~d,T!==0?h=si(T):v!==0?h=si(v):a||(a=o&~t,a!==0&&(h=si(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Hn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Fh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function oi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ys(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gh(t,i,a,o,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,U=t.hiddenUpdates;for(a=v&~a;0<a;){var G=31-dt(a),X=1<<G;T[G]=0,N[G]=-1;var z=U[G];if(z!==null)for(U[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}a&=~X}o!==0&&_s(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function _s(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-dt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function wo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-dt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function xo(t,i){var a=i&-i;return a=(a&42)!==0?1:vs(a),(a&(t.suspendedLanes|i))!==0?0:a}function vs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Mi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:G0(t.type))}function Fn(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var Gn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Gn,jt="__reactProps$"+Gn,li="__reactContainer$"+Gn,oa="__reactEvents$"+Gn,Qh="__reactListeners$"+Gn,pu="__reactHandles$"+Gn,yu="__reactResources$"+Gn,ui="__reactMarker$"+Gn;function la(t){delete t[Tt],delete t[jt],delete t[oa],delete t[Qh],delete t[pu]}function ci(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[li]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=I0(t);t!==null;){if(a=t[Tt])return a;t=I0(t)}return i}t=a,a=t.parentNode}return null}function Cn(t){if(t=t[Tt]||t[li]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function hi(t){var i=t[yu];return i||(i=t[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bt(t){t[ui]=!0}var Co=new Set,Ro={};function fi(t,i){di(t,i),di(t+"Capture",i)}function di(t,i){for(Ro[t]=i,t=0;t<i.length;t++)Co.add(i[t])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Do={};function _u(t){return vt.call(Do,t)?!0:vt.call(No,t)?!1:Io.test(t)?Do[t]=!0:(No[t]=!0,!1)}function ua(t,i,a){if(_u(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Oo(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=mr(t)?"checked":"value";t._valueTracker=Oo(t,i,""+t[i])}}function Es(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=mr(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ts=/[\n"\\]/g;function an(t){return t.replace(Ts,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ca(t,i,a,o,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?ko(t,v,Pt(i)):a!=null?ko(t,v,Pt(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Pt(T):t.removeAttribute("name")}function vu(t,i,a,o,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ye(t)}function ko(t,i,a){i==="number"&&mi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function gr(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Eu(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function pr(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(xe(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ye(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mo(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Tu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Vo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Mo(t,h,o)}else for(var d in i)i.hasOwnProperty(d)&&Mo(t,d,i[d])}function ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(t){return yr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qn(){}var jo=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _r=null,gi=null;function bs(t){var i=Cn(t);if(i&&(t=i.stateNode)){var a=t[jt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[jt]||null;if(!h)throw Error(s(90));ca(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Es(o)}break e;case"textarea":Eu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&gr(t,!!a.multiple,i,!1)}}}var da=!1;function vr(t,i,a){if(da)return t(i,a);da=!0;try{var o=t(i);return o}finally{if(da=!1,(_r!==null||gi!==null)&&(gc(),_r&&(i=_r,t=gi,gi=_r=null,bs(i),t)))for(i=0;i<t.length;i++)bs(t[i])}}function Kn(t,i){var a=t.stateNode;if(a===null)return null;var o=a[jt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ss=!1;if(In)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Ss=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Ss=!1}var pi=null,Po=null,As=null;function Lo(){if(As)return As;var t,i=Po,a=i.length,o,h="value"in pi?pi.value:pi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return As=h.slice(t,1<o?1-o:void 0)}function ws(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Vi(){return!0}function Yn(){return!1}function Bt(t){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Vi:Yn,this.isPropagationStopped=Yn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),i}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Bt(ji),Er=A({},ji,{view:0,detail:0}),Uo=Bt(Er),Tr,ma,_i,ga=A({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_i&&(_i&&t.type==="mousemove"?(Tr=t.screenX-_i.screenX,ma=t.screenY-_i.screenY):ma=Tr=0,_i=t),Tr)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),zo=Bt(ga),xs=A({},ga,{dataTransfer:0}),Su=Bt(xs),Au=A({},Er,{relatedTarget:0}),Cs=Bt(Au),Bo=A({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=Bt(Bo),pa=A({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xu=Bt(pa),Cu=A({},ji,{data:0}),vi=Bt(Cu),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Nu[t])?!!i[t]:!1}function br(){return Du}var tn=A({},Er,{key:function(t){if(t.key){var i=Ru[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(t){return t.type==="keypress"?ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ou=Bt(tn),ku=A({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=Bt(ku),c=A({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),m=Bt(c),E=A({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Bt(E),P=A({},ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Bt(P),ie=A({},ji,{newState:0,oldState:0}),Ce=Bt(ie),mt=[9,13,27,32],Fe=In&&"CompositionEvent"in window,ot=null;In&&"documentMode"in document&&(ot=document.documentMode);var Nn=In&&"TextEvent"in window&&!ot,Ei=In&&(!Fe||ot&&8<ot&&11>=ot),Xn=" ",Jn=!1;function Rs(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function Tb(t,i){switch(t){case"compositionend":return ya(i);case"keypress":return i.which!==32?null:(Jn=!0,Xn);case"textInput":return t=i.data,t===Xn&&Jn?null:t;default:return null}}function bb(t,i){if(_a)return t==="compositionend"||!Fe&&Rs(t,i)?(t=Lo(),As=Po=pi=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ei&&i.locale!=="ko"?null:i.data;default:return null}}var Sb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Og(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Sb[t.type]:i==="textarea"}function kg(t,i,a,o){_r?gi?gi.push(o):gi=[o]:_r=o,i=bc(i,"onChange"),0<i.length&&(a=new yi("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var qo=null,Ho=null;function Ab(t){g0(t,0)}function Mu(t){var i=pn(t);if(Es(i))return t}function Mg(t,i){if(t==="change")return i}var Vg=!1;if(In){var Kh;if(In){var Yh="oninput"in document;if(!Yh){var jg=document.createElement("div");jg.setAttribute("oninput","return;"),Yh=typeof jg.oninput=="function"}Kh=Yh}else Kh=!1;Vg=Kh&&(!document.documentMode||9<document.documentMode)}function Pg(){qo&&(qo.detachEvent("onpropertychange",Lg),Ho=qo=null)}function Lg(t){if(t.propertyName==="value"&&Mu(Ho)){var i=[];kg(i,Ho,t,Rn(t)),vr(Ab,i)}}function wb(t,i,a){t==="focusin"?(Pg(),qo=i,Ho=a,qo.attachEvent("onpropertychange",Lg)):t==="focusout"&&Pg()}function xb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(Ho)}function Cb(t,i){if(t==="click")return Mu(i)}function Rb(t,i){if(t==="input"||t==="change")return Mu(i)}function Ib(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:Ib;function Fo(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!vt.call(i,h)||!_n(t[h],i[h]))return!1}return!0}function Ug(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zg(t,i){var a=Ug(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ug(a)}}function Bg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Bg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function qg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=mi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=mi(t.document)}return i}function Xh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Nb=In&&"documentMode"in document&&11>=document.documentMode,va=null,Jh=null,Go=null,$h=!1;function Hg(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$h||va==null||va!==mi(o)||(o=va,"selectionStart"in o&&Xh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Go&&Fo(Go,o)||(Go=o,o=bc(Jh,"onSelect"),0<o.length&&(i=new yi("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=va)))}function Is(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ea={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},Zh={},Fg={};In&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Ns(t){if(Zh[t])return Zh[t];if(!Ea[t])return t;var i=Ea[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Fg)return Zh[t]=i[a];return t}var Gg=Ns("animationend"),Qg=Ns("animationiteration"),Kg=Ns("animationstart"),Db=Ns("transitionrun"),Ob=Ns("transitionstart"),kb=Ns("transitioncancel"),Yg=Ns("transitionend"),Xg=new Map,Wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wh.push("scrollEnd");function $n(t,i){Xg.set(t,i),fi(i,[t])}var Vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],Ta=0,ef=0;function ju(){for(var t=Ta,i=ef=Ta=0;i<t;){var a=Dn[i];Dn[i++]=null;var o=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&Jg(a,h,d)}}function Pu(t,i,a,o){Dn[Ta++]=t,Dn[Ta++]=i,Dn[Ta++]=a,Dn[Ta++]=o,ef|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function tf(t,i,a,o){return Pu(t,i,a,o),Lu(t)}function Ds(t,i){return Pu(t,null,null,i),Lu(t)}function Jg(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-dt(a),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function Lu(t){if(50<dl)throw dl=0,hd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ba={};function Mb(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,o){return new Mb(t,i,a,o)}function nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Li(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function $g(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Uu(t,i,a,o,h,d){var v=0;if(o=t,typeof t=="function")nf(t)&&(v=1);else if(typeof t=="string")v=U1(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=vn(31,a,i,h),t.elementType=C,t.lanes=d,t;case ee:return Os(a.children,h,d,i);case Q:v=8,h|=24;break;case W:return t=vn(12,a,i,h|2),t.elementType=W,t.lanes=d,t;case fe:return t=vn(13,a,i,h),t.elementType=fe,t.lanes=d,t;case _e:return t=vn(19,a,i,h),t.elementType=_e,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:v=10;break e;case ne:v=9;break e;case ue:v=11;break e;case I:v=14;break e;case x:v=16,o=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=vn(v,a,i,h),i.elementType=t,i.type=o,i.lanes=d,i}function Os(t,i,a,o){return t=vn(7,t,o,i),t.lanes=a,t}function rf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function Zg(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function sf(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Wg=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var a=Wg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:bo(i)},Wg.set(t,i),i)}return{value:t,source:i,stack:bo(i)}}var Sa=[],Aa=0,zu=null,Qo=0,kn=[],Mn=0,Sr=null,Ti=1,bi="";function Ui(t,i){Sa[Aa++]=Qo,Sa[Aa++]=zu,zu=t,Qo=i}function ep(t,i,a){kn[Mn++]=Ti,kn[Mn++]=bi,kn[Mn++]=Sr,Sr=t;var o=Ti;t=bi;var h=32-dt(o)-1;o&=~(1<<h),a+=1;var d=32-dt(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ti=1<<32-dt(i)+h|a<<h|o,bi=d+t}else Ti=1<<d|a<<h|o,bi=t}function af(t){t.return!==null&&(Ui(t,1),ep(t,1,0))}function of(t){for(;t===zu;)zu=Sa[--Aa],Sa[Aa]=null,Qo=Sa[--Aa],Sa[Aa]=null;for(;t===Sr;)Sr=kn[--Mn],kn[Mn]=null,bi=kn[--Mn],kn[Mn]=null,Ti=kn[--Mn],kn[Mn]=null}function tp(t,i){kn[Mn++]=Ti,kn[Mn++]=bi,kn[Mn++]=Sr,Ti=i.id,bi=i.overflow,Sr=t}var qt=null,it=null,Le=!1,Ar=null,Vn=!1,lf=Error(s(519));function wr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(On(i,t)),lf}function np(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Tt]=t,i[jt]=o,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<gl.length;a++)Oe(gl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),vu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),pr(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||v0(i.textContent,a)?(o.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),o.onScroll!=null&&Oe("scroll",i),o.onScrollEnd!=null&&Oe("scrollend",i),o.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||wr(t,!0)}function ip(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:qt=qt.return}}function wa(t){if(t!==qt)return!1;if(!Le)return ip(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||xd(t.type,t.memoizedProps)),a=!a),a&&it&&wr(t),ip(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=R0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=R0(t)}else i===27?(i=it,Ur(t.type)?(t=Dd,Dd=null,it=t):it=i):it=qt?Pn(t.stateNode.nextSibling):null;return!0}function ks(){it=qt=null,Le=!1}function uf(){var t=Ar;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Ar=null),t}function Ko(t){Ar===null?Ar=[t]:Ar.push(t)}var cf=M(null),Ms=null,zi=null;function xr(t,i,a){oe(cf,i._currentValue),i._currentValue=a}function Bi(t){t._currentValue=cf.current,J(cf)}function hf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function ff(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var N=0;N<i.length;N++)if(T.context===i[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),hf(d.return,a,t),o||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),hf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function xa(t,i,a,o){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;_n(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ue.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(El):t=[El])}h=h.return}t!==null&&ff(i,t,a,o),i.flags|=262144}function Bu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vs(t){Ms=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return rp(Ms,t)}function qu(t,i){return Ms===null&&Vs(t),rp(t,i)}function rp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},zi===null){if(t===null)throw Error(s(308));zi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else zi=zi.next=i;return a}var Vb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},jb=r.unstable_scheduleCallback,Pb=r.unstable_NormalPriority,At={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new Vb,data:new Map,refCount:0}}function Yo(t){t.refCount--,t.refCount===0&&jb(Pb,function(){t.controller.abort()})}var Xo=null,mf=0,Ca=0,Ra=null;function Lb(t,i){if(Xo===null){var a=Xo=[];mf=0,Ca=yd(),Ra={status:"pending",value:void 0,then:function(o){a.push(o)}}}return mf++,i.then(sp,sp),i}function sp(){if(--mf===0&&Xo!==null){Ra!==null&&(Ra.status="fulfilled");var t=Xo;Xo=null,Ca=0,Ra=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Ub(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ap=F.S;F.S=function(t,i){Hy=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Lb(t,i),ap!==null&&ap(t,i)};var js=M(null);function gf(){var t=js.current;return t!==null?t:tt.pooledCache}function Hu(t,i){i===null?oe(js,js.current):oe(js,i.pool)}function op(){var t=gf();return t===null?null:{parent:At._currentValue,pool:t}}var Ia=Error(s(460)),pf=Error(s(474)),Fu=Error(s(542)),Gu={then:function(){}};function lp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function up(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Qn,Qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,hp(t),t;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,hp(t),t}throw Ls=i,Ia}}function Ps(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ls=a,Ia):a}}var Ls=null;function cp(){if(Ls===null)throw Error(s(459));var t=Ls;return Ls=null,t}function hp(t){if(t===Ia||t===Fu)throw Error(s(483))}var Na=null,Jo=0;function Qu(t){var i=Jo;return Jo+=1,Na===null&&(Na=[]),up(Na,t,i)}function $o(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ku(t,i){throw i.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function fp(t){function i(j,O){if(t){var L=j.deletions;L===null?(j.deletions=[O],j.flags|=16):L.push(O)}}function a(j,O){if(!t)return null;for(;O!==null;)i(j,O),O=O.sibling;return null}function o(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function h(j,O){return j=Li(j,O),j.index=0,j.sibling=null,j}function d(j,O,L){return j.index=L,t?(L=j.alternate,L!==null?(L=L.index,L<O?(j.flags|=67108866,O):L):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,O,L,K){return O===null||O.tag!==6?(O=rf(L,j.mode,K),O.return=j,O):(O=h(O,L),O.return=j,O)}function N(j,O,L,K){var ge=L.type;return ge===ee?G(j,O,L.props.children,K,L.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&Ps(ge)===O.type)?(O=h(O,L.props),$o(O,L),O.return=j,O):(O=Uu(L.type,L.key,L.props,null,j.mode,K),$o(O,L),O.return=j,O)}function U(j,O,L,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=sf(L,j.mode,K),O.return=j,O):(O=h(O,L.children||[]),O.return=j,O)}function G(j,O,L,K,ge){return O===null||O.tag!==7?(O=Os(L,j.mode,K,ge),O.return=j,O):(O=h(O,L),O.return=j,O)}function X(j,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=rf(""+O,j.mode,L),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case B:return L=Uu(O.type,O.key,O.props,null,j.mode,L),$o(L,O),L.return=j,L;case Z:return O=sf(O,j.mode,L),O.return=j,O;case x:return O=Ps(O),X(j,O,L)}if(xe(O)||V(O))return O=Os(O,j.mode,L,null),O.return=j,O;if(typeof O.then=="function")return X(j,Qu(O),L);if(O.$$typeof===te)return X(j,qu(j,O),L);Ku(j,O)}return null}function z(j,O,L,K){var ge=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ge!==null?null:T(j,O,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case B:return L.key===ge?N(j,O,L,K):null;case Z:return L.key===ge?U(j,O,L,K):null;case x:return L=Ps(L),z(j,O,L,K)}if(xe(L)||V(L))return ge!==null?null:G(j,O,L,K,null);if(typeof L.then=="function")return z(j,O,Qu(L),K);if(L.$$typeof===te)return z(j,O,qu(j,L),K);Ku(j,L)}return null}function H(j,O,L,K,ge){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return j=j.get(L)||null,T(O,j,""+K,ge);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case B:return j=j.get(K.key===null?L:K.key)||null,N(O,j,K,ge);case Z:return j=j.get(K.key===null?L:K.key)||null,U(O,j,K,ge);case x:return K=Ps(K),H(j,O,L,K,ge)}if(xe(K)||V(K))return j=j.get(L)||null,G(O,j,K,ge,null);if(typeof K.then=="function")return H(j,O,L,Qu(K),ge);if(K.$$typeof===te)return H(j,O,L,qu(O,K),ge);Ku(O,K)}return null}function de(j,O,L,K){for(var ge=null,qe=null,me=O,Ne=O=0,Me=null;me!==null&&Ne<L.length;Ne++){me.index>Ne?(Me=me,me=null):Me=me.sibling;var He=z(j,me,L[Ne],K);if(He===null){me===null&&(me=Me);break}t&&me&&He.alternate===null&&i(j,me),O=d(He,O,Ne),qe===null?ge=He:qe.sibling=He,qe=He,me=Me}if(Ne===L.length)return a(j,me),Le&&Ui(j,Ne),ge;if(me===null){for(;Ne<L.length;Ne++)me=X(j,L[Ne],K),me!==null&&(O=d(me,O,Ne),qe===null?ge=me:qe.sibling=me,qe=me);return Le&&Ui(j,Ne),ge}for(me=o(me);Ne<L.length;Ne++)Me=H(me,j,Ne,L[Ne],K),Me!==null&&(t&&Me.alternate!==null&&me.delete(Me.key===null?Ne:Me.key),O=d(Me,O,Ne),qe===null?ge=Me:qe.sibling=Me,qe=Me);return t&&me.forEach(function(Fr){return i(j,Fr)}),Le&&Ui(j,Ne),ge}function ve(j,O,L,K){if(L==null)throw Error(s(151));for(var ge=null,qe=null,me=O,Ne=O=0,Me=null,He=L.next();me!==null&&!He.done;Ne++,He=L.next()){me.index>Ne?(Me=me,me=null):Me=me.sibling;var Fr=z(j,me,He.value,K);if(Fr===null){me===null&&(me=Me);break}t&&me&&Fr.alternate===null&&i(j,me),O=d(Fr,O,Ne),qe===null?ge=Fr:qe.sibling=Fr,qe=Fr,me=Me}if(He.done)return a(j,me),Le&&Ui(j,Ne),ge;if(me===null){for(;!He.done;Ne++,He=L.next())He=X(j,He.value,K),He!==null&&(O=d(He,O,Ne),qe===null?ge=He:qe.sibling=He,qe=He);return Le&&Ui(j,Ne),ge}for(me=o(me);!He.done;Ne++,He=L.next())He=H(me,j,Ne,He.value,K),He!==null&&(t&&He.alternate!==null&&me.delete(He.key===null?Ne:He.key),O=d(He,O,Ne),qe===null?ge=He:qe.sibling=He,qe=He);return t&&me.forEach(function(J1){return i(j,J1)}),Le&&Ui(j,Ne),ge}function et(j,O,L,K){if(typeof L=="object"&&L!==null&&L.type===ee&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case B:e:{for(var ge=L.key;O!==null;){if(O.key===ge){if(ge=L.type,ge===ee){if(O.tag===7){a(j,O.sibling),K=h(O,L.props.children),K.return=j,j=K;break e}}else if(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&Ps(ge)===O.type){a(j,O.sibling),K=h(O,L.props),$o(K,L),K.return=j,j=K;break e}a(j,O);break}else i(j,O);O=O.sibling}L.type===ee?(K=Os(L.props.children,j.mode,K,L.key),K.return=j,j=K):(K=Uu(L.type,L.key,L.props,null,j.mode,K),$o(K,L),K.return=j,j=K)}return v(j);case Z:e:{for(ge=L.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(j,O.sibling),K=h(O,L.children||[]),K.return=j,j=K;break e}else{a(j,O);break}else i(j,O);O=O.sibling}K=sf(L,j.mode,K),K.return=j,j=K}return v(j);case x:return L=Ps(L),et(j,O,L,K)}if(xe(L))return de(j,O,L,K);if(V(L)){if(ge=V(L),typeof ge!="function")throw Error(s(150));return L=ge.call(L),ve(j,O,L,K)}if(typeof L.then=="function")return et(j,O,Qu(L),K);if(L.$$typeof===te)return et(j,O,qu(j,L),K);Ku(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(j,O.sibling),K=h(O,L),K.return=j,j=K):(a(j,O),K=rf(L,j.mode,K),K.return=j,j=K),v(j)):a(j,O)}return function(j,O,L,K){try{Jo=0;var ge=et(j,O,L,K);return Na=null,ge}catch(me){if(me===Ia||me===Fu)throw me;var qe=vn(29,me,null,j.mode);return qe.lanes=K,qe.return=j,qe}finally{}}}var Us=fp(!0),dp=fp(!1),Cr=!1;function yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Rr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ge&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Lu(t),Jg(t,null,a),i}return Pu(t,o,i,a),Lu(t)}function Zo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,wo(t,a)}}function vf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Ef=!1;function Wo(){if(Ef){var t=Ra;if(t!==null)throw t}}function el(t,i,a,o){Ef=!1;var h=t.updateQueue;Cr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,U=N.next;N.next=null,v===null?d=U:v.next=U,v=N;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==v&&(T===null?G.firstBaseUpdate=U:T.next=U,G.lastBaseUpdate=N))}if(d!==null){var X=h.baseState;v=0,G=U=N=null,T=d;do{var z=T.lane&-536870913,H=z!==T.lane;if(H?(ke&z)===z:(o&z)===z){z!==0&&z===Ca&&(Ef=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var de=t,ve=T;z=i;var et=a;switch(ve.tag){case 1:if(de=ve.payload,typeof de=="function"){X=de.call(et,X,z);break e}X=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ve.payload,z=typeof de=="function"?de.call(et,X,z):de,z==null)break e;X=A({},X,z);break e;case 2:Cr=!0}}z=T.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(U=G=H,N=X):G=G.next=H,v|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(N=X),h.baseState=N,h.firstBaseUpdate=U,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Mr|=v,t.lanes=v,t.memoizedState=X}}function mp(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function gp(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)mp(a[t],i)}var Da=M(null),Yu=M(0);function pp(t,i){t=Ji,oe(Yu,t),oe(Da,i),Ji=t|i.baseLanes}function Tf(){oe(Yu,Ji),oe(Da,Da.current)}function bf(){Ji=Yu.current,J(Da),J(Yu)}var En=M(null),jn=null;function Nr(t){var i=t.alternate;oe(gt,gt.current&1),oe(En,t),jn===null&&(i===null||Da.current!==null||i.memoizedState!==null)&&(jn=t)}function Sf(t){oe(gt,gt.current),oe(En,t),jn===null&&(jn=t)}function yp(t){t.tag===22?(oe(gt,gt.current),oe(En,t),jn===null&&(jn=t)):Dr()}function Dr(){oe(gt,gt.current),oe(En,En.current)}function Tn(t){J(En),jn===t&&(jn=null),J(gt)}var gt=M(0);function Xu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Id(a)||Nd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qi=0,Re=null,Ze=null,wt=null,Ju=!1,Oa=!1,zs=!1,$u=0,tl=0,ka=null,zb=0;function ct(){throw Error(s(321))}function Af(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function wf(t,i,a,o,h,d){return qi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?ey:zf,zs=!1,d=a(o,h),zs=!1,Oa&&(d=vp(i,a,o,h)),_p(t),d}function _p(t){F.H=rl;var i=Ze!==null&&Ze.next!==null;if(qi=0,wt=Ze=Re=null,Ju=!1,tl=0,ka=null,i)throw Error(s(300));t===null||xt||(t=t.dependencies,t!==null&&Bu(t)&&(xt=!0))}function vp(t,i,a,o){Re=t;var h=0;do{if(Oa&&(ka=null),tl=0,Oa=!1,25<=h)throw Error(s(301));if(h+=1,wt=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=ty,d=i(a,o)}while(Oa);return d}function Bb(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?nl(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Re.flags|=1024),i}function xf(){var t=$u!==0;return $u=0,t}function Cf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Rf(t){if(Ju){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ju=!1}qi=0,wt=Ze=Re=null,Oa=!1,tl=$u=0,ka=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Re.memoizedState=wt=t:wt=wt.next=t,wt}function pt(){if(Ze===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=wt===null?Re.memoizedState:wt.next;if(i!==null)wt=i,Ze=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},wt===null?Re.memoizedState=wt=t:wt=wt.next=t}return wt}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(t){var i=tl;return tl+=1,ka===null&&(ka=[]),t=up(ka,t,i),i=Re,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?ey:zf),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===te)return Ht(t)}throw Error(s(438,String(t)))}function If(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Re.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Zu(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=k;return i.index++,a}function Hi(t,i){return typeof i=="function"?i(t):i}function ec(t){var i=pt();return Nf(i,Ze,t)}function Nf(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,N=null,U=i,G=!1;do{var X=U.lane&-536870913;if(X!==U.lane?(ke&X)===X:(qi&X)===X){var z=U.revertLane;if(z===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),X===Ca&&(G=!0);else if((qi&z)===z){U=U.next,z===Ca&&(G=!0);continue}else X={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(T=N=X,v=d):N=N.next=X,Re.lanes|=z,Mr|=z;X=U.action,zs&&a(d,X),d=U.hasEagerState?U.eagerState:a(d,X)}else z={lane:X,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(T=N=z,v=d):N=N.next=z,Re.lanes|=X,Mr|=X;U=U.next}while(U!==null&&U!==i);if(N===null?v=d:N.next=T,!_n(d,t.memoizedState)&&(xt=!0,G&&(a=Ra,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=N,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Df(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);_n(d,i.memoizedState)||(xt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Ep(t,i,a){var o=Re,h=pt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!_n((Ze||h).memoizedState,a);if(v&&(h.memoizedState=a,xt=!0),h=h.queue,Mf(Sp.bind(null,o,h,t),[t]),h.getSnapshot!==i||v||wt!==null&&wt.memoizedState.tag&1){if(o.flags|=2048,Ma(9,{destroy:void 0},bp.bind(null,o,h,a,i),null),tt===null)throw Error(s(349));d||(qi&127)!==0||Tp(o,i,a)}return a}function Tp(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=Zu(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function bp(t,i,a,o){i.value=a,i.getSnapshot=o,Ap(i)&&wp(t)}function Sp(t,i,a){return a(function(){Ap(i)&&wp(t)})}function Ap(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function wp(t){var i=Ds(t,2);i!==null&&fn(i,t,2)}function Of(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),zs){xn(!0);try{a()}finally{xn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:t},i}function xp(t,i,a,o){return t.baseState=a,Nf(t,Ze,typeof o=="function"?o:Hi)}function qb(t,i,a,o,h){if(ic(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};F.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,Cp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Cp(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var d=F.T,v={};F.T=v;try{var T=a(h,o),N=F.S;N!==null&&N(v,T),Rp(t,i,T)}catch(U){kf(t,i,U)}finally{d!==null&&v.types!==null&&(d.types=v.types),F.T=d}}else try{d=a(h,o),Rp(t,i,d)}catch(U){kf(t,i,U)}}function Rp(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ip(t,i,o)},function(o){return kf(t,i,o)}):Ip(t,i,a)}function Ip(t,i,a){i.status="fulfilled",i.value=a,Np(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Cp(t,a)))}function kf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Np(i),i=i.next;while(i!==o)}t.action=null}function Np(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Dp(t,i){return i}function Op(t,i){if(Le){var a=tt.formState;if(a!==null){e:{var o=Re;if(Le){if(it){t:{for(var h=it,d=Vn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){it=Pn(h.nextSibling),o=h.data==="F!";break e}}wr(o)}o=!1}o&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dp,lastRenderedState:i},a.queue=o,a=$p.bind(null,Re,o),o.dispatch=a,o=Of(!1),d=Uf.bind(null,Re,!1,o.queue),o=nn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=qb.bind(null,Re,h,d,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function kp(t){var i=pt();return Mp(i,Ze,t)}function Mp(t,i,a){if(i=Nf(t,i,Dp)[0],t=ec(Hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=nl(i)}catch(v){throw v===Ia?Fu:v}else o=i;i=pt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Ma(9,{destroy:void 0},Hb.bind(null,h,a),null)),[o,d,t]}function Hb(t,i){t.action=i}function Vp(t){var i=pt(),a=Ze;if(a!==null)return Mp(i,a,t);pt(),i=i.memoizedState,a=pt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Ma(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Re.updateQueue,i===null&&(i=Zu(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function jp(){return pt().memoizedState}function tc(t,i,a,o){var h=nn();Re.flags|=t,h.memoizedState=Ma(1|i,{destroy:void 0},a,o===void 0?null:o)}function nc(t,i,a,o){var h=pt();o=o===void 0?null:o;var d=h.memoizedState.inst;Ze!==null&&o!==null&&Af(o,Ze.memoizedState.deps)?h.memoizedState=Ma(i,d,a,o):(Re.flags|=t,h.memoizedState=Ma(1|i,d,a,o))}function Pp(t,i){tc(8390656,8,t,i)}function Mf(t,i){nc(2048,8,t,i)}function Fb(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=Zu(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Lp(t){var i=pt().memoizedState;return Fb({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Up(t,i){return nc(4,2,t,i)}function zp(t,i){return nc(4,4,t,i)}function Bp(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function qp(t,i,a){a=a!=null?a.concat([t]):null,nc(4,4,Bp.bind(null,i,t),a)}function Vf(){}function Hp(t,i){var a=pt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Af(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Fp(t,i){var a=pt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Af(i,o[1]))return o[0];if(o=t(),zs){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[o,i],o}function jf(t,i,a){return a===void 0||(qi&1073741824)!==0&&(ke&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Gy(),Re.lanes|=t,Mr|=t,a)}function Gp(t,i,a,o){return _n(a,i)?a:Da.current!==null?(t=jf(t,a,o),_n(t,i)||(xt=!0),t):(qi&42)===0||(qi&1073741824)!==0&&(ke&261930)===0?(xt=!0,t.memoizedState=a):(t=Gy(),Re.lanes|=t,Mr|=t,i)}function Qp(t,i,a,o,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=F.T,T={};F.T=T,Uf(t,!1,i,a);try{var N=h(),U=F.S;if(U!==null&&U(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=Ub(N,o);il(t,i,G,An(t))}else il(t,i,o,An(t))}catch(X){il(t,i,{then:function(){},status:"rejected",reason:X},An())}finally{ae.p=d,v!==null&&T.types!==null&&(v.types=T.types),F.T=v}}function Gb(){}function Pf(t,i,a,o){if(t.tag!==5)throw Error(s(476));var h=Kp(t).queue;Qp(t,h,i,ye,a===null?Gb:function(){return Yp(t),a(o)})}function Kp(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:ye},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Yp(t){var i=Kp(t);i.next===null&&(i=t.alternate.memoizedState),il(t,i.next.queue,{},An())}function Lf(){return Ht(El)}function Xp(){return pt().memoizedState}function Jp(){return pt().memoizedState}function Qb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=Rr(a);var o=Ir(i,t,a);o!==null&&(fn(o,i,a),Zo(o,i,a)),i={cache:df()},t.payload=i;return}i=i.return}}function Kb(t,i,a){var o=An();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ic(t)?Zp(i,a):(a=tf(t,i,a,o),a!==null&&(fn(a,t,o),Wp(a,i,o)))}function $p(t,i,a){var o=An();il(t,i,a,o)}function il(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(t))Zp(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,_n(T,v))return Pu(t,i,h,0),tt===null&&ju(),!1}catch{}finally{}if(a=tf(t,i,h,o),a!==null)return fn(a,t,o),Wp(a,i,o),!0}return!1}function Uf(t,i,a,o){if(o={lane:2,revertLane:yd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ic(t)){if(i)throw Error(s(479))}else i=tf(t,a,o,2),i!==null&&fn(i,t,2)}function ic(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function Zp(t,i){Oa=Ju=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Wp(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,wo(t,a)}}var rl={readContext:Ht,use:Wu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};rl.useEffectEvent=ct;var ey={readContext:Ht,use:Wu,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:Pp,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,tc(4194308,4,Bp.bind(null,i,t),a)},useLayoutEffect:function(t,i){return tc(4194308,4,t,i)},useInsertionEffect:function(t,i){tc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var o=t();if(zs){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=nn();if(a!==void 0){var h=a(i);if(zs){xn(!0);try{a(i)}finally{xn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Kb.bind(null,Re,t),[o.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=Of(t);var i=t.queue,a=$p.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Vf,useDeferredValue:function(t,i){var a=nn();return jf(a,t,i)},useTransition:function(){var t=Of(!1);return t=Qp.bind(null,Re,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Re,h=nn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(ke&127)!==0||Tp(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Pp(Sp.bind(null,o,d,t),[t]),o.flags|=2048,Ma(9,{destroy:void 0},bp.bind(null,o,d,a,i),null),a},useId:function(){var t=nn(),i=tt.identifierPrefix;if(Le){var a=bi,o=Ti;a=(o&~(1<<32-dt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=$u++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=zb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Lf,useFormState:Op,useActionState:Op,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Uf.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:If,useCacheRefresh:function(){return nn().memoizedState=Qb.bind(null,Re)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},zf={readContext:Ht,use:Wu,useCallback:Hp,useContext:Ht,useEffect:Mf,useImperativeHandle:qp,useInsertionEffect:Up,useLayoutEffect:zp,useMemo:Fp,useReducer:ec,useRef:jp,useState:function(){return ec(Hi)},useDebugValue:Vf,useDeferredValue:function(t,i){var a=pt();return Gp(a,Ze.memoizedState,t,i)},useTransition:function(){var t=ec(Hi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:nl(t),i]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:Lf,useFormState:kp,useActionState:kp,useOptimistic:function(t,i){var a=pt();return xp(a,Ze,t,i)},useMemoCache:If,useCacheRefresh:Jp};zf.useEffectEvent=Lp;var ty={readContext:Ht,use:Wu,useCallback:Hp,useContext:Ht,useEffect:Mf,useImperativeHandle:qp,useInsertionEffect:Up,useLayoutEffect:zp,useMemo:Fp,useReducer:Df,useRef:jp,useState:function(){return Df(Hi)},useDebugValue:Vf,useDeferredValue:function(t,i){var a=pt();return Ze===null?jf(a,t,i):Gp(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Df(Hi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:nl(t),i]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:Lf,useFormState:Vp,useActionState:Vp,useOptimistic:function(t,i){var a=pt();return Ze!==null?xp(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:If,useCacheRefresh:Jp};ty.useEffectEvent=Lp;function Bf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:A({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var qf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=An(),h=Rr(o);h.payload=i,a!=null&&(h.callback=a),i=Ir(t,h,o),i!==null&&(fn(i,t,o),Zo(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=An(),h=Rr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ir(t,h,o),i!==null&&(fn(i,t,o),Zo(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),o=Rr(a);o.tag=2,i!=null&&(o.callback=i),i=Ir(t,o,a),i!==null&&(fn(i,t,a),Zo(i,t,a))}};function ny(t,i,a,o,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!Fo(a,o)||!Fo(h,d):!0}function iy(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&qf.enqueueReplaceState(i,i.state,null)}function Bs(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ry(t){Vu(t)}function sy(t){console.error(t)}function ay(t){Vu(t)}function rc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function oy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hf(t,i,a){return a=Rr(a),a.tag=3,a.payload={element:null},a.callback=function(){rc(t,i)},a}function ly(t){return t=Rr(t),t.tag=3,t}function uy(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){oy(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){oy(i,a,o),typeof h!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function Yb(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&xa(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?pc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Gu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),md(t,o,h)),!1;case 22:return a.flags|=65536,o===Gu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),md(t,o,h)),!1}throw Error(s(435,a.tag))}return md(t,o,h),pc(),!1}if(Le)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==lf&&(t=Error(s(422),{cause:o}),Ko(On(t,a)))):(o!==lf&&(i=Error(s(423),{cause:o}),Ko(On(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=On(o,a),h=Hf(t.stateNode,o,h),vf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:o});if(d=On(d,a),fl===null?fl=[d]:fl.push(d),ht!==4&&(ht=2),i===null)return!0;o=On(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Hf(a.stateNode,o,t),vf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Vr===null||!Vr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ly(h),uy(h,t,a,o),vf(a,h),!1}a=a.return}while(a!==null);return!1}var Ff=Error(s(461)),xt=!1;function Ft(t,i,a,o){i.child=t===null?dp(i,null,a,o):Us(i,t.child,a,o)}function cy(t,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return Vs(i),o=wf(t,i,a,v,d,h),T=xf(),t!==null&&!xt?(Cf(t,i,h),Fi(t,i,h)):(Le&&T&&af(i),i.flags|=1,Ft(t,i,o,h),i.child)}function hy(t,i,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!nf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,fy(t,i,d,o,h)):(t=Uu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Zf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Fo,a(v,o)&&t.ref===i.ref)return Fi(t,i,h)}return i.flags|=1,t=Li(d,o),t.ref=i.ref,t.return=i,i.child=t}function fy(t,i,a,o,h){if(t!==null){var d=t.memoizedProps;if(Fo(d,o)&&t.ref===i.ref)if(xt=!1,i.pendingProps=o=d,Zf(t,h))(t.flags&131072)!==0&&(xt=!0);else return i.lanes=t.lanes,Fi(t,i,h)}return Gf(t,i,a,o,h)}function dy(t,i,a,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return my(t,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hu(i,d!==null?d.cachePool:null),d!==null?pp(i,d):Tf(),yp(i);else return o=i.lanes=536870912,my(t,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(Hu(i,d.cachePool),pp(i,d),Dr(),i.memoizedState=null):(t!==null&&Hu(i,null),Tf(),Dr());return Ft(t,i,h,a),i.child}function sl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function my(t,i,a,o,h){var d=gf();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Hu(i,null),Tf(),yp(i),t!==null&&xa(t,i,o,!0),i.childLanes=h,null}function sc(t,i){return i=oc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function gy(t,i,a){return Us(i,t.child,null,a),t=sc(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function Xb(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(o.mode==="hidden")return t=sc(i,o),i.lanes=536870912,sl(null,t);if(Sf(i),(t=it)?(t=C0(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Sr!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Zg(t),a.return=i,i.child=a,qt=i,it=null)):t=null,t===null)throw wr(i);return i.lanes=536870912,null}return sc(i,o)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Sf(i),h)if(i.flags&256)i.flags&=-257,i=gy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(xt||xa(t,i,a,!1),h=(a&t.childLanes)!==0,xt||h){if(o=tt,o!==null&&(v=xo(o,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ds(t,v),fn(o,t,v),Ff;pc(),i=gy(t,i,a)}else t=d.treeContext,it=Pn(v.nextSibling),qt=i,Le=!0,Ar=null,Vn=!1,t!==null&&tp(i,t),i=sc(i,o),i.flags|=4096;return i}return t=Li(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function ac(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Gf(t,i,a,o,h){return Vs(i),a=wf(t,i,a,o,void 0,h),o=xf(),t!==null&&!xt?(Cf(t,i,h),Fi(t,i,h)):(Le&&o&&af(i),i.flags|=1,Ft(t,i,a,h),i.child)}function py(t,i,a,o,h,d){return Vs(i),i.updateQueue=null,a=vp(i,o,a,h),_p(t),o=xf(),t!==null&&!xt?(Cf(t,i,d),Fi(t,i,d)):(Le&&o&&af(i),i.flags|=1,Ft(t,i,a,d),i.child)}function yy(t,i,a,o,h){if(Vs(i),i.stateNode===null){var d=ba,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ht(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=qf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},yf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ht(v):ba,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Bf(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&qf.enqueueReplaceState(d,d.state,null),el(i,o,d,h),Wo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,N=Bs(a,T);d.props=N;var U=d.context,G=a.contextType;v=ba,typeof G=="object"&&G!==null&&(v=Ht(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||U!==v)&&iy(i,d,o,v),Cr=!1;var z=i.memoizedState;d.state=z,el(i,o,d,h),Wo(),U=i.memoizedState,T||z!==U||Cr?(typeof X=="function"&&(Bf(i,a,X,o),U=i.memoizedState),(N=Cr||ny(i,a,N,o,z,U,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=U),d.props=o,d.state=U,d.context=v,o=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,_f(t,i),v=i.memoizedProps,G=Bs(a,v),d.props=G,X=i.pendingProps,z=d.context,U=a.contextType,N=ba,typeof U=="object"&&U!==null&&(N=Ht(U)),T=a.getDerivedStateFromProps,(U=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||z!==N)&&iy(i,d,o,N),Cr=!1,z=i.memoizedState,d.state=z,el(i,o,d,h),Wo();var H=i.memoizedState;v!==X||z!==H||Cr||t!==null&&t.dependencies!==null&&Bu(t.dependencies)?(typeof T=="function"&&(Bf(i,a,T,o),H=i.memoizedState),(G=Cr||ny(i,a,G,o,z,H,N)||t!==null&&t.dependencies!==null&&Bu(t.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,H,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,H,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),d.props=o,d.state=H,d.context=N,o=G):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,ac(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=Us(i,t.child,null,h),i.child=Us(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Fi(t,i,h),t}function _y(t,i,a,o){return ks(),i.flags|=256,Ft(t,i,a,o),i.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(t){return{baseLanes:t,cachePool:op()}}function Yf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Sn),t}function vy(t,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?Nr(i):Dr(),(t=it)?(t=C0(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Sr!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Zg(t),a.return=i,i.child=a,qt=i,it=null)):t=null,t===null)throw wr(i);return Nd(t)?i.lanes=32:i.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Dr(),h=i.mode,T=oc({mode:"hidden",children:T},h),o=Os(o,h,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,o=i.child,o.memoizedState=Kf(a),o.childLanes=Yf(t,v,a),i.memoizedState=Qf,sl(null,o)):(Nr(i),Xf(i,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(d)i.flags&256?(Nr(i),i.flags&=-257,i=Jf(t,i,a)):i.memoizedState!==null?(Dr(),i.child=t.child,i.flags|=128,i=null):(Dr(),T=o.fallback,h=i.mode,o=oc({mode:"visible",children:o.children},h),T=Os(T,h,a,null),T.flags|=2,o.return=i,T.return=i,o.sibling=T,i.child=o,Us(i,t.child,null,a),o=i.child,o.memoizedState=Kf(a),o.childLanes=Yf(t,v,a),i.memoizedState=Qf,i=sl(null,o));else if(Nr(i),Nd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var U=v.dgst;v=U,o=Error(s(419)),o.stack="",o.digest=v,Ko({value:o,source:null,stack:null}),i=Jf(t,i,a)}else if(xt||xa(t,i,a,!1),v=(a&t.childLanes)!==0,xt||v){if(v=tt,v!==null&&(o=xo(v,a),o!==0&&o!==N.retryLane))throw N.retryLane=o,Ds(t,o),fn(v,t,o),Ff;Id(T)||pc(),i=Jf(t,i,a)}else Id(T)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,it=Pn(T.nextSibling),qt=i,Le=!0,Ar=null,Vn=!1,t!==null&&tp(i,t),i=Xf(i,o.children),i.flags|=4096);return i}return h?(Dr(),T=o.fallback,h=i.mode,N=t.child,U=N.sibling,o=Li(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,U!==null?T=Li(U,T):(T=Os(T,h,a,null),T.flags|=2),T.return=i,o.return=i,o.sibling=T,i.child=o,sl(null,o),o=i.child,T=t.child.memoizedState,T===null?T=Kf(a):(h=T.cachePool,h!==null?(N=At._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=op(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Yf(t,v,a),i.memoizedState=Qf,sl(t.child,o)):(Nr(i),a=t.child,t=a.sibling,a=Li(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Xf(t,i){return i=oc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function oc(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function Jf(t,i,a){return Us(i,t.child,null,a),t=Xf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ey(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),hf(t.return,i,a)}function $f(t,i,a,o,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function Ty(t,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var v=gt.current,T=(v&2)!==0;if(T?(v=v&1|2,i.flags|=128):v&=1,oe(gt,v),Ft(t,i,o,a),o=Le?Qo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ey(t,a,i);else if(t.tag===19)Ey(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Xu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),$f(i,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Xu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}$f(i,!0,a,null,d,o);break;case"together":$f(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Fi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Mr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(xa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Li(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Li(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Zf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Bu(t)))}function Jb(t,i,a){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),xr(i,At,t.memoizedState.cache),ks();break;case 27:case 5:ds(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:xr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Sf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Nr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?vy(t,i,a):(Nr(i),t=Fi(t,i,a),t!==null?t.sibling:null);Nr(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(xa(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Ty(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(gt,gt.current),o)break;return null;case 22:return i.lanes=0,dy(t,i,a,i.pendingProps);case 24:xr(i,At,t.memoizedState.cache)}return Fi(t,i,a)}function by(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)xt=!0;else{if(!Zf(t,a)&&(i.flags&128)===0)return xt=!1,Jb(t,i,a);xt=(t.flags&131072)!==0}else xt=!1,Le&&(i.flags&1048576)!==0&&ep(i,Qo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Ps(i.elementType),i.type=t,typeof t=="function")nf(t)?(o=Bs(t,o),i.tag=1,i=yy(null,i,t,o,a)):(i.tag=0,i=Gf(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===ue){i.tag=11,i=cy(null,i,t,o,a);break e}else if(h===I){i.tag=14,i=hy(null,i,t,o,a);break e}}throw i=re(t)||t,Error(s(306,i,""))}}return i;case 0:return Gf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Bs(o,i.pendingProps),yy(t,i,o,h,a);case 3:e:{if(Dt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,_f(t,i),el(i,o,null,a);var v=i.memoizedState;if(o=v.cache,xr(i,At,o),o!==d.cache&&ff(i,[At],a,!0),Wo(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=_y(t,i,o,a);break e}else if(o!==h){h=On(Error(s(424)),i),Ko(h),i=_y(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Pn(t.firstChild),qt=i,Le=!0,Ar=null,Vn=!0,a=dp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ks(),o===h){i=Fi(t,i,a);break e}Ft(t,i,o,a)}i=i.child}return i;case 26:return ac(t,i),t===null?(a=k0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,o=Sc(Ie.current).createElement(a),o[Tt]=i,o[jt]=t,Gt(o,a,t),bt(o),i.stateNode=o):i.memoizedState=k0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ds(i),t===null&&Le&&(o=i.stateNode=N0(i.type,i.pendingProps,Ie.current),qt=i,Vn=!0,h=it,Ur(i.type)?(Dd=h,it=Pn(o.firstChild)):it=h),Ft(t,i,i.pendingProps.children,a),ac(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=o=it)&&(o=x1(o,i.type,i.pendingProps,Vn),o!==null?(i.stateNode=o,qt=i,it=Pn(o.firstChild),Vn=!1,h=!0):h=!1),h||wr(i)),ds(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,o=d.children,xd(h,d)?o=null:v!==null&&xd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=wf(t,i,Bb,null,null,a),El._currentValue=h),ac(t,i),Ft(t,i,o,a),i.child;case 6:return t===null&&Le&&((t=a=it)&&(a=C1(a,i.pendingProps,Vn),a!==null?(i.stateNode=a,qt=i,it=null,t=!0):t=!1),t||wr(i)),null;case 13:return vy(t,i,a);case 4:return Dt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Us(i,null,o,a):Ft(t,i,o,a),i.child;case 11:return cy(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,xr(i,i.type,o.value),Ft(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Vs(i),h=Ht(h),o=o(h),i.flags|=1,Ft(t,i,o,a),i.child;case 14:return hy(t,i,i.type,i.pendingProps,a);case 15:return fy(t,i,i.type,i.pendingProps,a);case 19:return Ty(t,i,a);case 31:return Xb(t,i,a);case 22:return dy(t,i,a,i.pendingProps);case 24:return Vs(i),o=Ht(At),t===null?(h=gf(),h===null&&(h=tt,d=df(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},yf(i),xr(i,At,h)):((t.lanes&a)!==0&&(_f(t,i),el(i,null,null,a),Wo()),h=t.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),xr(i,At,o)):(o=d.cache,xr(i,At,o),o!==h.cache&&ff(i,[At],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Gi(t){t.flags|=4}function Wf(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Xy())t.flags|=8192;else throw Ls=Gu,pf}else t.flags&=-16777217}function Sy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!L0(i))if(Xy())t.flags|=8192;else throw Ls=Gu,pf}function lc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?mu():536870912,t.lanes|=i,La|=i)}function al(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function $b(t,i,a){var o=i.pendingProps;switch(of(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Bi(At),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(wa(i)?Gi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,uf())),rt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Gi(i),d!==null?(rt(i),Sy(i,d)):(rt(i),Wf(i,h,null,o,a))):d?d!==t.memoizedState?(Gi(i),rt(i),Sy(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Gi(i),rt(i),Wf(i,h,t,o,a)),null;case 27:if(ia(i),a=Ie.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Gi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=he.current,wa(i)?np(i):(t=N0(h,o,a),i.stateNode=t,Gi(i))}return rt(i),null;case 5:if(ia(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Gi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(d=he.current,wa(i))np(i);else{var v=Sc(Ie.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?v.createElement(h,{is:o.is}):v.createElement(h)}}d[Tt]=i,d[jt]=o;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Gt(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Gi(i)}}return rt(i),Wf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Gi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ie.current,wa(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=qt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||v0(t.nodeValue,a)),t||wr(i,!0)}else t=Sc(t).createTextNode(o),t[Tt]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=wa(i),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return rt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=wa(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=i}else ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),lc(i,i.updateQueue),rt(i),null);case 4:return at(),t===null&&Td(i.stateNode.containerInfo),rt(i),null;case 10:return Bi(i.type),rt(i),null;case 19:if(J(gt),o=i.memoizedState,o===null)return rt(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)al(o,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Xu(t),d!==null){for(i.flags|=128,al(o,!1),t=d.updateQueue,i.updateQueue=t,lc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)$g(a,t),a=a.sibling;return oe(gt,gt.current&1|2),Le&&Ui(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&en()>dc&&(i.flags|=128,h=!0,al(o,!1),i.lanes=4194304)}else{if(!h)if(t=Xu(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,lc(i,t),al(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Le)return rt(i),null}else 2*en()-o.renderingStartTime>dc&&a!==536870912&&(i.flags|=128,h=!0,al(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(t=o.last,t!==null?t.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=en(),t.sibling=null,a=gt.current,oe(gt,h?a&1|2:a&1),Le&&Ui(i,o.treeForkCount),t):(rt(i),null);case 22:case 23:return Tn(i),bf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&lc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&J(js),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Bi(At),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Zb(t,i){switch(of(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Bi(At),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ia(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));ks()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ks()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(gt),null;case 4:return at(),null;case 10:return Bi(i.type),null;case 22:case 23:return Tn(i),bf(),t!==null&&J(js),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Bi(At),null;case 25:return null;default:return null}}function Ay(t,i){switch(of(i),i.tag){case 3:Bi(At),at();break;case 26:case 27:case 5:ia(i);break;case 4:at();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:J(gt);break;case 10:Bi(i.type);break;case 22:case 23:Tn(i),bf(),t!==null&&J(js);break;case 24:Bi(At)}}function ol(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(T){Je(i,i.return,T)}}function Or(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var N=a,U=T;try{U()}catch(G){Je(h,N,G)}}}o=o.next}while(o!==d)}}catch(G){Je(i,i.return,G)}}function wy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{gp(i,a)}catch(o){Je(t,t.return,o)}}}function xy(t,i,a){a.props=Bs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Je(t,i,o)}}function ll(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Je(t,i,h)}}function Si(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,i,h)}else a.current=null}function Cy(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function ed(t,i,a){try{var o=t.stateNode;E1(o,t.type,a,i),o[jt]=i}catch(h){Je(t,t.return,h)}}function Ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ur(t.type)||t.tag===4}function td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nd(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qn));else if(o!==4&&(o===27&&Ur(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(nd(t,i,a),t=t.sibling;t!==null;)nd(t,i,a),t=t.sibling}function uc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&Ur(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(uc(t,i,a),t=t.sibling;t!==null;)uc(t,i,a),t=t.sibling}function Iy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,o,a),i[Tt]=t,i[jt]=a}catch(d){Je(t,t.return,d)}}var Qi=!1,Ct=!1,id=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function Wb(t,i){if(t=t.containerInfo,Ad=Nc,t=qg(t),Xh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,N=-1,U=0,G=0,X=t,z=null;t:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(T=v+h),X!==d||o!==0&&X.nodeType!==3||(N=v+o),X.nodeType===3&&(v+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===t)break t;if(z===a&&++U===h&&(T=v),z===d&&++G===o&&(N=v),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(wd={focusedElem:t,selectionRange:a},Nc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var de=Bs(a.type,h);t=o.getSnapshotBeforeUpdate(de,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Je(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Rd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}}function Dy(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(t,a),o&4&&ol(5,a);break;case 1:if(Yi(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Je(a,a.return,v)}else{var h=Bs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(a,a.return,v)}}o&64&&wy(a),o&512&&ll(a,a.return);break;case 3:if(Yi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{gp(t,i)}catch(v){Je(a,a.return,v)}}break;case 27:i===null&&o&4&&Iy(a);case 26:case 5:Yi(t,a),i===null&&o&4&&Cy(a),o&512&&ll(a,a.return);break;case 12:Yi(t,a);break;case 31:Yi(t,a),o&4&&My(t,a);break;case 13:Yi(t,a),o&4&&Vy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=l1.bind(null,a),R1(t,a))));break;case 22:if(o=a.memoizedState!==null||Qi,!o){i=i!==null&&i.memoizedState!==null||Ct,h=Qi;var d=Ct;Qi=o,(Ct=i)&&!d?Xi(t,a,(a.subtreeFlags&8772)!==0):Yi(t,a),Qi=h,Ct=d}break;case 30:break;default:Yi(t,a)}}function Oy(t){var i=t.alternate;i!==null&&(t.alternate=null,Oy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&la(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,ln=!1;function Ki(t,i,a){for(a=a.child;a!==null;)ky(t,i,a),a=a.sibling}function ky(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Ct||Si(a,i),Ki(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Si(a,i);var o=lt,h=ln;Ur(a.type)&&(lt=a.stateNode,ln=!1),Ki(t,i,a),yl(a.stateNode),lt=o,ln=h;break;case 5:Ct||Si(a,i);case 6:if(o=lt,h=ln,lt=null,Ki(t,i,a),lt=o,ln=h,lt!==null)if(ln)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:lt!==null&&(ln?(t=lt,w0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Qa(t)):w0(lt,a.stateNode));break;case 4:o=lt,h=ln,lt=a.stateNode.containerInfo,ln=!0,Ki(t,i,a),lt=o,ln=h;break;case 0:case 11:case 14:case 15:Or(2,a,i),Ct||Or(4,a,i),Ki(t,i,a);break;case 1:Ct||(Si(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&xy(a,i,o)),Ki(t,i,a);break;case 21:Ki(t,i,a);break;case 22:Ct=(o=Ct)||a.memoizedState!==null,Ki(t,i,a),Ct=o;break;default:Ki(t,i,a)}}function My(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qa(t)}catch(a){Je(i,i.return,a)}}}function Vy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qa(t)}catch(a){Je(i,i.return,a)}}function e1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ny),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ny),i;default:throw Error(s(435,t.tag))}}function cc(t,i){var a=e1(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=u1.bind(null,t,o);o.then(h,h)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Ur(T.type)){lt=T.stateNode,ln=!1;break e}break;case 5:lt=T.stateNode,ln=!1;break e;case 3:case 4:lt=T.stateNode.containerInfo,ln=!0;break e}T=T.return}if(lt===null)throw Error(s(160));ky(d,v,h),lt=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)jy(i,t),i=i.sibling}var Zn=null;function jy(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),o&4&&(Or(3,t,t.return),ol(3,t),Or(5,t,t.return));break;case 1:un(i,t),cn(t),o&512&&(Ct||a===null||Si(a,a.return)),o&64&&Qi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Zn;if(un(i,t),cn(t),o&512&&(Ct||a===null||Si(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ui]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,o,a),d[Tt]=t,bt(d),o=d;break e;case"link":var v=j0("link","href",h).get(o+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(o),Gt(d,o,a),h.head.appendChild(d);break;case"meta":if(v=j0("meta","content",h).get(o+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(o),Gt(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Tt]=t,bt(d),o=d}t.stateNode=o}else P0(h,t.type,t.stateNode);else t.stateNode=V0(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?P0(h,t.type,t.stateNode):V0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&ed(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),o&512&&(Ct||a===null||Si(a,a.return)),a!==null&&o&4&&ed(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),o&512&&(Ct||a===null||Si(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(de){Je(t,t.return,de)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,ed(t,h,a!==null?a.memoizedProps:h)),o&1024&&(id=!0);break;case 6:if(un(i,t),cn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(de){Je(t,t.return,de)}}break;case 3:if(xc=null,h=Zn,Zn=Ac(i.containerInfo),un(i,t),Zn=h,cn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Qa(i.containerInfo)}catch(de){Je(t,t.return,de)}id&&(id=!1,Py(t));break;case 4:o=Zn,Zn=Ac(t.stateNode.containerInfo),un(i,t),cn(t),Zn=o;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fc=en()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,U=Qi,G=Ct;if(Qi=U||h,Ct=G||N,un(i,t),Ct=G,Qi=U,cn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Qi||Ct||qs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=N.stateNode;var X=N.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(de){Je(N,N.return,de)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(de){Je(N,N.return,de)}}}else if(i.tag===18){if(a===null){N=i;try{var H=N.stateNode;h?x0(H,!0):x0(N.stateNode,!1)}catch(de){Je(N,N.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,cc(t,a))));break;case 19:un(i,t),cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(Ry(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=td(t);uc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(on(v,""),a.flags&=-33);var T=td(t);uc(t,T,v);break;case 3:case 4:var N=a.stateNode.containerInfo,U=td(t);nd(t,U,N);break;default:throw Error(s(161))}}catch(G){Je(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Py(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Py(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Yi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Dy(t,i.alternate,i),i=i.sibling}function qs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Or(4,i,i.return),qs(i);break;case 1:Si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&xy(i,i.return,a),qs(i);break;case 27:yl(i.stateNode);case 26:case 5:Si(i,i.return),qs(i);break;case 22:i.memoizedState===null&&qs(i);break;case 30:qs(i);break;default:qs(i)}t=t.sibling}}function Xi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Xi(h,d,a),ol(4,d);break;case 1:if(Xi(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Je(o,o.return,U)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)mp(N[h],T)}catch(U){Je(o,o.return,U)}}a&&v&64&&wy(d),ll(d,d.return);break;case 27:Iy(d);case 26:case 5:Xi(h,d,a),a&&o===null&&v&4&&Cy(d),ll(d,d.return);break;case 12:Xi(h,d,a);break;case 31:Xi(h,d,a),a&&v&4&&My(h,d);break;case 13:Xi(h,d,a),a&&v&4&&Vy(h,d);break;case 22:d.memoizedState===null&&Xi(h,d,a),ll(d,d.return);break;case 30:break;default:Xi(h,d,a)}i=i.sibling}}function rd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Yo(a))}function sd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Yo(t))}function Wn(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ly(t,i,a,o),i=i.sibling}function Ly(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(t,i,a,o),h&2048&&ol(9,i);break;case 1:Wn(t,i,a,o);break;case 3:Wn(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Yo(t)));break;case 12:if(h&2048){Wn(t,i,a,o),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Je(i,i.return,N)}}else Wn(t,i,a,o);break;case 31:Wn(t,i,a,o);break;case 13:Wn(t,i,a,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Wn(t,i,a,o):ul(t,i):d._visibility&2?Wn(t,i,a,o):(d._visibility|=2,Va(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&rd(v,i);break;case 24:Wn(t,i,a,o),h&2048&&sd(i.alternate,i);break;default:Wn(t,i,a,o)}}function Va(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,T=a,N=o,U=v.flags;switch(v.tag){case 0:case 11:case 15:Va(d,v,T,N,h),ol(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?Va(d,v,T,N,h):ul(d,v):(G._visibility|=2,Va(d,v,T,N,h)),h&&U&2048&&rd(v.alternate,v);break;case 24:Va(d,v,T,N,h),h&&U&2048&&sd(v.alternate,v);break;default:Va(d,v,T,N,h)}i=i.sibling}}function ul(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:ul(a,o),h&2048&&rd(o.alternate,o);break;case 24:ul(a,o),h&2048&&sd(o.alternate,o);break;default:ul(a,o)}i=i.sibling}}var cl=8192;function ja(t,i,a){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)Uy(t,i,a),t=t.sibling}function Uy(t,i,a){switch(t.tag){case 26:ja(t,i,a),t.flags&cl&&t.memoizedState!==null&&z1(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:ja(t,i,a);break;case 3:case 4:var o=Zn;Zn=Ac(t.stateNode.containerInfo),ja(t,i,a),Zn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=cl,cl=16777216,ja(t,i,a),cl=o):ja(t,i,a));break;default:ja(t,i,a)}}function zy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function hl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Lt=o,qy(o,t)}zy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)By(t),t=t.sibling}function By(t){switch(t.tag){case 0:case 11:case 15:hl(t),t.flags&2048&&Or(9,t,t.return);break;case 3:hl(t);break;case 12:hl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,hc(t)):hl(t);break;default:hl(t)}}function hc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Lt=o,qy(o,t)}zy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Or(8,i,i.return),hc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,hc(i));break;default:hc(i)}t=t.sibling}}function qy(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Or(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Lt=o;else e:for(a=t;Lt!==null;){o=Lt;var h=o.sibling,d=o.return;if(Oy(o),o===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}var t1={getCacheForType:function(t){var i=Ht(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(At).controller.signal}},n1=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,De=null,ke=0,Xe=0,bn=null,kr=!1,Pa=!1,ad=!1,Ji=0,ht=0,Mr=0,Hs=0,od=0,Sn=0,La=0,fl=null,hn=null,ld=!1,fc=0,Hy=0,dc=1/0,mc=null,Vr=null,kt=0,jr=null,Ua=null,$i=0,ud=0,cd=null,Fy=null,dl=0,hd=null;function An(){return(Ge&2)!==0&&ke!==0?ke&-ke:F.T!==null?yd():gu()}function Gy(){if(Sn===0)if((ke&536870912)===0||Le){var t=ps;ps<<=1,(ps&3932160)===0&&(ps=262144),Sn=t}else Sn=536870912;return t=En.current,t!==null&&(t.flags|=32),Sn}function fn(t,i,a){(t===tt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(za(t,0),Pr(t,ke,Sn,!1)),ys(t,a),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(Hs|=a),ht===4&&Pr(t,ke,Sn,!1)),Ai(t))}function Qy(t,i,a){if((Ge&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Hn(t,i),h=o?s1(t,i):dd(t,i,!0),d=o;do{if(h===0){Pa&&!o&&Pr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!i1(a)){h=dd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=fl;var N=T.current.memoizedState.isDehydrated;if(N&&(za(T,v).flags|=256),v=dd(T,v,!1),v!==2){if(ad&&!N){T.errorRecoveryDisabledLanes|=d,Hs|=d,h=4;break e}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){za(t,0),Pr(t,i,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Pr(o,i,Sn,!kr);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=fc+300-en(),10<h)){if(Pr(o,i,Sn,!kr),ai(o,0,!0)!==0)break e;$i=i,o.timeoutHandle=S0(Ky.bind(null,o,a,hn,mc,ld,i,Sn,Hs,La,kr,d,"Throttled",-0,0),h);break e}Ky(o,a,hn,mc,ld,i,Sn,Hs,La,kr,d,null,-0,0)}}break}while(!0);Ai(t)}function Ky(t,i,a,o,h,d,v,T,N,U,G,X,z,H){if(t.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},Uy(i,d,X);var de=(d&62914560)===d?fc-en():(d&4194048)===d?Hy-en():0;if(de=B1(X,de),de!==null){$i=d,t.cancelPendingCommit=de(t0.bind(null,t,i,d,a,o,h,v,T,N,G,X,null,z,H)),Pr(t,d,v,!U);return}}t0(t,i,d,a,o,h,v,T,N)}function i1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Pr(t,i,a,o){i&=~od,i&=~Hs,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var d=31-dt(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&_s(t,a,i)}function gc(){return(Ge&6)===0?(ml(0),!1):!0}function fd(){if(De!==null){if(Xe===0)var t=De.return;else t=De,zi=Ms=null,Rf(t),Na=null,Jo=0,t=De;for(;t!==null;)Ay(t.alternate,t),t=t.return;De=null}}function za(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,S1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),$i=0,fd(),tt=t,De=a=Li(t.current,null),ke=i,Xe=0,bn=null,kr=!1,Pa=Hn(t,i),ad=!1,La=Sn=od=Hs=Mr=ht=0,hn=fl=null,ld=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-dt(o),d=1<<h;i|=t[h],o&=~d}return Ji=i,ju(),a}function Yy(t,i){Re=null,F.H=rl,i===Ia||i===Fu?(i=cp(),Xe=3):i===pf?(i=cp(),Xe=4):Xe=i===Ff?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,De===null&&(ht=1,rc(t,On(i,t.current)))}function Xy(){var t=En.current;return t===null?!0:(ke&4194048)===ke?jn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===jn:!1}function Jy(){var t=F.H;return F.H=rl,t===null?rl:t}function $y(){var t=F.A;return F.A=t1,t}function pc(){ht=4,kr||(ke&4194048)!==ke&&En.current!==null||(Pa=!0),(Mr&134217727)===0&&(Hs&134217727)===0||tt===null||Pr(tt,ke,Sn,!1)}function dd(t,i,a){var o=Ge;Ge|=2;var h=Jy(),d=$y();(tt!==t||ke!==i)&&(mc=null,za(t,i)),i=!1;var v=ht;e:do try{if(Xe!==0&&De!==null){var T=De,N=bn;switch(Xe){case 8:fd(),v=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var U=Xe;if(Xe=0,bn=null,Ba(t,T,N,U),a&&Pa){v=0;break e}break;default:U=Xe,Xe=0,bn=null,Ba(t,T,N,U)}}r1(),v=ht;break}catch(G){Yy(t,G)}while(!0);return i&&t.shellSuspendCounter++,zi=Ms=null,Ge=o,F.H=h,F.A=d,De===null&&(tt=null,ke=0,ju()),v}function r1(){for(;De!==null;)Zy(De)}function s1(t,i){var a=Ge;Ge|=2;var o=Jy(),h=$y();tt!==t||ke!==i?(mc=null,dc=en()+500,za(t,i)):Pa=Hn(t,i);e:do try{if(Xe!==0&&De!==null){i=De;var d=bn;t:switch(Xe){case 1:Xe=0,bn=null,Ba(t,i,d,1);break;case 2:case 9:if(lp(d)){Xe=0,bn=null,Wy(i);break}i=function(){Xe!==2&&Xe!==9||tt!==t||(Xe=7),Ai(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:lp(d)?(Xe=0,bn=null,Wy(i)):(Xe=0,bn=null,Ba(t,i,d,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var T=De;if(v?L0(v):T.stateNode.complete){Xe=0,bn=null;var N=T.sibling;if(N!==null)De=N;else{var U=T.return;U!==null?(De=U,yc(U)):De=null}break t}}Xe=0,bn=null,Ba(t,i,d,5);break;case 6:Xe=0,bn=null,Ba(t,i,d,6);break;case 8:fd(),ht=6;break e;default:throw Error(s(462))}}a1();break}catch(G){Yy(t,G)}while(!0);return zi=Ms=null,F.H=o,F.A=h,Ge=a,De!==null?0:(tt=null,ke=0,ju(),ht)}function a1(){for(;De!==null&&!qh();)Zy(De)}function Zy(t){var i=by(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,i===null?yc(t):De=i}function Wy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=py(a,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=py(a,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:Rf(i);default:Ay(a,i),i=De=$g(i,Ji),i=by(a,i,Ji)}t.memoizedProps=t.pendingProps,i===null?yc(t):De=i}function Ba(t,i,a,o){zi=Ms=null,Rf(i),Na=null,Jo=0;var h=i.return;try{if(Yb(t,h,i,a,ke)){ht=1,rc(t,On(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ht=1,rc(t,On(a,t.current)),De=null;return}i.flags&32768?(Le||o===1?t=!0:Pa||(ke&536870912)!==0?t=!1:(kr=t=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),e0(i,t)):yc(i)}function yc(t){var i=t;do{if((i.flags&32768)!==0){e0(i,kr);return}t=i.return;var a=$b(i.alternate,i,Ji);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ht===0&&(ht=5)}function e0(t,i){do{var a=Zb(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ht=6,De=null}function t0(t,i,a,o,h,d,v,T,N){t.cancelPendingCommit=null;do _c();while(kt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=ef,Gh(t,a,d,v,T,N),t===tt&&(De=tt=null,ke=0),Ua=i,jr=t,$i=a,ud=d,cd=h,Fy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,c1(dr,function(){return a0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=ae.p,ae.p=2,v=Ge,Ge|=4;try{Wb(t,i,a)}finally{Ge=v,ae.p=h,F.T=o}}kt=1,n0(),i0(),r0()}}function n0(){if(kt===1){kt=0;var t=jr,i=Ua,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=ae.p;ae.p=2;var h=Ge;Ge|=4;try{jy(i,t);var d=wd,v=qg(t.containerInfo),T=d.focusedElem,N=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Bg(T.ownerDocument.documentElement,T)){if(N!==null&&Xh(T)){var U=N.start,G=N.end;if(G===void 0&&(G=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(G,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),de=T.textContent.length,ve=Math.min(N.start,de),et=N.end===void 0?ve:Math.min(N.end,de);!H.extend&&ve>et&&(v=et,et=ve,ve=v);var j=zg(T,ve),O=zg(T,et);if(j&&O&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var L=X.createRange();L.setStart(j.node,j.offset),H.removeAllRanges(),ve>et?(H.addRange(L),H.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),H.addRange(L))}}}}for(X=[],H=T;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Nc=!!Ad,wd=Ad=null}finally{Ge=h,ae.p=o,F.T=a}}t.current=i,kt=2}}function i0(){if(kt===2){kt=0;var t=jr,i=Ua,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=ae.p;ae.p=2;var h=Ge;Ge|=4;try{Dy(t,i.alternate,i)}finally{Ge=h,ae.p=o,F.T=a}}kt=3}}function r0(){if(kt===4||kt===3){kt=0,lu();var t=jr,i=Ua,a=$i,o=Fy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?kt=5:(kt=0,Ua=jr=null,s0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Vr=null),Mi(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=F.T,h=ae.p,ae.p=2,F.T=null;try{for(var d=t.onRecoverableError,v=0;v<o.length;v++){var T=o[v];d(T.value,{componentStack:T.stack})}}finally{F.T=i,ae.p=h}}($i&3)!==0&&_c(),Ai(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===hd?dl++:(dl=0,hd=t):dl=0,ml(0)}}function s0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Yo(i)))}function _c(){return n0(),i0(),r0(),a0()}function a0(){if(kt!==5)return!1;var t=jr,i=ud;ud=0;var a=Mi($i),o=F.T,h=ae.p;try{ae.p=32>a?32:a,F.T=null,a=cd,cd=null;var d=jr,v=$i;if(kt=0,Ua=jr=null,$i=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,By(d.current),Ly(d,d.current,v,a),Ge=T,ml(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{ae.p=h,F.T=o,s0(t,i)}}function o0(t,i,a){i=On(a,i),i=Hf(t.stateNode,i,2),t=Ir(t,i,2),t!==null&&(ys(t,2),Ai(t))}function Je(t,i,a){if(t.tag===3)o0(t,t,a);else for(;i!==null;){if(i.tag===3){o0(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Vr===null||!Vr.has(o))){t=On(a,t),a=ly(2),o=Ir(i,a,2),o!==null&&(uy(a,o,i,t),ys(o,2),Ai(o));break}}i=i.return}}function md(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new n1;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(ad=!0,h.add(a),t=o1.bind(null,t,i,a),i.then(t,t))}function o1(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(ke&a)===a&&(ht===4||ht===3&&(ke&62914560)===ke&&300>en()-fc?(Ge&2)===0&&za(t,0):od|=a,La===ke&&(La=0)),Ai(t)}function l0(t,i){i===0&&(i=mu()),t=Ds(t,i),t!==null&&(ys(t,i),Ai(t))}function l1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),l0(t,a)}function u1(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),l0(t,a)}function c1(t,i){return Ot(t,i)}var vc=null,qa=null,gd=!1,Ec=!1,pd=!1,Lr=0;function Ai(t){t!==qa&&t.next===null&&(qa===null?vc=qa=t:qa=qa.next=t),Ec=!0,gd||(gd=!0,f1())}function ml(t,i){if(!pd&&Ec){pd=!0;do for(var a=!1,o=vc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,f0(o,d))}else d=ke,d=ai(o,o===tt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Hn(o,d)||(a=!0,f0(o,d));o=o.next}while(a);pd=!1}}function h1(){u0()}function u0(){Ec=gd=!1;var t=0;Lr!==0&&b1()&&(t=Lr);for(var i=en(),a=null,o=vc;o!==null;){var h=o.next,d=c0(o,i);d===0?(o.next=null,a===null?vc=h:a.next=h,h===null&&(qa=a)):(a=o,(t!==0||(d&3)!==0)&&(Ec=!0)),o=h}kt!==0&&kt!==5||ml(t),Lr!==0&&(Lr=0)}function c0(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-dt(d),T=1<<v,N=h[v];N===-1?((T&a)===0||(T&o)!==0)&&(h[v]=Fh(T,i)):N<=i&&(t.expiredLanes|=T),d&=~T}if(i=tt,a=ke,a=ai(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&fr(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&fr(o),Mi(a)){case 2:case 8:a=Ao;break;case 32:a=dr;break;case 268435456:a=uu;break;default:a=dr}return o=h0.bind(null,t),a=Ot(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&fr(o),t.callbackPriority=2,t.callbackNode=null,2}function h0(t,i){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(_c()&&t.callbackNode!==a)return null;var o=ke;return o=ai(t,t===tt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Qy(t,o,i),c0(t,en()),t.callbackNode!=null&&t.callbackNode===a?h0.bind(null,t):null)}function f0(t,i){if(_c())return null;Qy(t,i,!0)}function f1(){A1(function(){(Ge&6)!==0?Ot(So,h1):u0()})}function yd(){if(Lr===0){var t=Ca;t===0&&(t=ri,ri<<=1,(ri&261888)===0&&(ri=256)),Lr=t}return Lr}function d0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fa(""+t)}function m0(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function d1(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=d0((h[jt]||null).action),v=o.submitter;v&&(i=(i=v[jt]||null)?d0(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new yi("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Lr!==0){var N=v?m0(h,v):new FormData(h);Pf(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=v?m0(h,v):new FormData(h),Pf(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var _d=0;_d<Wh.length;_d++){var vd=Wh[_d],m1=vd.toLowerCase(),g1=vd[0].toUpperCase()+vd.slice(1);$n(m1,"on"+g1)}$n(Gg,"onAnimationEnd"),$n(Qg,"onAnimationIteration"),$n(Kg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(Db,"onTransitionRun"),$n(Ob,"onTransitionStart"),$n(kb,"onTransitionCancel"),$n(Yg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function g0(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var T=o[v],N=T.instance,U=T.currentTarget;if(T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=U;try{d(h)}catch(G){Vu(G)}h.currentTarget=null,d=N}else for(v=0;v<o.length;v++){if(T=o[v],N=T.instance,U=T.currentTarget,T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=U;try{d(h)}catch(G){Vu(G)}h.currentTarget=null,d=N}}}}function Oe(t,i){var a=i[oa];a===void 0&&(a=i[oa]=new Set);var o=t+"__bubble";a.has(o)||(p0(i,t,2,!1),a.add(o))}function Ed(t,i,a){var o=0;i&&(o|=4),p0(a,t,o,i)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Td(t){if(!t[Tc]){t[Tc]=!0,Co.forEach(function(a){a!=="selectionchange"&&(p1.has(a)||Ed(a,!1,t),Ed(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Tc]||(i[Tc]=!0,Ed("selectionchange",!1,i))}}function p0(t,i,a,o){switch(G0(i)){case 2:var h=F1;break;case 8:h=G1;break;default:h=jd}a=h.bind(null,i,a,t),h=void 0,!Ss||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function bd(t,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=o.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=ci(T),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){o=d=v;continue e}T=T.parentNode}}o=o.return}vr(function(){var U=d,G=Rn(a),X=[];e:{var z=Xg.get(t);if(z!==void 0){var H=yi,de=t;switch(t){case"keypress":if(ws(a)===0)break e;case"keydown":case"keyup":H=Ou;break;case"focusin":de="focus",H=Cs;break;case"focusout":de="blur",H=Cs;break;case"beforeblur":case"afterblur":H=Cs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Gg:case Qg:case Kg:H=wu;break;case Yg:H=S;break;case"scroll":case"scrollend":H=Uo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Pi;break;case"toggle":case"beforetoggle":H=Ce}var ve=(i&4)!==0,et=!ve&&(t==="scroll"||t==="scrollend"),j=ve?z!==null?z+"Capture":null:z;ve=[];for(var O=U,L;O!==null;){var K=O;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||j===null||(K=Kn(O,j),K!=null&&ve.push(pl(O,K,L))),et)break;O=O.return}0<ve.length&&(z=new H(z,de,null,a,G),X.push({event:z,listeners:ve}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&a!==jo&&(de=a.relatedTarget||a.fromElement)&&(ci(de)||de[li]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(de=a.relatedTarget||a.toElement,H=U,de=de?ci(de):null,de!==null&&(et=u(de),ve=de.tag,de!==et||ve!==5&&ve!==27&&ve!==6)&&(de=null)):(H=null,de=U),H!==de)){if(ve=zo,K="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Pi,K="onPointerLeave",j="onPointerEnter",O="pointer"),et=H==null?z:pn(H),L=de==null?z:pn(de),z=new ve(K,O+"leave",H,a,G),z.target=et,z.relatedTarget=L,K=null,ci(G)===U&&(ve=new ve(j,O+"enter",de,a,G),ve.target=L,ve.relatedTarget=et,K=ve),et=K,H&&de)t:{for(ve=y1,j=H,O=de,L=0,K=j;K;K=ve(K))L++;K=0;for(var ge=O;ge;ge=ve(ge))K++;for(;0<L-K;)j=ve(j),L--;for(;0<K-L;)O=ve(O),K--;for(;L--;){if(j===O||O!==null&&j===O.alternate){ve=j;break t}j=ve(j),O=ve(O)}ve=null}else ve=null;H!==null&&y0(X,z,H,ve,!1),de!==null&&et!==null&&y0(X,et,de,ve,!0)}}e:{if(z=U?pn(U):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var qe=Mg;else if(Og(z))if(Vg)qe=Rb;else{qe=xb;var me=wb}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&ha(U.elementType)&&(qe=Mg):qe=Cb;if(qe&&(qe=qe(t,U))){kg(X,qe,a,G);break e}me&&me(t,z,U),t==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&ko(z,"number",z.value)}switch(me=U?pn(U):window,t){case"focusin":(Og(me)||me.contentEditable==="true")&&(va=me,Jh=U,Go=null);break;case"focusout":Go=Jh=va=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,Hg(X,a,G);break;case"selectionchange":if(Nb)break;case"keydown":case"keyup":Hg(X,a,G)}var Ne;if(Fe)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else _a?Rs(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Ei&&a.locale!=="ko"&&(_a||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&_a&&(Ne=Lo()):(pi=G,Po="value"in pi?pi.value:pi.textContent,_a=!0)),me=bc(U,Me),0<me.length&&(Me=new vi(Me,t,null,a,G),X.push({event:Me,listeners:me}),Ne?Me.data=Ne:(Ne=ya(a),Ne!==null&&(Me.data=Ne)))),(Ne=Nn?Tb(t,a):bb(t,a))&&(Me=bc(U,"onBeforeInput"),0<Me.length&&(me=new vi("onBeforeInput","beforeinput",null,a,G),X.push({event:me,listeners:Me}),me.data=Ne)),d1(X,t,U,a,G)}g0(X,i)})}function pl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function bc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Kn(t,a),h!=null&&o.unshift(pl(t,h,d)),h=Kn(t,i),h!=null&&o.push(pl(t,h,d))),t.tag===3)return o;t=t.return}return[]}function y1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function y0(t,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var T=a,N=T.alternate,U=T.stateNode;if(T=T.tag,N!==null&&N===o)break;T!==5&&T!==26&&T!==27||U===null||(N=U,h?(U=Kn(a,d),U!=null&&v.unshift(pl(a,U,N))):h||(U=Kn(a,d),U!=null&&v.push(pl(a,U,N)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var _1=/\r\n?/g,v1=/\u0000|\uFFFD/g;function _0(t){return(typeof t=="string"?t:""+t).replace(_1,`
`).replace(v1,"")}function v0(t,i){return i=_0(i),_0(t)===i}function We(t,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||on(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&on(t,""+o);break;case"className":yn(t,"class",o);break;case"tabIndex":yn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,o);break;case"style":Vo(t,o,d);break;case"data":if(i!=="object"){yn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=fa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=fa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Qn);break;case"onScroll":o!=null&&Oe("scroll",t);break;case"onScrollEnd":o!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=fa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ua(t,"popover",o);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ua(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bu.get(a)||a,ua(t,a,o))}}function Sd(t,i,a,o,h,d){switch(a){case"style":Vo(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?on(t,o):(typeof o=="number"||typeof o=="bigint")&&on(t,""+o);break;case"onScroll":o!=null&&Oe("scroll",t);break;case"onScrollEnd":o!=null&&Oe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ua(t,a,o)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,v,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),o&&We(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var T=d=v=h=null,N=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":N=G;break;case"defaultChecked":U=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:We(t,i,o,G,a,null)}}vu(t,d,T,N,U,v,h,!1);return;case"select":Oe("invalid",t),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:We(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!o,i!=null?gr(t,!!o,i,!1):a!=null&&gr(t,!!o,a,!0);return;case"textarea":Oe("invalid",t),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(t,i,v,T,a,null)}pr(t,o,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:We(t,i,N,o,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(o=0;o<gl.length;o++)Oe(gl[o],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,U,o,a,null)}return;default:if(ha(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Sd(t,i,G,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&We(t,i,T,o,a,null))}function E1(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,N=null,U=null,G=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=X;default:o.hasOwnProperty(H)||We(t,i,H,null,o,X)}}for(var z in o){var H=o[z];if(X=a[z],o.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":d=H;break;case"name":h=H;break;case"checked":U=H;break;case"defaultChecked":G=H;break;case"value":v=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==X&&We(t,i,z,H,o,X)}}ca(t,v,T,N,U,G,d,h);return;case"select":H=v=T=z=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":H=N;default:o.hasOwnProperty(d)||We(t,i,d,null,o,N)}for(h in o)if(d=o[h],N=a[h],o.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==N&&We(t,i,h,d,o,N)}i=T,a=v,o=H,z!=null?gr(t,!!a,z,!1):!!o!=!!a&&(i!=null?gr(t,!!a,i,!0):gr(t,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(t,i,T,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,v,h,o,d)}Eu(t,z,H);return;case"option":for(var de in a)if(z=a[de],a.hasOwnProperty(de)&&z!=null&&!o.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:We(t,i,de,null,o,z)}for(N in o)if(z=o[N],H=a[N],o.hasOwnProperty(N)&&z!==H&&(z!=null||H!=null))switch(N){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:We(t,i,N,z,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)z=a[ve],a.hasOwnProperty(ve)&&z!=null&&!o.hasOwnProperty(ve)&&We(t,i,ve,null,o,z);for(U in o)if(z=o[U],H=a[U],o.hasOwnProperty(U)&&z!==H&&(z!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:We(t,i,U,z,o,H)}return;default:if(ha(i)){for(var et in a)z=a[et],a.hasOwnProperty(et)&&z!==void 0&&!o.hasOwnProperty(et)&&Sd(t,i,et,void 0,o,z);for(G in o)z=o[G],H=a[G],!o.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||Sd(t,i,G,z,o,H);return}}for(var j in a)z=a[j],a.hasOwnProperty(j)&&z!=null&&!o.hasOwnProperty(j)&&We(t,i,j,null,o,z);for(X in o)z=o[X],H=a[X],!o.hasOwnProperty(X)||z===H||z==null&&H==null||We(t,i,X,z,o,H)}function E0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function T1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,v=h.initiatorType,T=h.duration;if(d&&T&&E0(v)){for(v=0,T=h.responseEnd,o+=1;o<a.length;o++){var N=a[o],U=N.startTime;if(U>T)break;var G=N.transferSize,X=N.initiatorType;G&&E0(X)&&(N=N.responseEnd,v+=G*(N<T?1:(T-U)/(N-U)))}if(--o,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ad=null,wd=null;function Sc(t){return t.nodeType===9?t:t.ownerDocument}function T0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function xd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Cd=null;function b1(){var t=window.event;return t&&t.type==="popstate"?t===Cd?!1:(Cd=t,!0):(Cd=null,!1)}var S0=typeof setTimeout=="function"?setTimeout:void 0,S1=typeof clearTimeout=="function"?clearTimeout:void 0,A0=typeof Promise=="function"?Promise:void 0,A1=typeof queueMicrotask=="function"?queueMicrotask:typeof A0<"u"?function(t){return A0.resolve(null).then(t).catch(w1)}:S0;function w1(t){setTimeout(function(){throw t})}function Ur(t){return t==="head"}function w0(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Qa(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")yl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,yl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[ui]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&yl(t.ownerDocument.body);a=h}while(a);Qa(i)}function x0(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Rd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rd(a),la(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function x1(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ui])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function C1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function C0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pn(t.nextSibling),t===null))return null;return t}function Id(t){return t.data==="$?"||t.data==="$~"}function Nd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function R1(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Pn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Dd=null;function R0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function I0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function N0(t,i,a){switch(i=Sc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function yl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);la(t)}var Ln=new Map,D0=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zi=ae.d;ae.d={f:I1,r:N1,D:D1,C:O1,L:k1,m:M1,X:j1,S:V1,M:P1};function I1(){var t=Zi.f(),i=gc();return t||i}function N1(t){var i=Cn(t);i!==null&&i.tag===5&&i.type==="form"?Yp(i):Zi.r(t)}var Ha=typeof document>"u"?null:document;function O0(t,i,a){var o=Ha;if(o&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),D0.has(h)||(D0.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Gt(i,"link",t),bt(i),o.head.appendChild(i)))}}function D1(t){Zi.D(t),O0("dns-prefetch",t,null)}function O1(t,i){Zi.C(t,i),O0("preconnect",t,i)}function k1(t,i,a){Zi.L(t,i,a);var o=Ha;if(o&&t&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(i){case"style":d=Fa(t);break;case"script":d=Ga(t)}Ln.has(d)||(t=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(_l(d))||i==="script"&&o.querySelector(vl(d))||(i=o.createElement("link"),Gt(i,"link",t),bt(i),o.head.appendChild(i)))}}function M1(t,i){Zi.m(t,i);var a=Ha;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ga(t)}if(!Ln.has(d)&&(t=A({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(d)))return}o=a.createElement("link"),Gt(o,"link",t),bt(o),a.head.appendChild(o)}}}function V1(t,i,a){Zi.S(t,i,a);var o=Ha;if(o&&t){var h=hi(o).hoistableStyles,d=Fa(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(_l(d)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&Od(t,a);var N=v=o.createElement("link");bt(N),Gt(N,"link",t),N._p=new Promise(function(U,G){N.onload=U,N.onerror=G}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,wc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function j1(t,i){Zi.X(t,i);var a=Ha;if(a&&t){var o=hi(a).hoistableScripts,h=Ga(t),d=o.get(h);d||(d=a.querySelector(vl(h)),d||(t=A({src:t,async:!0},i),(i=Ln.get(h))&&kd(t,i),d=a.createElement("script"),bt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function P1(t,i){Zi.M(t,i);var a=Ha;if(a&&t){var o=hi(a).hoistableScripts,h=Ga(t),d=o.get(h);d||(d=a.querySelector(vl(h)),d||(t=A({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&kd(t,i),d=a.createElement("script"),bt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function k0(t,i,a,o){var h=(h=Ie.current)?Ac(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Fa(a.href),a=hi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Fa(a.href);var d=hi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(_l(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||L1(h,t,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ga(a),a=hi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Fa(t){return'href="'+an(t)+'"'}function _l(t){return'link[rel="stylesheet"]['+t+"]"}function M0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function L1(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Gt(i,"link",a),bt(i),t.head.appendChild(i))}function Ga(t){return'[src="'+an(t)+'"]'}function vl(t){return"script[async]"+t}function V0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(o)return i.instance=o,bt(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),bt(o),Gt(o,"style",h),wc(o,a.precedence,t),i.instance=o;case"stylesheet":h=Fa(a.href);var d=t.querySelector(_l(h));if(d)return i.state.loading|=4,i.instance=d,bt(d),d;o=M0(a),(h=Ln.get(h))&&Od(o,h),d=(t.ownerDocument||t).createElement("link"),bt(d);var v=d;return v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),Gt(d,"link",o),i.state.loading|=4,wc(d,a.precedence,t),i.instance=d;case"script":return d=Ga(a.src),(h=t.querySelector(vl(d)))?(i.instance=h,bt(h),h):(o=a,(h=Ln.get(d))&&(o=A({},a),kd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Gt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,wc(o,a.precedence,t));return i.instance}function wc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Od(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var xc=null;function j0(t,i,a){if(xc===null){var o=new Map,h=xc=new Map;h.set(a,o)}else h=xc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ui]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=o.get(v);T?T.push(d):o.set(v,[d])}}return o}function P0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function U1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function L0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function z1(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Fa(o.href),d=i.querySelector(_l(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Cc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,bt(d);return}d=i.ownerDocument||i,o=M0(o),(h=Ln.get(h))&&Od(o,h),d=d.createElement("link"),bt(d);var v=d;v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),Gt(d,"link",o),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Cc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Md=0;function B1(t,i){return t.stylesheets&&t.count===0&&Ic(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Md===0&&(Md=62500*T1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Md?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rc=null;function Ic(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rc=new Map,i.forEach(q1,t),Rc=null,Cc.call(t))}function q1(t,i){if(!(i.state.loading&4)){var a=Rc.get(t);if(a)var o=a.get(null);else{a=new Map,Rc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=Cc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var El={$$typeof:te,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function H1(t,i,a,o,h,d,v,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function U0(t,i,a,o,h,d,v,T,N,U,G,X){return t=new H1(t,i,a,v,N,U,G,X,T),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=df(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},yf(d),t}function z0(t){return t?(t=ba,t):ba}function B0(t,i,a,o,h,d){h=z0(h),o.context===null?o.context=h:o.pendingContext=h,o=Rr(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Ir(t,o,i),a!==null&&(fn(a,t,i),Zo(a,t,i))}function q0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Vd(t,i){q0(t,i),(t=t.alternate)&&q0(t,i)}function H0(t){if(t.tag===13||t.tag===31){var i=Ds(t,67108864);i!==null&&fn(i,t,67108864),Vd(t,67108864)}}function F0(t){if(t.tag===13||t.tag===31){var i=An();i=vs(i);var a=Ds(t,i);a!==null&&fn(a,t,i),Vd(t,i)}}var Nc=!0;function F1(t,i,a,o){var h=F.T;F.T=null;var d=ae.p;try{ae.p=2,jd(t,i,a,o)}finally{ae.p=d,F.T=h}}function G1(t,i,a,o){var h=F.T;F.T=null;var d=ae.p;try{ae.p=8,jd(t,i,a,o)}finally{ae.p=d,F.T=h}}function jd(t,i,a,o){if(Nc){var h=Pd(o);if(h===null)bd(t,i,o,Dc,a),Q0(t,o);else if(K1(h,t,i,a,o))o.stopPropagation();else if(Q0(t,o),i&4&&-1<Q1.indexOf(t)){for(;h!==null;){var d=Cn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=si(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var N=1<<31-dt(v);T.entanglements[1]|=N,v&=~N}Ai(d),(Ge&6)===0&&(dc=en()+500,ml(0))}}break;case 31:case 13:T=Ds(d,2),T!==null&&fn(T,d,2),gc(),Vd(d,2)}if(d=Pd(o),d===null&&bd(t,i,o,Dc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else bd(t,i,o,null,a)}}function Pd(t){return t=Rn(t),Ld(t)}var Dc=null;function Ld(t){if(Dc=null,t=ci(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=g(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Dc=t,null}function G0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gs()){case So:return 2;case Ao:return 8;case dr:case Hh:return 32;case uu:return 268435456;default:return 32}default:return 32}}var Ud=!1,zr=null,Br=null,qr=null,Tl=new Map,bl=new Map,Hr=[],Q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q0(t,i){switch(t){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Tl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(i.pointerId)}}function Sl(t,i,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Cn(i),i!==null&&H0(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function K1(t,i,a,o,h){switch(i){case"focusin":return zr=Sl(zr,t,i,a,o,h),!0;case"dragenter":return Br=Sl(Br,t,i,a,o,h),!0;case"mouseover":return qr=Sl(qr,t,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return Tl.set(d,Sl(Tl.get(d)||null,t,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,bl.set(d,Sl(bl.get(d)||null,t,i,a,o,h)),!0}return!1}function K0(t){var i=ci(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){F0(a)});return}}else if(i===31){if(i=g(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){F0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Pd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);jo=o,a.target.dispatchEvent(o),jo=null}else return i=Cn(a),i!==null&&H0(i),t.blockedOn=a,!1;i.shift()}return!0}function Y0(t,i,a){Oc(t)&&a.delete(i)}function Y1(){Ud=!1,zr!==null&&Oc(zr)&&(zr=null),Br!==null&&Oc(Br)&&(Br=null),qr!==null&&Oc(qr)&&(qr=null),Tl.forEach(Y0),bl.forEach(Y0)}function kc(t,i){t.blockedOn===i&&(t.blockedOn=null,Ud||(Ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Y1)))}var Mc=null;function X0(t){Mc!==t&&(Mc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mc===t&&(Mc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(Ld(o||a)===null)continue;break}var d=Cn(a);d!==null&&(t.splice(i,3),i-=3,Pf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Qa(t){function i(N){return kc(N,t)}zr!==null&&kc(zr,t),Br!==null&&kc(Br,t),qr!==null&&kc(qr,t),Tl.forEach(i),bl.forEach(i);for(var a=0;a<Hr.length;a++){var o=Hr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Hr.length&&(a=Hr[0],a.blockedOn===null);)K0(a),a.blockedOn===null&&Hr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[jt]||null;if(typeof d=="function")v||X0(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[jt]||null)T=v.formAction;else if(Ld(h)!==null)continue}else T=v.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),X0(a)}}}function J0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function zd(t){this._internalRoot=t}Vc.prototype.render=zd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=An();B0(a,o,t,i,null,null)},Vc.prototype.unmount=zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;B0(t.current,2,null,t,null,null),gc(),i[li]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var i=gu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Hr.length&&i!==0&&i<Hr[a].priority;a++);Hr.splice(a,0,t),a===0&&K0(t)}};var $0=e.version;if($0!=="19.2.0")throw Error(s(527,$0,"19.2.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var X1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{qn=jc.inject(X1),zt=jc}catch{}}return wl.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",h=ry,d=sy,v=ay;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=U0(t,1,!1,null,null,a,o,null,h,d,v,J0),t[li]=i.current,Td(t),new zd(i)},wl.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,h="",d=ry,v=sy,T=ay,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=U0(t,1,!0,i,a??null,o,h,N,d,v,T,J0),i.context=z0(null),a=i.current,o=An(),o=vs(o),h=Rr(o),h.callback=null,Ir(a,h,o),a=o,i.current.lanes=a,ys(i,a),Ai(i),t[li]=i.current,Td(t),new Vc(i)},wl.version="19.2.0",wl}var o_;function sS(){if(o_)return Hd.exports;o_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hd.exports=rS(),Hd.exports}var aS=sS();const oS=Hv(aS),l_=[{id:"job-1",employerId:"emp-1",title:"Auxiliar Administrativo",companyName:"Tech Solutions Ltda.",location:"So Paulo, SP",salary:"R$ 2.500,00",benefits:"Vale Transporte, Vale Refeio, Plano de Sade",workHours:"40 horas/semana",workSchedule:"Segunda a Sexta, 09h-18h",workScale:"Presencial",requirements:{education:"Ensino Mdio Completo",experience:"Mnimo de 1 ano na rea",profile:"Organizado, proativo e com boa comunicao."},postedDate:"2024-07-20",applications:[],resumePreference:"file"},{id:"job-2",employerId:"emp-2",title:"Mecnico de Manuteno",companyName:"Indstria Metalrgica Brasil",location:"Rio de Janeiro, RJ",salary:"R$ 3.800,00",benefits:"Vale Transporte, Vale Alimentao, Periculosidade",workHours:"44 horas/semana",workSchedule:"Turnos rotativos",workScale:"6x1",requirements:{education:"Curso Tcnico em Mecnica",experience:"3 anos de experincia com maquinrio pesado",profile:"Ateno aos detalhes, capacidade de trabalhar em equipe."},postedDate:"2024-07-19",applications:[],resumePreference:"both"},{id:"job-3",employerId:"emp-1",title:"Estgio em Marketing Digital",location:"Belo Horizonte, MG",salary:"R$ 1.200,00 (Bolsa auxlio)",benefits:"Vale Transporte",workHours:"30 horas/semana",workSchedule:"Flexvel",workScale:"Hbrido",requirements:{education:"Cursando Superior em Marketing, Publicidade ou reas correlatas",profile:"Criativo, com conhecimento em redes sociais e vontade de aprender."},postedDate:"2024-07-18",applications:[],resumePreference:"text"},{id:"job-4",employerId:"emp-2",title:"Jovem Aprendiz - Logstica",companyName:"Log Express",location:"Curitiba, PR",salary:"Salrio Mnimo-hora",benefits:"Vale Transporte, Curso de Capacitao",workHours:"20 horas/semana",workSchedule:"Segunda a Sexta, 13h-17h",workScale:"Presencial",requirements:{education:"Ensino Mdio Cursando ou Completo",profile:"Vontade de aprender e se desenvolver na rea de logstica."},postedDate:"2024-07-21",applications:[],resumePreference:"file"}],u_=[{id:"emp-1",companyName:"Tech Solutions Ltda.",email:"contato@techsolutions.com",password:"password123"},{id:"emp-2",companyName:"Indstria Metalrgica Brasil",email:"rh@industriametal.com.br",password:"password123"}],lS=[{title:"Cursos Gratuitos de Tecnologia Abrem Inscries",description:"A plataforma 'Futuro Digital' anunciou a abertura de 5.000 vagas para cursos online gratuitos nas reas de programao, anlise de dados e inteligncia artificial. As inscries vo at o final do ms e so abertas para todo o Brasil.",link:"https://example.com/cursos-tecnologia",source:"Futuro Digital News"},{title:"Concurso Nacional Anuncia Edital com Salrios de at R$ 15 mil",description:"Foi publicado o edital para o concurso do Tribunal de Contas Nacional, com vagas para nveis mdio e superior em diversas reas. As provas esto previstas para novembro e as inscries comeam na prxima semana.",link:"https://example.com/concurso-nacional",source:"Dirio Oficial"},{title:"Programa de Bolsas de Estudo para Universidades no Exterior",description:"O programa 'Mundo afora' est com inscries abertas para bolsas de estudo integrais para cursos de graduao e ps-graduao em universidades na Europa e Amrica do Norte. O prazo final para candidatura  30 de setembro.",link:"https://example.com/bolsas-exterior",source:"Educao Internacional"},{title:"Vestibulares de Inverno: Fique Atento aos Prazos",description:"As principais universidades estaduais e federais divulgaram os calendrios de seus vestibulares de inverno. Candidatos devem ficar atentos aos prazos de iseno de taxa e inscrio para no perderem a oportunidade.",link:"https://example.com/vestibulares-inverno",source:"Guia do Estudante"}],uS=`
<h2 class="text-2xl font-bold mb-4 text-blue-500 dark:text-blue-400">Quem Somos</h2>
<p class="mb-4 text-gray-700 dark:text-gray-300">A Job Finder Pro nasceu com a misso de simplificar e humanizar o processo de recrutamento e seleo. Acreditamos que conectar o talento certo  oportunidade certa pode transformar vidas e impulsionar negcios. Nossa plataforma foi desenhada para ser intuitiva, eficiente e acessvel tanto para candidatos em busca de novas oportunidades quanto para empresas que procuram os melhores profissionais.</p>
<h3 class="text-xl font-semibold mb-2">Nossos Servios</h3>
<ul class="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300">
  <li><strong>Para Candidatos:</strong> Oferecemos uma vasta gama de vagas em todo o Brasil, com filtros de busca avanados, alertas de vagas personalizadas e um processo de candidatura simplificado. Tudo de forma 100% gratuita.</li>
  <li><strong>Para Empregadores:</strong> Disponibilizamos uma plataforma robusta para publicao e gerenciamento de vagas, com um painel de controle exclusivo para acompanhar candidaturas, visualizar currculos e entrar em contato com os talentos mais promissores do mercado.</li>
</ul>
<p class="mt-4 text-gray-700 dark:text-gray-300">Nosso compromisso  com a transparncia, a inovao e o sucesso de nossos usurios. Junte-se a ns e encontre hoje mesmo o seu prximo passo profissional ou o candidato ideal para sua equipe!</p>
`,cS=r=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.07a2.25 2.25 0 01-2.25 2.25H5.92a2.25 2.25 0 01-2.25-2.25v-4.07m16.5 0a2.25 2.25 0 00-2.25-2.25H5.92a2.25 2.25 0 00-2.25 2.25m16.5 0v-4.07a2.25 2.25 0 00-2.25-2.25H5.92a2.25 2.25 0 00-2.25 2.25v4.07m16.5 0a2.25 2.25 0 00-2.25-2.25H5.92a2.25 2.25 0 00-2.25 2.25m16.5 0h-1.5m-13.5 0h-1.5m15 0v-1.5A2.25 2.25 0 0018 9.75h-1.5a2.25 2.25 0 00-2.25 2.25v1.5m-6.75 0v-1.5A2.25 2.25 0 019 9.75H7.5A2.25 2.25 0 015.25 12v1.5m6.75 0h-1.5"})}),km=r=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),hS=()=>{const[r,e]=se.useState(!1),[n,s]=se.useState(!1),l=se.useRef(null),u=se.useContext(hr);if(!u)return null;const{setPage:f}=u,g=y=>{f(y),e(!1),s(!1)};se.useEffect(()=>{const y=b=>{l.current&&!l.current.contains(b.target)&&s(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const _=({page:y,children:b})=>p.jsx("button",{onClick:()=>g(y),className:"text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:b});return p.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-md sticky top-0 z-50",children:[p.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex items-center justify-between h-16",children:[p.jsx("div",{className:"flex items-center",children:p.jsxs("button",{onClick:()=>g("home"),className:"flex-shrink-0 flex items-center gap-2",children:[p.jsx(cS,{className:"h-8 w-8 text-blue-600 dark:text-blue-500"}),p.jsx("span",{className:"font-bold text-xl text-gray-800 dark:text-white",children:"Job Finder Pro"})]})}),p.jsx("div",{className:"hidden md:block",children:p.jsxs("div",{className:"ml-10 flex items-baseline space-x-4",children:[p.jsx(_,{page:"home",children:"Incio"}),p.jsx(_,{page:"employer",children:"Publicar Vagas"}),p.jsxs("div",{className:"relative",ref:l,children:[p.jsx("button",{onClick:()=>s(!n),className:"text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Mais"}),n&&p.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-700 rounded-md shadow-lg z-10 border border-gray-200 dark:border-gray-600 animate-in fade-in-0 zoom-in-95 origin-top-right",children:[p.jsx("button",{onClick:()=>g("news"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-600 first:rounded-t-md transition-colors",children:"Notcias"}),p.jsx("button",{onClick:()=>g("about"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-600 transition-colors",children:"Quem Somos"}),p.jsx("button",{onClick:()=>g("feedback"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-600 transition-colors",children:"Comentrios"}),p.jsx("button",{onClick:()=>g("education"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-600 last:rounded-b-md transition-colors",children:"Educao"})]})]})]})}),p.jsx("div",{className:"-mr-2 flex md:hidden",children:p.jsxs("button",{onClick:()=>e(!r),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[p.jsx("span",{className:"sr-only",children:"Open main menu"}),r?p.jsx(km,{className:"block h-6 w-6"}):p.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),r&&p.jsx("div",{className:"md:hidden",children:p.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[p.jsx("button",{onClick:()=>g("home"),className:"text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium w-full text-left",children:"Incio"}),p.jsx("button",{onClick:()=>g("employer"),className:"text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium w-full text-left",children:"Publicar Vagas"}),p.jsx("button",{onClick:()=>g("news"),className:"text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium w-full text-left",children:"Notcias"}),p.jsx("button",{onClick:()=>g("about"),className:"text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium w-full text-left",children:"Quem Somos"}),p.jsx("button",{onClick:()=>g("feedback"),className:"text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium w-full text-left",children:"Comentrios"}),p.jsx("button",{onClick:()=>g("education"),className:"text-gray-700 dark:text-gray-300 hover:bg-blue-100 dark:hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium w-full text-left",children:"Educao"})]})})]})},fS=()=>p.jsx("footer",{className:"bg-white dark:bg-gray-800 shadow-inner mt-auto",children:p.jsx("div",{className:"container mx-auto py-4 px-4 sm:px-6 lg:px-8",children:p.jsxs("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:[" ",new Date().getFullYear()," Job Finder Pro. Todos os direitos reservados."]})})}),dS=r=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]}),mS=r=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Gv=r=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6.75h1.5m-1.5 3h1.5m-1.5 3h1.5M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"})}),Qv=({className:r="h-6 w-6",filled:e=!1})=>e?p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:r,children:p.jsx("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"})}),gS=({job:r,onJobClick:e,isFavorite:n=!1,onToggleFavorite:s})=>{const l=u=>{const f=Math.floor((new Date().getTime()-new Date(u).getTime())/1e3);let g=f/31536e3;return g>1?`h ${Math.floor(g)} anos`:(g=f/2592e3,g>1?`h ${Math.floor(g)} meses`:(g=f/86400,g>1?`h ${Math.floor(g)} dias`:(g=f/3600,g>1?`h ${Math.floor(g)} horas`:(g=f/60,g>1?`h ${Math.floor(g)} minutos`:"agora mesmo"))))};return p.jsxs("div",{onClick:()=>e(r),className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 flex flex-col justify-between cursor-pointer hover:shadow-xl hover:scale-105 transition-all duration-300 relative",children:[s&&p.jsx("button",{onClick:u=>{u.stopPropagation(),s(r.id)},className:`absolute top-4 right-4 p-2 rounded-full transition-all duration-200 ${n?"text-blue-500 hover:text-blue-600 bg-blue-50 dark:bg-blue-900/20":"text-gray-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20"}`,"aria-label":n?"Remover dos favoritos":"Adicionar aos favoritos",title:n?"Remover dos favoritos":"Adicionar aos favoritos",children:p.jsx(Qv,{className:"h-5 w-5",filled:n})}),p.jsxs("div",{children:[r.companyName&&p.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mb-2",children:[p.jsx(Gv,{className:"h-4 w-4 mr-2"}),p.jsx("span",{children:r.companyName})]}),p.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:r.title}),p.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300 mt-2",children:[p.jsx(dS,{className:"h-5 w-5 mr-2"}),p.jsx("span",{children:r.location})]})]}),p.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[p.jsx(mS,{className:"h-4 w-4 mr-2"}),p.jsx("span",{children:l(r.postedDate)})]}),p.jsx("div",{className:"flex items-center text-blue-600 dark:text-blue-400 font-semibold",children:"Ver Detalhes"})]})]})},pS=({job:r,onCancel:e,onSuccess:n})=>{const[s,l]=se.useState(""),[u,f]=se.useState(""),[g,_]=se.useState(""),[y,b]=se.useState(null),[A,R]=se.useState(""),[B,Z]=se.useState(""),ee=se.useContext(hr),Q=ne=>{ne.target.files&&ne.target.files.length>0&&b(ne.target.files[0])},W=async ne=>{if(ne.preventDefault(),!ee)return;if(r.resumePreference==="file"&&!y){Z("Por favor, anexe seu currculo.");return}if(r.resumePreference==="text"&&!A.trim()){Z("Por favor, cole seu currculo.");return}if(r.resumePreference==="both"&&!y&&!A.trim()){Z("Por favor, anexe ou cole seu currculo.");return}Z("");let te;if(y){const ue=new FileReader;ue.readAsDataURL(y),ue.onload=()=>{te={name:y.name,type:y.type,content:ue.result},ee.addApplication(r.id,{fullName:s,email:u,phone:g,resumeFile:te,resumeText:A}),n()},ue.onerror=()=>{Z("Erro ao ler o arquivo.")}}else ee.addApplication(r.id,{fullName:s,email:u,phone:g,resumeText:A}),n()};return p.jsxs("form",{onSubmit:W,className:"space-y-4",children:[p.jsx("h3",{className:"text-xl font-bold",children:"Formulrio de Inscrio"}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium",children:"Nome Completo"}),p.jsx("input",{type:"text",value:s,onChange:ne=>l(ne.target.value),required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium",children:"E-mail"}),p.jsx("input",{type:"email",value:u,onChange:ne=>f(ne.target.value),required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium",children:"Telefone (Celular)"}),p.jsx("input",{type:"tel",value:g,onChange:ne=>_(ne.target.value),required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600"})]}),(r.resumePreference==="file"||r.resumePreference==="both")&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium",children:"Currculo (PDF, JPG)"}),p.jsx("input",{type:"file",onChange:Q,accept:".pdf,.jpg,.jpeg,.png",className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-gray-600 dark:file:text-blue-300 dark:hover:file:bg-gray-500"})]}),(r.resumePreference==="text"||r.resumePreference==="both")&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium",children:"Ou Cole seu Currculo"}),p.jsx("textarea",{value:A,onChange:ne=>R(ne.target.value),rows:8,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600"})]}),B&&p.jsx("p",{className:"text-red-500 text-sm",children:B}),p.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[p.jsx("button",{type:"button",onClick:e,className:"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium hover:bg-gray-50 dark:border-gray-600 dark:hover:bg-gray-700",children:"Cancelar"}),p.jsx("button",{type:"submit",className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Enviar Candidatura"})]})]})},Wi=({label:r,value:e})=>e?p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300",children:r}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e})]}):null,yS=({job:r})=>{const[e,n]=se.useState(!1),s=`Vaga de ${r.title} em ${r.location}${r.salary?` - ${r.salary}`:""}`,l=window.location.href,u=async()=>{try{await navigator.clipboard.writeText(`${s}
${l}`),n(!0),setTimeout(()=>n(!1),2e3)}catch(y){console.error("Erro ao copiar:",y)}},f=()=>{const y=`https://wa.me/?text=${encodeURIComponent(`${s}
${l}`)}`;window.open(y,"_blank")},g=()=>{const y=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(l)}`;window.open(y,"_blank")},_=()=>{const y=`https://twitter.com/intent/tweet?text=${encodeURIComponent(s)}&url=${encodeURIComponent(l)}`;window.open(y,"_blank")};return p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Compartilhar:"}),p.jsx("button",{onClick:f,className:"p-2 rounded-full bg-green-500 hover:bg-green-600 text-white transition-colors",title:"Compartilhar no WhatsApp",children:p.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),p.jsx("button",{onClick:g,className:"p-2 rounded-full bg-blue-700 hover:bg-blue-800 text-white transition-colors",title:"Compartilhar no LinkedIn",children:p.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),p.jsx("button",{onClick:_,className:"p-2 rounded-full bg-black hover:bg-gray-800 text-white transition-colors",title:"Compartilhar no X (Twitter)",children:p.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),p.jsx("button",{onClick:u,className:`p-2 rounded-full transition-colors ${e?"bg-green-500 text-white":"bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200"}`,title:e?"Copiado!":"Copiar link",children:e?p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})},_S=({job:r,onClose:e,isFavorite:n=!1,onToggleFavorite:s})=>{const[l,u]=se.useState(!1),f=()=>{u(!1),e()};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[p.jsxs("div",{className:"p-6 flex justify-between items-center border-b dark:border-gray-700",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.title}),p.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[r.companyName||"Confidencial"," - ",r.location]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[s&&p.jsx("button",{onClick:()=>s(r.id),className:`p-2 rounded-full transition-all duration-200 ${n?"text-blue-500 hover:text-blue-600 bg-blue-50 dark:bg-blue-900/20":"text-gray-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20"}`,"aria-label":n?"Remover dos favoritos":"Adicionar aos favoritos",title:n?"Remover dos favoritos":"Adicionar aos favoritos",children:p.jsx(Qv,{className:"h-6 w-6",filled:n})}),p.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600","aria-label":"Fechar modal",children:p.jsx(km,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})})]})]}),p.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:l?p.jsx(pS,{job:r,onCancel:()=>u(!1),onSuccess:f}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Wi,{label:"Salrio",value:r.salary}),p.jsx(Wi,{label:"Benefcios",value:r.benefits}),p.jsx(Wi,{label:"Carga Horria",value:r.workHours}),p.jsx(Wi,{label:"Jornada",value:r.workSchedule}),p.jsx(Wi,{label:"Escala de Trabalho",value:r.workScale}),p.jsx(Wi,{label:"Data de Publicao",value:new Date(r.postedDate).toLocaleDateString("pt-BR")})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-800 dark:text-gray-200",children:"Requisitos"}),p.jsxs("div",{className:"pl-4 space-y-2",children:[p.jsx(Wi,{label:"Escolaridade",value:r.requirements.education}),p.jsx(Wi,{label:"Experincia",value:r.requirements.experience}),p.jsx(Wi,{label:"Perfil Profissional",value:r.requirements.profile})]})]})]})}),!l&&p.jsxs("div",{className:"p-6 border-t dark:border-gray-700 mt-auto space-y-4",children:[p.jsx(yS,{job:r}),p.jsx("button",{onClick:()=>u(!0),className:"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Candidatar-se"})]})]})})},c_="favoriteJobs",h_=()=>{const[r,e]=se.useState(""),[n,s]=se.useState(""),[l,u]=se.useState(null),[f,g]=se.useState(()=>{const Q=localStorage.getItem(c_);return Q?JSON.parse(Q):[]}),[_,y]=se.useState(!1),b=se.useContext(hr);if(se.useEffect(()=>{localStorage.setItem(c_,JSON.stringify(f))},[f]),!b)return p.jsx("div",{children:"Carregando..."});const{jobs:A}=b,R=Q=>{g(W=>W.includes(Q)?W.filter(ne=>ne!==Q):[...W,Q])},B=se.useMemo(()=>A.filter(Q=>{const W=Q.title.toLowerCase().includes(r.toLowerCase())||Q.companyName&&Q.companyName.toLowerCase().includes(r.toLowerCase()),ne=Q.location.toLowerCase().includes(n.toLowerCase()),te=!_||f.includes(Q.id);return W&&ne&&te}),[A,r,n,_,f]),Z=Q=>{u(Q)},ee=()=>{u(null)};return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[p.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 dark:text-white mb-4",children:"Sua oportunidade est aqui"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[p.jsx("input",{type:"text",placeholder:"Digite o cargo ou empresa",value:r,onChange:Q=>e(Q.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","aria-label":"Buscar por cargo ou empresa"}),p.jsx("input",{type:"text",placeholder:"Digite a cidade ou estado",value:n,onChange:Q=>s(Q.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","aria-label":"Filtrar por cidade ou estado"})]}),p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("button",{onClick:()=>y(!1),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${_?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600":"bg-blue-600 text-white"}`,children:"Todas as vagas"}),p.jsxs("button",{onClick:()=>y(!0),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${_?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-4 w-4",children:p.jsx("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"})}),"Favoritas (",f.length,")"]})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.length>0?B.map(Q=>p.jsx(gS,{job:Q,onJobClick:Z,isFavorite:f.includes(Q.id),onToggleFavorite:R},Q.id)):p.jsx("div",{className:"col-span-full text-center py-10",children:p.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:_?"Voc ainda no tem vagas favoritas. Clique no corao para adicionar!":"Nenhuma vaga encontrada. Tente ajustar seus filtros."})})}),l&&p.jsx(_S,{job:l,onClose:ee,isFavorite:f.includes(l.id),onToggleFavorite:R})]})},wi=({label:r,value:e,onChange:n,required:s,placeholder:l})=>p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[r,s&&" *"]}),p.jsx("input",{type:"text",value:e,onChange:u=>n(u.target.value),required:s,placeholder:l,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"})]}),vS=({jobToEdit:r,onFinish:e})=>{const n=!!r,[s,l]=se.useState(""),[u,f]=se.useState(""),[g,_]=se.useState(""),[y,b]=se.useState(""),[A,R]=se.useState(""),[B,Z]=se.useState(""),[ee,Q]=se.useState(""),[W,ne]=se.useState(""),[te,ue]=se.useState(""),[fe,_e]=se.useState(""),[I,x]=se.useState(""),[C,k]=se.useState("file"),D=se.useContext(hr),V=()=>{l(""),f(""),_(""),b(""),R(""),Z(""),Q(""),ne(""),ue(""),_e(""),x(""),k("file")};se.useEffect(()=>{r?(l(r.title),f(r.companyName||""),_(r.location),b(r.salary||""),R(r.benefits||""),Z(r.workHours||""),Q(r.workSchedule||""),ne(r.workScale||""),ue(r.requirements.education||""),_e(r.requirements.experience||""),x(r.requirements.profile||""),k(r.resumePreference)):V()},[r]);const w=re=>{if(re.preventDefault(),!D)return;const xe={title:s,companyName:u||void 0,location:g,salary:y||void 0,benefits:A||void 0,workHours:B||void 0,workSchedule:ee||void 0,workScale:W||void 0,requirements:{education:te||void 0,experience:fe||void 0,profile:I||void 0},resumePreference:C};n?D.updateJob(r.id,xe):D.addJob(xe),V(),e&&e()};return p.jsxs("form",{onSubmit:w,className:"space-y-4",children:[p.jsx(wi,{label:"Ttulo da Vaga",value:s,onChange:l,required:!0,placeholder:"Ex: Desenvolvedor React Snior"}),p.jsx(wi,{label:"Nome da Empresa (Opcional)",value:u,onChange:f,placeholder:"Ser 'Confidencial' se deixado em branco"}),p.jsx(wi,{label:"Regio/Localidade",value:g,onChange:_,required:!0,placeholder:"Ex: So Paulo, SP"}),p.jsx(wi,{label:"Salrio",value:y,onChange:b,placeholder:"Ex: R$ 5.000,00 ou A combinar"}),p.jsx(wi,{label:"Benefcios",value:A,onChange:R,placeholder:"Ex: VT, VR, Plano de Sade"}),p.jsx(wi,{label:"Carga Horria",value:B,onChange:Z,placeholder:"Ex: 40 horas/semana"}),p.jsx(wi,{label:"Jornada",value:ee,onChange:Q,placeholder:"Ex: Segunda a Sexta, 09h-18h"}),p.jsx(wi,{label:"Escala de Trabalho",value:W,onChange:ne,placeholder:"Ex: Presencial, Hbrido, Remoto"}),p.jsx("h3",{className:"text-lg font-semibold pt-2 border-t dark:border-gray-600",children:"Requisitos"}),p.jsx(wi,{label:"Escolaridade",value:te,onChange:ue}),p.jsx(wi,{label:"Experincia",value:fe,onChange:_e}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Perfil Profissional do Candidato"}),p.jsx("textarea",{value:I,onChange:re=>x(re.target.value),rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Preferncia de Currculo"}),p.jsxs("select",{value:C,onChange:re=>k(re.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600",children:[p.jsx("option",{value:"file",children:"Apenas Arquivo (PDF, JPG)"}),p.jsx("option",{value:"text",children:"Apenas Texto"}),p.jsx("option",{value:"both",children:"Ambos (Arquivo ou Texto)"})]})]}),p.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[p.jsx("button",{type:"submit",className:`w-full py-2 px-4 text-white font-semibold rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 ${n?"bg-green-600 hover:bg-green-700 focus:ring-green-500":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}`,children:n?"Salvar Alteraes":"Publicar Vaga"}),n&&p.jsx("button",{type:"button",onClick:e,className:"w-full py-2 px-4 bg-gray-500 hover:bg-gray-600 text-white font-semibold rounded-md",children:"Cancelar"})]})]})},ES=r=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),TS=r=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),bS=r=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),SS=()=>{};var f_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},AS=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],f=r[n++],g=r[n++],_=((l&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Yv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],f=l+1<r.length,g=f?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,b=u>>2,A=(u&3)<<4|g>>4;let R=(g&15)<<2|y>>6,B=y&63;_||(B=64,f||(R=64)),s.push(n[b],n[A],n[R],n[B])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Kv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):AS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const A=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||g==null||y==null||A==null)throw new wS;const R=u<<2|g>>4;if(s.push(R),y!==64){const B=g<<4&240|y>>2;if(s.push(B),A!==64){const Z=y<<6&192|A;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class wS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xS=function(r){const e=Kv(r);return Yv.encodeByteArray(e,!0)},Wc=function(r){return xS(r).replace(/\./g,"")},Xv=function(r){try{return Yv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=()=>CS().__FIREBASE_DEFAULTS__,IS=()=>{if(typeof process>"u"||typeof f_>"u")return;const r=f_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},NS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Xv(r[1]);return e&&JSON.parse(e)},_h=()=>{try{return SS()||RS()||IS()||NS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Jv=r=>{var e,n;return(n=(e=_h())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},DS=r=>{const e=Jv(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},$v=()=>{var r;return(r=_h())==null?void 0:r.config},Zv=r=>{var e;return(e=_h())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Wc(JSON.stringify(n)),Wc(JSON.stringify(f)),""].join(".")}const Ol={};function MS(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ol))Ol[e]?r.emulator.push(e):r.prod.push(e);return r}function VS(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let d_=!1;function eE(r,e){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||Ol[r]===e||Ol[r]||d_)return;Ol[r]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=MS().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function g(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function _(R,B){R.setAttribute("width","24"),R.setAttribute("id",B),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{d_=!0,f()},R}function b(R,B){R.setAttribute("id",B),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function A(){const R=VS(s),B=n("text"),Z=document.getElementById(B)||document.createElement("span"),ee=n("learnmore"),Q=document.getElementById(ee)||document.createElement("a"),W=n("preprendIcon"),ne=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const te=R.element;g(te),b(Q,ee);const ue=y();_(ne,W),te.append(ne,Z,Q,ue),document.body.appendChild(te)}u?(Z.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function PS(){var e;const r=(e=_h())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function US(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function zS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BS(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function qS(){return!PS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HS(){try{return typeof indexedDB=="object"}catch{return!1}}function FS(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="FirebaseError";class cr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=GS,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?QS(u,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new cr(l,g,s)}}function QS(r,e){return r.replace(KS,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const KS=/\{\$([^}]+)}/g;function YS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ys(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=r[l],f=e[l];if(m_(u)&&m_(f)){if(!Ys(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function m_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function xl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Cl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function XS(r,e){const n=new JS(r,e);return n.subscribe.bind(n)}class JS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");$S(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=Kd),l.error===void 0&&(l.error=Kd),l.complete===void 0&&(l.complete=Kd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $S(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Kd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(r){return r&&r._delegate?r._delegate:r}class Xs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new OS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eA(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&f.resolve(l)}return l}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:WS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WS(r){return r===Fs?void 0:r}function eA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const nA={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},iA=Ve.INFO,rA={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},sA=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=rA[e];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=iA,this._logHandler=sA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const aA=(r,e)=>e.some(n=>r instanceof n);let g_,p_;function oA(){return g_||(g_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lA(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tE=new WeakMap,sm=new WeakMap,nE=new WeakMap,Yd=new WeakMap,Vm=new WeakMap;function uA(r){const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n($r(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&tE.set(n,r)}).catch(()=>{}),Vm.set(e,r),e}function cA(r){if(sm.has(r))return;const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});sm.set(r,e)}let am={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return sm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||nE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function hA(r){am=r(am)}function fA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Xd(this),e,...n);return nE.set(s,e.sort?e.sort():[e]),$r(s)}:lA().includes(r)?function(...e){return r.apply(Xd(this),e),$r(tE.get(this))}:function(...e){return $r(r.apply(Xd(this),e))}}function dA(r){return typeof r=="function"?fA(r):(r instanceof IDBTransaction&&cA(r),aA(r,oA())?new Proxy(r,am):r)}function $r(r){if(r instanceof IDBRequest)return uA(r);if(Yd.has(r))return Yd.get(r);const e=dA(r);return e!==r&&(Yd.set(r,e),Vm.set(e,r)),e}const Xd=r=>Vm.get(r);function mA(r,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(r,e),g=$r(f);return s&&f.addEventListener("upgradeneeded",_=>{s($r(f.result),_.oldVersion,_.newVersion,$r(f.transaction),_)}),n&&f.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),g.then(_=>{u&&_.addEventListener("close",()=>u()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const gA=["get","getKey","getAll","getAllKeys","count"],pA=["put","add","delete","clear"],Jd=new Map;function y_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=pA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||gA.includes(n)))return;const u=async function(f,...g){const _=this.transaction(f,l?"readwrite":"readonly");let y=_.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),l&&_.done]))[0]};return Jd.set(e,u),u}hA(r=>({...r,get:(e,n,s)=>y_(e,n)||r.get(e,n,s),has:(e,n)=>!!y_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_A(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function _A(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const om="@firebase/app",__="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new Mm("@firebase/app"),vA="@firebase/app-compat",EA="@firebase/analytics-compat",TA="@firebase/analytics",bA="@firebase/app-check-compat",SA="@firebase/app-check",AA="@firebase/auth",wA="@firebase/auth-compat",xA="@firebase/database",CA="@firebase/data-connect",RA="@firebase/database-compat",IA="@firebase/functions",NA="@firebase/functions-compat",DA="@firebase/installations",OA="@firebase/installations-compat",kA="@firebase/messaging",MA="@firebase/messaging-compat",VA="@firebase/performance",jA="@firebase/performance-compat",PA="@firebase/remote-config",LA="@firebase/remote-config-compat",UA="@firebase/storage",zA="@firebase/storage-compat",BA="@firebase/firestore",qA="@firebase/ai",HA="@firebase/firestore-compat",FA="firebase",GA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="[DEFAULT]",QA={[om]:"fire-core",[vA]:"fire-core-compat",[TA]:"fire-analytics",[EA]:"fire-analytics-compat",[SA]:"fire-app-check",[bA]:"fire-app-check-compat",[AA]:"fire-auth",[wA]:"fire-auth-compat",[xA]:"fire-rtdb",[CA]:"fire-data-connect",[RA]:"fire-rtdb-compat",[IA]:"fire-fn",[NA]:"fire-fn-compat",[DA]:"fire-iid",[OA]:"fire-iid-compat",[kA]:"fire-fcm",[MA]:"fire-fcm-compat",[VA]:"fire-perf",[jA]:"fire-perf-compat",[PA]:"fire-rc",[LA]:"fire-rc-compat",[UA]:"fire-gcs",[zA]:"fire-gcs-compat",[BA]:"fire-fst",[HA]:"fire-fst-compat",[qA]:"fire-vertex","fire-js":"fire-js",[FA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Map,KA=new Map,um=new Map;function v_(r,e){try{r.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function no(r){const e=r.name;if(um.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;um.set(e,r);for(const n of eh.values())v_(n,r);for(const n of KA.values())v_(n,r);return!0}function jm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Un(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new Xl("app","Firebase",YA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=GA;function iE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:lm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw Zr.create("bad-app-name",{appName:String(l)});if(n||(n=$v()),!n)throw Zr.create("no-options");const u=eh.get(l);if(u){if(Ys(n,u.options)&&Ys(s,u.config))return u;throw Zr.create("duplicate-app",{appName:l})}const f=new tA(l);for(const _ of um.values())f.addComponent(_);const g=new XA(n,s,f);return eh.set(l,g),g}function rE(r=lm){const e=eh.get(r);if(!e&&r===lm&&$v())return iE();if(!e)throw Zr.create("no-app",{appName:r});return e}function Wr(r,e,n){let s=QA[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(f.join(" "));return}no(new Xs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="firebase-heartbeat-database",$A=1,Ll="firebase-heartbeat-store";let $d=null;function sE(){return $d||($d=mA(JA,$A,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ll)}catch(n){console.warn(n)}}}}).catch(r=>{throw Zr.create("idb-open",{originalErrorMessage:r.message})})),$d}async function ZA(r){try{const n=(await sE()).transaction(Ll),s=await n.objectStore(Ll).get(aE(r));return await n.done,s}catch(e){if(e instanceof cr)rr.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(n.message)}}}async function E_(r,e){try{const s=(await sE()).transaction(Ll,"readwrite");await s.objectStore(Ll).put(e,aE(r)),await s.done}catch(n){if(n instanceof cr)rr.warn(n.message);else{const s=Zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rr.warn(s.message)}}}function aE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=1024,ew=30;class tw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=T_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>ew){const f=rw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){rr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=T_(),{heartbeatsToSend:s,unsentEntries:l}=nw(this._heartbeatsCache.heartbeats),u=Wc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return rr.warn(n),""}}}function T_(){return new Date().toISOString().substring(0,10)}function nw(r,e=WA){const n=[];let s=r.slice();for(const l of r){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),b_(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),b_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class iw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HS()?FS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return E_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return E_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function b_(r){return Wc(JSON.stringify({version:2,heartbeats:r})).length}function rw(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(r){no(new Xs("platform-logger",e=>new yA(e),"PRIVATE")),no(new Xs("heartbeat",e=>new tw(e),"PRIVATE")),Wr(om,__,r),Wr(om,__,"esm2020"),Wr("fire-js","")}sw("");var aw="firebase",ow="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr(aw,ow,"app");function oE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lw=oE,lE=new Xl("auth","Firebase",oE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Mm("@firebase/auth");function uw(r,...e){th.logLevel<=Ve.WARN&&th.warn(`Auth (${ho}): ${r}`,...e)}function Hc(r,...e){th.logLevel<=Ve.ERROR&&th.error(`Auth (${ho}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(r,...e){throw Pm(r,...e)}function Ci(r,...e){return Pm(r,...e)}function uE(r,e,n){const s={...lw(),[e]:n};return new Xl("auth","Firebase",s).create(e,{appName:r.name})}function nr(r){return uE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return lE.create(r,...e)}function Ee(r,e,...n){if(!r)throw Pm(e,...n)}function er(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Hc(e),new Error(e)}function sr(r,e){r||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function cw(){return S_()==="http:"||S_()==="https:"}function S_(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cw()||US()||"connection"in navigator)?navigator.onLine:!0}function fw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this.shortDelay=e,this.longDelay=n,sr(n>e,"Short delay should be less than long delay!"),this.isMobile=jS()||zS()}get(){return hw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(r,e){sr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gw=new $l(3e4,6e4);function ls(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function us(r,e,n,s,l={}){return hE(r,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const g=Jl({key:r.config.apiKey,...f}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:_,...u};return LS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&co(r.emulatorConfig.host)&&(y.credentials="include"),cE.fetch()(await fE(r,r.config.apiHost,n,g),y)})}async function hE(r,e,n){r._canInitEmulator=!1;const s={...dw,...e};try{const l=new yw(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Pc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pc(r,"credential-already-in-use",f);if(_==="EMAIL_EXISTS")throw Pc(r,"email-already-in-use",f);if(_==="USER_DISABLED")throw Pc(r,"user-disabled",f);const b=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw uE(r,b,y);ti(r,b)}}catch(l){if(l instanceof cr)throw l;ti(r,"network-request-failed",{message:String(l)})}}async function Zl(r,e,n,s,l={}){const u=await us(r,e,n,s,l);return"mfaPendingCredential"in u&&ti(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function fE(r,e,n,s){const l=`${e}${n}?${s}`,u=r,f=u.config.emulator?Lm(r.config,l):`${r.config.apiScheme}://${l}`;return mw.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function pw(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ci(this.auth,"network-request-failed")),gw.get())})}}function Pc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Ci(r,e,s);return l.customData._tokenResponse=n,l}function A_(r){return r!==void 0&&r.enterprise!==void 0}class _w{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pw(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vw(r,e){return us(r,"GET","/v2/recaptchaConfig",ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ew(r,e){return us(r,"POST","/v1/accounts:delete",e)}async function nh(r,e){return us(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tw(r,e=!1){const n=Vt(r),s=await n.getIdToken(e),l=Um(s);Ee(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:kl(Zd(l.auth_time)),issuedAtTime:kl(Zd(l.iat)),expirationTime:kl(Zd(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Zd(r){return Number(r)*1e3}function Um(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Xv(n);return l?JSON.parse(l):(Hc("Failed to decode base64 JWT payload"),null)}catch(l){return Hc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function w_(r){const e=Um(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof cr&&bw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function bw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(r){var A;const e=r.auth,n=await r.getIdToken(),s=await Ul(r,nh(e,{idToken:n}));Ee(s==null?void 0:s.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=(A=l.providerUserInfo)!=null&&A.length?dE(l.providerUserInfo):[],f=ww(r.providerData,u),g=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),y=g?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function Aw(r){const e=Vt(r);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ww(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function dE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw(r,e){const n=await hE(r,{},async()=>{const s=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,f=await fE(r,l,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:s};return r.emulatorConfig&&co(r.emulatorConfig.host)&&(_.credentials="include"),cE.fetch()(f,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Cw(r,e){return us(r,"POST","/v2/accounts:revokeToken",ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):w_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=w_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await xw(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new Za;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(Ee(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ei{constructor({uid:e,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new Sw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new hm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Tw(this,e)}reload(){return Aw(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(nr(this.auth));const e=await this.getIdToken();return await Ul(this,Ew(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,_=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:A,emailVerified:R,isAnonymous:B,providerData:Z,stsTokenManager:ee}=n;Ee(A&&ee,e,"internal-error");const Q=Za.fromJSON(this.name,ee);Ee(typeof A=="string",e,"internal-error"),Gr(s,e.name),Gr(l,e.name),Ee(typeof R=="boolean",e,"internal-error"),Ee(typeof B=="boolean",e,"internal-error"),Gr(u,e.name),Gr(f,e.name),Gr(g,e.name),Gr(_,e.name),Gr(y,e.name),Gr(b,e.name);const W=new ei({uid:A,auth:e,email:l,emailVerified:R,displayName:s,isAnonymous:B,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:Q,createdAt:y,lastLoginAt:b});return Z&&Array.isArray(Z)&&(W.providerData=Z.map(ne=>({...ne}))),_&&(W._redirectEventId=_),W}static async _fromIdTokenResponse(e,n,s=!1){const l=new Za;l.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await ih(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];Ee(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?dE(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),g=new Za;g.updateFromIdToken(s);const _=new ei({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(_,y),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;function tr(r){sr(r instanceof Function,"Expected a class definition");let e=x_.get(r);return e?(sr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,x_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mE.type="NONE";const C_=mE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(r,e,n){return`firebase:${r}:${e}:${n}`}class Wa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=Fc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Fc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await nh(this.auth,{idToken:e}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Wa(tr(C_),e,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||tr(C_);const f=Fc(s,e.config.apiKey,e.name);let g=null;for(const y of n)try{const b=await y._get(f);if(b){let A;if(typeof b=="string"){const R=await nh(e,{idToken:b}).catch(()=>{});if(!R)break;A=await ei._fromGetAccountInfoResponse(e,R,b)}else A=ei._fromJSON(e,b);y!==u&&(g=A),u=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new Wa(u,e,s):(u=_[0],g&&await u._set(f,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Wa(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_E(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EE(e))return"Blackberry";if(TE(e))return"Webos";if(pE(e))return"Safari";if((e.includes("chrome/")||yE(e))&&!e.includes("edge/"))return"Chrome";if(vE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function gE(r=Wt()){return/firefox\//i.test(r)}function pE(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yE(r=Wt()){return/crios\//i.test(r)}function _E(r=Wt()){return/iemobile/i.test(r)}function vE(r=Wt()){return/android/i.test(r)}function EE(r=Wt()){return/blackberry/i.test(r)}function TE(r=Wt()){return/webos/i.test(r)}function zm(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Rw(r=Wt()){var e;return zm(r)&&!!((e=window.navigator)!=null&&e.standalone)}function Iw(){return BS()&&document.documentMode===10}function bE(r=Wt()){return zm(r)||vE(r)||TE(r)||EE(r)||/windows phone/i.test(r)||_E(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(r,e=[]){let n;switch(r){case"Browser":n=R_(Wt());break;case"Worker":n=`${R_(Wt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ho}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,g)=>{try{const _=e(u);f(_)}catch(_){g(_)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dw(r,e={}){return us(r,"GET","/v2/passwordPolicy",ls(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=6;class kw{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Ow,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I_(this),this.idTokenSubscription=new I_(this),this.beforeStateQueue=new Nw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{var s,l,u;if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nh(this,{idToken:e}),s=await ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Un(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=s==null?void 0:s._redirectEventId,_=await this.tryRedirectSignIn(e);(!f||f===g)&&(_!=null&&_.user)&&(s=_.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(nr(this));const n=e?Vt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Dw(this),n=new kw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Cw(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const _=e.addObserver(n,s,l);return()=>{f=!0,_()}}else{const _=e.addObserver(n);return()=>{f=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&uw(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ea(r){return Vt(r)}class I_{constructor(e){this.auth=e,this.observer=null,this.addObserver=XS(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vw(r){vh=r}function AE(r){return vh.loadJS(r)}function jw(){return vh.recaptchaEnterpriseScript}function Pw(){return vh.gapiScript}function Lw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Uw{constructor(){this.enterprise=new zw}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class zw{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Bw="recaptcha-enterprise",wE="NO_RECAPTCHA";class qw{constructor(e){this.type=Bw,this.auth=ea(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{vw(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new _w(_);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(_=>{g(_)})})}function l(u,f,g){const _=window.grecaptcha;A_(_)?_.enterprise.ready(()=>{_.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(wE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Uw().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(g=>{if(!n&&A_(window.grecaptcha))l(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let _=jw();_.length!==0&&(_+=g),AE(_).then(()=>{l(g,u,f)}).catch(y=>{f(y)})}}).catch(g=>{f(g)})})}}async function N_(r,e,n,s=!1,l=!1){const u=new qw(r);let f;if(l)f=wE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const _=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const _=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function fm(r,e,n,s,l){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await N_(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await N_(r,e,n,n==="getOobCode");return s(r,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(r,e){const n=jm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Ys(u,e??{}))return l;ti(l,"already-initialized")}return n.initialize({options:e})}function Fw(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(tr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Gw(r,e,n){const s=ea(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=xE(e),{host:f,port:g}=Qw(e),_=g===null?"":`:${g}`,y={url:`${u}//${f}${_}/`},b=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Ys(y,s.config.emulator)&&Ys(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,co(f)?(Wv(`${u}//${f}${_}`),eE("Auth",!0)):Kw()}function xE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Qw(r){const e=xE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:D_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:D_(f)}}}function D_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Kw(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,n){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}async function Yw(r,e){return us(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xw(r,e){return Zl(r,"POST","/v1/accounts:signInWithPassword",ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jw(r,e){return Zl(r,"POST","/v1/accounts:signInWithEmailLink",ls(r,e))}async function $w(r,e){return Zl(r,"POST","/v1/accounts:signInWithEmailLink",ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends Bm{constructor(e,n,s,l=null){super("password",s),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new zl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new zl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fm(e,n,"signInWithPassword",Xw);case"emailLink":return Jw(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fm(e,s,"signUpPassword",Yw);case"emailLink":return $w(e,{idToken:n,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(r,e){return Zl(r,"POST","/v1/accounts:signInWithIdp",ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="http://localhost";class Js extends Bm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const f=new Js(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return eo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,eo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eo(e,n)}buildRequest(){const e={requestUri:Zw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function e2(r){const e=xl(Cl(r)).link,n=e?xl(Cl(e)).deep_link_id:null,s=xl(Cl(r)).deep_link_id;return(s?xl(Cl(s)).link:null)||s||n||e||r}class qm{constructor(e){const n=xl(Cl(e)),s=n.apiKey??null,l=n.oobCode??null,u=Ww(n.mode??null);Ee(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=e2(e);try{return new qm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.providerId=fo.PROVIDER_ID}static credential(e,n){return zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=qm.parseLink(n);return Ee(s,"argument-error"),zl._fromEmailAndCode(e,s.code,s.tenantId)}}fo.PROVIDER_ID="password";fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends CE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Wl{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Wl{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Wl{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(r,e){return Zl(r,"POST","/v1/accounts:signUp",ls(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await ei._fromIdTokenResponse(e,s,l),f=O_(s);return new $s({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=O_(s);return new $s({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function O_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends cr{constructor(e,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new rh(e,n,s,l)}}function RE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(r,u,e,s):u})}async function n2(r,e,n=!1){const s=await Ul(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return $s._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(r,e,n=!1){const{auth:s}=r;if(Un(s.app))return Promise.reject(nr(s));const l="reauthenticate";try{const u=await Ul(r,RE(s,l,e,r),n);Ee(u.idToken,s,"internal-error");const f=Um(u.idToken);Ee(f,s,"internal-error");const{sub:g}=f;return Ee(r.uid===g,s,"user-mismatch"),$s._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ti(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IE(r,e,n=!1){if(Un(r.app))return Promise.reject(nr(r));const s="signIn",l=await RE(r,s,e),u=await $s._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}async function r2(r,e){return IE(ea(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NE(r){const e=ea(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function s2(r,e,n){if(Un(r.app))return Promise.reject(nr(r));const s=ea(r),f=await fm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",t2).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&NE(r),_}),g=await $s._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(g.user),g}function a2(r,e,n){return Un(r.app)?Promise.reject(nr(r)):r2(Vt(r),fo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&NE(r),s})}function o2(r,e,n,s){return Vt(r).onIdTokenChanged(e,n,s)}function l2(r,e,n){return Vt(r).beforeAuthStateChanged(e,n)}function u2(r,e,n,s){return Vt(r).onAuthStateChanged(e,n,s)}function c2(r){return Vt(r).signOut()}const sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=1e3,f2=10;class OE extends DE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,_)=>{this.notifyListeners(f,_)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);Iw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,f2):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},h2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OE.type="LOCAL";const d2=OE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE extends DE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kE.type="SESSION";const ME=kE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new Eh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async y=>y(n.origin,u)),_=await m2(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((g,_)=>{const y=Hm("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(A){const R=A;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(R.data.response);break;default:clearTimeout(b),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function p2(r){Ri().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function y2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function v2(){return VE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="firebaseLocalStorageDb",E2=1,ah="firebaseLocalStorage",PE="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Th(r,e){return r.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function T2(){const r=indexedDB.deleteDatabase(jE);return new eu(r).toPromise()}function dm(){const r=indexedDB.open(jE,E2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ah,{keyPath:PE})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ah)?e(s):(s.close(),await T2(),e(await dm()))})})}async function k_(r,e,n){const s=Th(r,!0).put({[PE]:e,value:n});return new eu(s).toPromise()}async function b2(r,e){const n=Th(r,!1).get(e),s=await new eu(n).toPromise();return s===void 0?null:s.value}function M_(r,e){const n=Th(r,!0).delete(e);return new eu(n).toPromise()}const S2=800,A2=3;class LE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>A2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(v2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await y2(),!this.activeServiceWorker)return;this.sender=new g2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dm();return await k_(e,sh,"1"),await M_(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>k_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>b2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>M_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Th(l,!1).getAll();return new eu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LE.type="LOCAL";const w2=LE;new $l(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(r,e){return e?tr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends Bm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function C2(r){return IE(r.auth,new Fm(r),r.bypassAuthState)}function R2(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),i2(n,new Fm(r),r.bypassAuthState)}async function I2(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),n2(n,new Fm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:f,type:g}=e;if(f){this.reject(f);return}const _={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return C2;case"linkViaPopup":case"linkViaRedirect":return I2;case"reauthViaPopup":case"reauthViaRedirect":return R2;default:ti(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new $l(2e3,1e4);class $a extends UE{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,N2.get())};e()}}$a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="pendingRedirect",Gc=new Map;class O2 extends UE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const s=await k2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k2(r,e){const n=j2(e),s=V2(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function M2(r,e){Gc.set(r._key(),e)}function V2(r){return tr(r._redirectPersistence)}function j2(r){return Fc(D2,r.config.apiKey,r.name)}async function P2(r,e,n=!1){if(Un(r.app))return Promise.reject(nr(r));const s=ea(r),l=x2(s,e),f=await new O2(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=600*1e3;class U2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!zE(e)){const l=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ci(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L2&&this.cachedEventUids.clear(),this.cachedEventUids.has(V_(e))}saveEventToCache(e){this.cachedEventUids.add(V_(e)),this.lastProcessedEventTime=Date.now()}}function V_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function zE({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function z2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(r,e={}){return us(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H2=/^https?/;async function F2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await B2(r);for(const n of e)try{if(G2(n))return}catch{}ti(r,"unauthorized-domain")}function G2(r){const e=cm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!H2.test(n))return!1;if(q2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new $l(3e4,6e4);function j_(){const r=Ri().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function K2(r){return new Promise((e,n)=>{var l,u,f;function s(){j_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j_(),n(Ci(r,"network-request-failed"))},timeout:Q2.get()})}if((u=(l=Ri().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=Ri().gapi)!=null&&f.load)s();else{const g=Lw("iframefcb");return Ri()[g]=()=>{gapi.load?s():n(Ci(r,"network-request-failed"))},AE(`${Pw()}?onload=${g}`).catch(_=>n(_))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function Y2(r){return Qc=Qc||K2(r),Qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new $l(5e3,15e3),J2="__/auth/iframe",$2="emulator/auth/iframe",Z2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ex(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Lm(e,$2):`https://${r.config.authDomain}/${J2}`,s={apiKey:e.apiKey,appName:r.name,v:ho},l=W2.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Jl(s).slice(1)}`}async function tx(r){const e=await Y2(r),n=Ri().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:ex(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z2,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ci(r,"network-request-failed"),g=Ri().setTimeout(()=>{u(f)},X2.get());function _(){Ri().clearTimeout(g),l(s)}s.ping(_).then(_,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ix=500,rx=600,sx="_blank",ax="http://localhost";class P_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ox(r,e,n,s=ix,l=rx){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const _={...nx,width:s.toString(),height:l.toString(),top:u,left:f},y=Wt().toLowerCase();n&&(g=yE(y)?sx:n),gE(y)&&(e=e||ax,_.scrollbars="yes");const b=Object.entries(_).reduce((R,[B,Z])=>`${R}${B}=${Z},`,"");if(Rw(y)&&g!=="_self")return lx(e||"",g),new P_(null);const A=window.open(e||"",g,b);Ee(A,r,"popup-blocked");try{A.focus()}catch{}return new P_(A)}function lx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="__/auth/handler",cx="emulator/auth/handler",hx=encodeURIComponent("fac");async function L_(r,e,n,s,l,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ho,eventId:l};if(e instanceof CE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",YS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))f[b]=A}if(e instanceof Wl){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(f.scopes=b.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const _=await r._getAppCheckToken(),y=_?`#${hx}=${encodeURIComponent(_)}`:"";return`${fx(r)}?${Jl(g).slice(1)}${y}`}function fx({config:r}){return r.emulator?Lm(r,cx):`https://${r.authDomain}/${ux}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="webStorageSupport";class dx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ME,this._completeRedirectFn=P2,this._overrideRedirectResult=M2}async _openPopup(e,n,s,l){var f;sr((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await L_(e,n,s,cm(),l);return ox(e,u,Hm())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await L_(e,n,s,cm(),l);return p2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await tx(e),s=new U2(e);return n.register("authEvent",l=>(Ee(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wd,{type:Wd},l=>{var f;const u=(f=l==null?void 0:l[0])==null?void 0:f[Wd];u!==void 0&&n(!!u),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=F2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bE()||pE()||zm()}}const mx=dx;var U_="@firebase/auth",z_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yx(r){no(new Xs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SE(r)},y=new Mw(s,l,u,_);return Fw(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),no(new Xs("auth-internal",e=>{const n=ea(e.getProvider("auth").getImmediate());return(s=>new gx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(U_,z_,px(r)),Wr(U_,z_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=300,vx=Zv("authIdTokenMaxAge")||_x;let B_=null;const Ex=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>vx)return;const l=n==null?void 0:n.token;B_!==l&&(B_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Tx(r=rE()){const e=jm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Hw(r,{popupRedirectResolver:mx,persistence:[w2,d2,ME]}),s=Zv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=Ex(u.toString());l2(n,f,()=>f(n.currentUser)),o2(n,g=>f(g))}}const l=Jv("auth");return l&&Gw(n,`http://${l}`),n}function bx(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}Vw({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const u=Ci("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",bx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yx("Browser");var q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,BE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,x){function C(){}C.prototype=x.prototype,I.F=x.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(k,D,V){for(var w=Array(arguments.length-2),re=2;re<arguments.length;re++)w[re-2]=arguments[re];return x.prototype[D].apply(k,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,x,C){C||(C=0);const k=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)k[D]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(D=0;D<16;++D)k[D]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=I.g[0],C=I.g[1],D=I.g[2];let V=I.g[3],w;w=x+(V^C&(D^V))+k[0]+3614090360&4294967295,x=C+(w<<7&4294967295|w>>>25),w=V+(D^x&(C^D))+k[1]+3905402710&4294967295,V=x+(w<<12&4294967295|w>>>20),w=D+(C^V&(x^C))+k[2]+606105819&4294967295,D=V+(w<<17&4294967295|w>>>15),w=C+(x^D&(V^x))+k[3]+3250441966&4294967295,C=D+(w<<22&4294967295|w>>>10),w=x+(V^C&(D^V))+k[4]+4118548399&4294967295,x=C+(w<<7&4294967295|w>>>25),w=V+(D^x&(C^D))+k[5]+1200080426&4294967295,V=x+(w<<12&4294967295|w>>>20),w=D+(C^V&(x^C))+k[6]+2821735955&4294967295,D=V+(w<<17&4294967295|w>>>15),w=C+(x^D&(V^x))+k[7]+4249261313&4294967295,C=D+(w<<22&4294967295|w>>>10),w=x+(V^C&(D^V))+k[8]+1770035416&4294967295,x=C+(w<<7&4294967295|w>>>25),w=V+(D^x&(C^D))+k[9]+2336552879&4294967295,V=x+(w<<12&4294967295|w>>>20),w=D+(C^V&(x^C))+k[10]+4294925233&4294967295,D=V+(w<<17&4294967295|w>>>15),w=C+(x^D&(V^x))+k[11]+2304563134&4294967295,C=D+(w<<22&4294967295|w>>>10),w=x+(V^C&(D^V))+k[12]+1804603682&4294967295,x=C+(w<<7&4294967295|w>>>25),w=V+(D^x&(C^D))+k[13]+4254626195&4294967295,V=x+(w<<12&4294967295|w>>>20),w=D+(C^V&(x^C))+k[14]+2792965006&4294967295,D=V+(w<<17&4294967295|w>>>15),w=C+(x^D&(V^x))+k[15]+1236535329&4294967295,C=D+(w<<22&4294967295|w>>>10),w=x+(D^V&(C^D))+k[1]+4129170786&4294967295,x=C+(w<<5&4294967295|w>>>27),w=V+(C^D&(x^C))+k[6]+3225465664&4294967295,V=x+(w<<9&4294967295|w>>>23),w=D+(x^C&(V^x))+k[11]+643717713&4294967295,D=V+(w<<14&4294967295|w>>>18),w=C+(V^x&(D^V))+k[0]+3921069994&4294967295,C=D+(w<<20&4294967295|w>>>12),w=x+(D^V&(C^D))+k[5]+3593408605&4294967295,x=C+(w<<5&4294967295|w>>>27),w=V+(C^D&(x^C))+k[10]+38016083&4294967295,V=x+(w<<9&4294967295|w>>>23),w=D+(x^C&(V^x))+k[15]+3634488961&4294967295,D=V+(w<<14&4294967295|w>>>18),w=C+(V^x&(D^V))+k[4]+3889429448&4294967295,C=D+(w<<20&4294967295|w>>>12),w=x+(D^V&(C^D))+k[9]+568446438&4294967295,x=C+(w<<5&4294967295|w>>>27),w=V+(C^D&(x^C))+k[14]+3275163606&4294967295,V=x+(w<<9&4294967295|w>>>23),w=D+(x^C&(V^x))+k[3]+4107603335&4294967295,D=V+(w<<14&4294967295|w>>>18),w=C+(V^x&(D^V))+k[8]+1163531501&4294967295,C=D+(w<<20&4294967295|w>>>12),w=x+(D^V&(C^D))+k[13]+2850285829&4294967295,x=C+(w<<5&4294967295|w>>>27),w=V+(C^D&(x^C))+k[2]+4243563512&4294967295,V=x+(w<<9&4294967295|w>>>23),w=D+(x^C&(V^x))+k[7]+1735328473&4294967295,D=V+(w<<14&4294967295|w>>>18),w=C+(V^x&(D^V))+k[12]+2368359562&4294967295,C=D+(w<<20&4294967295|w>>>12),w=x+(C^D^V)+k[5]+4294588738&4294967295,x=C+(w<<4&4294967295|w>>>28),w=V+(x^C^D)+k[8]+2272392833&4294967295,V=x+(w<<11&4294967295|w>>>21),w=D+(V^x^C)+k[11]+1839030562&4294967295,D=V+(w<<16&4294967295|w>>>16),w=C+(D^V^x)+k[14]+4259657740&4294967295,C=D+(w<<23&4294967295|w>>>9),w=x+(C^D^V)+k[1]+2763975236&4294967295,x=C+(w<<4&4294967295|w>>>28),w=V+(x^C^D)+k[4]+1272893353&4294967295,V=x+(w<<11&4294967295|w>>>21),w=D+(V^x^C)+k[7]+4139469664&4294967295,D=V+(w<<16&4294967295|w>>>16),w=C+(D^V^x)+k[10]+3200236656&4294967295,C=D+(w<<23&4294967295|w>>>9),w=x+(C^D^V)+k[13]+681279174&4294967295,x=C+(w<<4&4294967295|w>>>28),w=V+(x^C^D)+k[0]+3936430074&4294967295,V=x+(w<<11&4294967295|w>>>21),w=D+(V^x^C)+k[3]+3572445317&4294967295,D=V+(w<<16&4294967295|w>>>16),w=C+(D^V^x)+k[6]+76029189&4294967295,C=D+(w<<23&4294967295|w>>>9),w=x+(C^D^V)+k[9]+3654602809&4294967295,x=C+(w<<4&4294967295|w>>>28),w=V+(x^C^D)+k[12]+3873151461&4294967295,V=x+(w<<11&4294967295|w>>>21),w=D+(V^x^C)+k[15]+530742520&4294967295,D=V+(w<<16&4294967295|w>>>16),w=C+(D^V^x)+k[2]+3299628645&4294967295,C=D+(w<<23&4294967295|w>>>9),w=x+(D^(C|~V))+k[0]+4096336452&4294967295,x=C+(w<<6&4294967295|w>>>26),w=V+(C^(x|~D))+k[7]+1126891415&4294967295,V=x+(w<<10&4294967295|w>>>22),w=D+(x^(V|~C))+k[14]+2878612391&4294967295,D=V+(w<<15&4294967295|w>>>17),w=C+(V^(D|~x))+k[5]+4237533241&4294967295,C=D+(w<<21&4294967295|w>>>11),w=x+(D^(C|~V))+k[12]+1700485571&4294967295,x=C+(w<<6&4294967295|w>>>26),w=V+(C^(x|~D))+k[3]+2399980690&4294967295,V=x+(w<<10&4294967295|w>>>22),w=D+(x^(V|~C))+k[10]+4293915773&4294967295,D=V+(w<<15&4294967295|w>>>17),w=C+(V^(D|~x))+k[1]+2240044497&4294967295,C=D+(w<<21&4294967295|w>>>11),w=x+(D^(C|~V))+k[8]+1873313359&4294967295,x=C+(w<<6&4294967295|w>>>26),w=V+(C^(x|~D))+k[15]+4264355552&4294967295,V=x+(w<<10&4294967295|w>>>22),w=D+(x^(V|~C))+k[6]+2734768916&4294967295,D=V+(w<<15&4294967295|w>>>17),w=C+(V^(D|~x))+k[13]+1309151649&4294967295,C=D+(w<<21&4294967295|w>>>11),w=x+(D^(C|~V))+k[4]+4149444226&4294967295,x=C+(w<<6&4294967295|w>>>26),w=V+(C^(x|~D))+k[11]+3174756917&4294967295,V=x+(w<<10&4294967295|w>>>22),w=D+(x^(V|~C))+k[2]+718787259&4294967295,D=V+(w<<15&4294967295|w>>>17),w=C+(V^(D|~x))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+V&4294967295}s.prototype.v=function(I,x){x===void 0&&(x=I.length);const C=x-this.blockSize,k=this.C;let D=this.h,V=0;for(;V<x;){if(D==0)for(;V<=C;)l(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<x;)if(k[D++]=I.charCodeAt(V++),D==this.blockSize){l(this,k),D=0;break}}else for(;V<x;)if(k[D++]=I[V++],D==this.blockSize){l(this,k),D=0;break}}this.h=D,this.o+=x},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)I[x++]=this.g[C]>>>k&255;return I};function u(I,x){var C=g;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=x(I)}function f(I,x){this.h=x;const C=[];let k=!0;for(let D=I.length-1;D>=0;D--){const V=I[D]|0;k&&V==x||(C[D]=V,k=!1)}this.g=C}var g={};function _(I){return-128<=I&&I<128?u(I,function(x){return new f([x|0],x<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return Q(y(-I));const x=[];let C=1;for(let k=0;I>=C;k++)x[k]=I/C|0,C*=4294967296;return new f(x,0)}function b(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return Q(b(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(x,8));let k=A;for(let V=0;V<I.length;V+=8){var D=Math.min(8,I.length-V);const w=parseInt(I.substring(V,V+D),x);D<8?(D=y(Math.pow(x,D)),k=k.j(D).add(y(w))):(k=k.j(C),k=k.add(y(w)))}return k}var A=_(0),R=_(1),B=_(16777216);r=f.prototype,r.m=function(){if(ee(this))return-Q(this).m();let I=0,x=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);I+=(k>=0?k:4294967296+k)*x,x*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(ee(this))return"-"+Q(this).toString(I);const x=y(Math.pow(I,6));var C=this;let k="";for(;;){const D=ue(C,x).g;C=W(C,D.j(x));let V=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,Z(C))return V+k;for(;V.length<6;)V="0"+V;k=V+k}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function ee(I){return I.h==-1}r.l=function(I){return I=W(this,I),ee(I)?-1:Z(I)?0:1};function Q(I){const x=I.g.length,C=[];for(let k=0;k<x;k++)C[k]=~I.g[k];return new f(C,~I.h).add(R)}r.abs=function(){return ee(this)?Q(this):this},r.add=function(I){const x=Math.max(this.g.length,I.g.length),C=[];let k=0;for(let D=0;D<=x;D++){let V=k+(this.i(D)&65535)+(I.i(D)&65535),w=(V>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);k=w>>>16,V&=65535,w&=65535,C[D]=w<<16|V}return new f(C,C[C.length-1]&-2147483648?-1:0)};function W(I,x){return I.add(Q(x))}r.j=function(I){if(Z(this)||Z(I))return A;if(ee(this))return ee(I)?Q(this).j(Q(I)):Q(Q(this).j(I));if(ee(I))return Q(this.j(Q(I)));if(this.l(B)<0&&I.l(B)<0)return y(this.m()*I.m());const x=this.g.length+I.g.length,C=[];for(var k=0;k<2*x;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<I.g.length;D++){const V=this.i(k)>>>16,w=this.i(k)&65535,re=I.i(D)>>>16,xe=I.i(D)&65535;C[2*k+2*D]+=w*xe,ne(C,2*k+2*D),C[2*k+2*D+1]+=V*xe,ne(C,2*k+2*D+1),C[2*k+2*D+1]+=w*re,ne(C,2*k+2*D+1),C[2*k+2*D+2]+=V*re,ne(C,2*k+2*D+2)}for(I=0;I<x;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=x;I<2*x;I++)C[I]=0;return new f(C,0)};function ne(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function te(I,x){this.g=I,this.h=x}function ue(I,x){if(Z(x))throw Error("division by zero");if(Z(I))return new te(A,A);if(ee(I))return x=ue(Q(I),x),new te(Q(x.g),Q(x.h));if(ee(x))return x=ue(I,Q(x)),new te(Q(x.g),x.h);if(I.g.length>30){if(ee(I)||ee(x))throw Error("slowDivide_ only works with positive integers.");for(var C=R,k=x;k.l(I)<=0;)C=fe(C),k=fe(k);var D=_e(C,1),V=_e(k,1);for(k=_e(k,2),C=_e(C,2);!Z(k);){var w=V.add(k);w.l(I)<=0&&(D=D.add(C),V=w),k=_e(k,1),C=_e(C,1)}return x=W(I,D.j(x)),new te(D,x)}for(D=A;I.l(x)>=0;){for(C=Math.max(1,Math.floor(I.m()/x.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),V=y(C),w=V.j(x);ee(w)||w.l(I)>0;)C-=k,V=y(C),w=V.j(x);Z(V)&&(V=R),D=D.add(V),I=W(I,w)}return new te(D,I)}r.B=function(I){return ue(this,I).h},r.and=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<x;k++)C[k]=this.i(k)&I.i(k);return new f(C,this.h&I.h)},r.or=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<x;k++)C[k]=this.i(k)|I.i(k);return new f(C,this.h|I.h)},r.xor=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<x;k++)C[k]=this.i(k)^I.i(k);return new f(C,this.h^I.h)};function fe(I){const x=I.g.length+1,C=[];for(let k=0;k<x;k++)C[k]=I.i(k)<<1|I.i(k-1)>>>31;return new f(C,I.h)}function _e(I,x){const C=x>>5;x%=32;const k=I.g.length-C,D=[];for(let V=0;V<k;V++)D[V]=x>0?I.i(V+C)>>>x|I.i(V+C+1)<<32-x:I.i(V+C);return new f(D,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,BE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,es=f}).apply(typeof q_<"u"?q_:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qE,Rl,HE,Kc,mm,FE,GE,QE;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<c.length;++m){var E=c[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function l(c,m){if(m)e:{var E=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var P=c[S];if(!(P in E))break e;E=E[P]}c=c[c.length-1],S=E[c],m=m(S),m!=S&&m!=null&&e(E,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var E=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&E.push([S,m[S]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,E){return c.call.apply(c.bind,arguments)}function y(c,m,E){return y=_,y.apply(null,arguments)}function b(c,m){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,m){function E(){}E.prototype=m.prototype,c.Z=m.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(S,P,q){for(var ie=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ie[Ce-2]=arguments[Ce];return m.prototype[P].apply(S,ie)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function B(c){const m=c.length;if(m>0){const E=Array(m);for(let S=0;S<m;S++)E[S]=c[S];return E}return[]}function Z(c,m){for(let S=1;S<arguments.length;S++){const P=arguments[S];var E=typeof P;if(E=E!="object"?E:P?Array.isArray(P)?"array":E:"null",E=="array"||E=="object"&&typeof P.length=="number"){E=c.length||0;const q=P.length||0;c.length=E+q;for(let ie=0;ie<q;ie++)c[E+ie]=P[ie]}else c.push(P)}}class ee{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Q(c){f.setTimeout(()=>{throw c},0)}function W(){var c=I;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ne{constructor(){this.h=this.g=null}add(m,E){const S=te.get();S.set(m,E),this.h?this.h.next=S:this.g=S,this.h=S}}var te=new ee(()=>new ue,c=>c.reset());class ue{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,_e=!1,I=new ne,x=()=>{const c=Promise.resolve(void 0);fe=()=>{c.then(C)}};function C(){for(var c;c=W();){try{c.h.call(c.g)}catch(E){Q(E)}var m=te;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}_e=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,m),f.removeEventListener("test",E,m)}catch{}return c})();function w(c){return/^[\s\xa0]*$/.test(c)}function re(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}A(re,D),re.prototype.init=function(c,m){const E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(E=="mouseover"?m=c.fromElement:E=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),F=0;function ae(c,m,E,S,P){this.listener=c,this.proxy=null,this.src=m,this.type=E,this.capture=!!S,this.ha=P,this.key=++F,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Be(c,m,E){for(const S in c)m.call(E,c[S],S,c)}function Ke(c,m){for(const E in c)m.call(void 0,c[E],E,c)}function M(c){const m={};for(const E in c)m[E]=c[E];return m}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,m){let E,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(E in S)c[E]=S[E];for(let q=0;q<J.length;q++)E=J[q],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,m,E,S,P){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const ie=Ie(c,m,S,P);return ie>-1?(m=c[ie],E||(m.fa=!1)):(m=new ae(m,this.src,q,!!S,P),m.fa=E,c.push(m)),m};function be(c,m){const E=m.type;if(E in c.g){var S=c.g[E],P=Array.prototype.indexOf.call(S,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(S,P,1),q&&(ye(m),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ie(c,m,E,S){for(let P=0;P<c.length;++P){const q=c[P];if(!q.da&&q.listener==m&&q.capture==!!E&&q.ha==S)return P}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Dt={};function at(c,m,E,S,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)at(c,m[q],E,S,P);return null}return E=bo(E),c&&c[xe]?c.J(m,E,g(S)?!!S.capture:!1,P):ds(c,m,E,!1,S,P)}function ds(c,m,E,S,P,q){if(!m)throw Error("Invalid event type");const ie=g(P)?!!P.capture:!!P;let Ce=ms(c);if(Ce||(c[Ue]=Ce=new he(c)),E=Ce.add(m,E,S,ie,q),E.proxy)return E;if(S=ia(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)V||(P=ie),P===void 0&&(P=!1),c.addEventListener(m.toString(),S,P);else if(c.attachEvent)c.attachEvent(ii(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ia(){function c(E){return m.call(c.src,c.listener,E)}const m=Eo;return c}function ra(c,m,E,S,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)ra(c,m[q],E,S,P);else S=g(S)?!!S.capture:!!S,E=bo(E),c&&c[xe]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],E=Ie(m,E,S,P),E>-1&&(ye(m[E]),Array.prototype.splice.call(m,E,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=ms(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Ie(m,E,S,P)),(E=c>-1?m[c]:null)&&sa(E))}function sa(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[xe])be(m.i,c);else{var E=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(E,S,c.capture):m.detachEvent?m.detachEvent(ii(E),S):m.addListener&&m.removeListener&&m.removeListener(S),(E=ms(m))?(be(E,c),E.h==0&&(E.src=null,m[Ue]=null)):ye(c)}}}function ii(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function Eo(c,m){if(c.da)c=!0;else{m=new re(m,this);const E=c.listener,S=c.ha||c.src;c.fa&&sa(c),c=E.call(S,m)}return c}function ms(c){return c=c[Ue],c instanceof he?c:null}var To="__closure_events_fn_"+(Math.random()*1e9>>>0);function bo(c){return typeof c=="function"?c:(c[To]||(c[To]=function(m){return c.handleEvent(m)}),c[To])}function vt(){k.call(this),this.i=new he(this),this.M=this,this.G=null}A(vt,k),vt.prototype[xe]=!0,vt.prototype.removeEventListener=function(c,m,E,S){ra(this,c,m,E,S)};function Ot(c,m){var E,S=c.G;if(S)for(E=[];S;S=S.G)E.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var P=m;m=new D(S,c),oe(m,P)}P=!0;let q,ie;if(E)for(ie=E.length-1;ie>=0;ie--)q=m.g=E[ie],P=fr(q,S,!0,m)&&P;if(q=m.g=c,P=fr(q,S,!0,m)&&P,P=fr(q,S,!1,m)&&P,E)for(ie=0;ie<E.length;ie++)q=m.g=E[ie],P=fr(q,S,!1,m)&&P}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const E=c.g[m];for(let S=0;S<E.length;S++)ye(E[S]);delete c.g[m],c.h--}}this.G=null},vt.prototype.J=function(c,m,E,S){return this.i.add(String(c),m,!1,E,S)},vt.prototype.K=function(c,m,E,S){return this.i.add(String(c),m,!0,E,S)};function fr(c,m,E,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const ie=m[q];if(ie&&!ie.da&&ie.capture==E){const Ce=ie.listener,mt=ie.ha||ie.src;ie.fa&&be(c.i,ie),P=Ce.call(mt,S)!==!1&&P}}return P&&!S.defaultPrevented}function qh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function lu(c){c.g=qh(()=>{c.g=null,c.i&&(c.i=!1,lu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class en extends k{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(c){k.call(this),this.h=c,this.g={}}A(gs,k);var So=[];function Ao(c){Be(c.g,function(m,E){this.g.hasOwnProperty(E)&&sa(m)},c),c.g={}}gs.prototype.N=function(){gs.Z.N.call(this),Ao(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dr=f.JSON.stringify,Hh=f.JSON.parse,uu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function cu(){}function hu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){D.call(this,"d")}A(zt,D);function xn(){D.call(this,"c")}A(xn,D);var dt={},fu=null;function aa(){return fu=fu||new vt}dt.Ia="serverreachability";function du(c){D.call(this,dt.Ia,c)}A(du,D);function ri(c){const m=aa();Ot(m,new du(m))}dt.STAT_EVENT="statevent";function ps(c,m){D.call(this,dt.STAT_EVENT,c),this.stat=m}A(ps,D);function Et(c){const m=aa();Ot(m,new ps(m,c))}dt.Ja="timingevent";function si(c,m){D.call(this,dt.Ja,c),this.size=m}A(si,D);function ai(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Fh(c,m,E,S,P,q){c.info(function(){if(c.g)if(q){var ie="",Ce=q.split("&");for(let Fe=0;Fe<Ce.length;Fe++){var mt=Ce[Fe].split("=");if(mt.length>1){const ot=mt[0];mt=mt[1];const Nn=ot.split("_");ie=Nn.length>=2&&Nn[1]=="type"?ie+(ot+"="+mt+"&"):ie+(ot+"=redacted&")}}}else ie=null;else ie=q;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+m+`
`+E+`
`+ie})}function mu(c,m,E,S,P,q,ie){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+m+`
`+E+`
`+q+" "+ie})}function oi(c,m,E,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Gh(c,E)+(S?" "+S:"")})}function ys(c,m){c.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function Gh(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var E=q[c];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ie=1;ie<S.length;ie++)S[ie]=""}}}}return dr(q)}catch{return m}}var _s={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xo;function vs(){}A(vs,cu),vs.prototype.g=function(){return new XMLHttpRequest},xo=new vs;function Mi(c){return encodeURIComponent(String(c))}function gu(c){var m=1;c=c.split(":");const E=[];for(;m>0&&c.length;)E.push(c.shift()),m--;return c.length&&E.push(c.join(":")),E}function Fn(c,m,E,S){this.j=c,this.i=m,this.l=E,this.S=S||1,this.V=new gs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Tt={},jt={};function li(c,m,E){c.M=1,c.A=Es(St(m)),c.u=E,c.R=!0,oa(c,null)}function oa(c,m){c.F=Date.now(),ui(c),c.B=St(c.A);var E=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ha(E.i,"t",S),c.C=0,E=c.j.L,c.h=new Gn,c.g=Nu(c.j,E?m:null,!c.u),c.P>0&&(c.O=new en(y(c.Y,c,c.g),c.P)),m=c.V,E=c.g,S=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(So[0]=P.toString()),P=So);for(let q=0;q<P.length;q++){const ie=at(E,P[q],S||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ri(),Fh(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Yn(c)==3?m.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Yn(this.g),mt=this.g.ya(),Fe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Ce!=4||mt==7||(mt==8||Fe<=0?ri(3):ri(2)),ci(this);var m=this.g.ca();this.X=m;var E=Qh(this);if(this.o=m==200,mu(this.i,this.v,this.B,this.l,this.S,Ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(S)){var q=S;break t}}q=null}if(c=q)oi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,c);else{this.o=!1,this.m=3,Et(12),pn(this),Cn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<E.length;)if(ot=yu(this,E),ot==jt){Ce==4&&(this.m=4,Et(14),c=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,Et(15),oi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else oi(this.i,this.l,ot,null),hi(this,ot);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)oi(this.i,this.l,E,"[Invalid Chunked Response]"),pn(this),Cn(this);else if(E.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Bo(ie),ie.P=!0,Et(11))}}else oi(this.i,this.l,E,null),hi(this,E);Ce==4&&pn(this),this.o&&!this.K&&(Ce==4?xu(this.j,this):(this.o=!1,ui(this)))}else ji(this.g),m==400&&E.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),pn(this),Cn(this)}}}catch{}finally{}};function Qh(c){if(!pu(c))return c.g.la();const m=Bt(c.g);if(m==="")return"";let E="";const S=m.length,P=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Cn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,E+=c.h.i.decode(m[q],{stream:!(P&&q==S-1)});return m.length=0,c.h.g+=E,c.C=0,c.h.g}function pu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function yu(c,m){var E=c.C,S=m.indexOf(`
`,E);return S==-1?jt:(E=Number(m.substring(E,S)),isNaN(E)?Tt:(S+=1,S+E>m.length?jt:(m=m.slice(S,S+E),c.C=S+E,m)))}Fn.prototype.cancel=function(){this.K=!0,pn(this)};function ui(c){c.T=Date.now()+c.H,la(c,c.H)}function la(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ai(y(c.aa,c),m)}function ci(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ys(this.i,this.B),this.M!=2&&(ri(),Et(17)),pn(this),this.m=2,Cn(this)):la(this,this.T-c)};function Cn(c){c.j.I==0||c.K||xu(c.j,c)}function pn(c){ci(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Ao(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function hi(c,m){try{var E=c.j;if(E.I!=0&&(E.g==c||di(E.h,c))){if(!c.L&&di(E.h,c)&&E.I==3){try{var S=E.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)pa(E),Tr(E);else break e;Cs(E),Et(18)}}else E.xa=P[1],0<E.xa-E.K&&P[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ai(y(E.Va,E),6e3));fi(E.h)<=1&&E.ta&&(E.ta=void 0)}else vi(E,11)}else if((c.L||E.g==c)&&pa(E),!w(m))for(P=E.Ba.g.parse(m),m=0;m<P.length;m++){let Fe=P[m];const ot=Fe[0];if(!(ot<=E.K))if(E.K=ot,Fe=Fe[1],E.I==2)if(Fe[0]=="c"){E.M=Fe[1],E.ba=Fe[2];const Nn=Fe[3];Nn!=null&&(E.ka=Nn,E.j.info("VER="+E.ka));const Ei=Fe[4];Ei!=null&&(E.za=Ei,E.j.info("SVER="+E.za));const Xn=Fe[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(S=1.5*Xn,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const Jn=c.g;if(Jn){const Rs=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rs){var q=S.h;q.g||Rs.indexOf("spdy")==-1&&Rs.indexOf("quic")==-1&&Rs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Io(q,q.h),q.h=null))}if(S.G){const ya=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(S.wa=ya,Ye(S.J,S.G,ya))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var ie=c;if(S.na=Iu(S,S.L?S.ba:null,S.W),ie.L){No(S.h,ie);var Ce=ie,mt=S.O;mt&&(Ce.H=mt),Ce.D&&(ci(Ce),ui(Ce)),S.g=ie}else Au(S);E.i.length>0&&_i(E)}else Fe[0]!="stop"&&Fe[0]!="close"||vi(E,7);else E.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?vi(E,7):Uo(E):Fe[0]!="noop"&&E.l&&E.l.qa(Fe),E.A=0)}}ri(4)}catch{}}var bt=class{constructor(c,m){this.g=c,this.map=m}};function Co(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fi(c){return c.h?1:c.g?c.g.size:0}function di(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Io(c,m){c.g?c.g.add(m):c.h=m}function No(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Co.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Do(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const E of c.g.values())m=m.concat(E.G);return m}return B(c.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(c,m){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const S=c[E].indexOf("=");let P,q=null;S>=0?(P=c[E].substring(0,S),q=c[E].substring(S+1)):P=c[E],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof yn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,mr(this,c.u),this.h=c.h,Oo(this,bu(c.i)),this.m=c.m):c&&(m=String(c).match(_u))?(this.l=!1,Pt(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),mr(this,m[4]),this.h=mi(m[5]||"",!0),Oo(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new pr(null,this.l))}yn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Ts(m,ca,!0),":");var E=this.g;return(E||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ts(m,ca,!0),"@"),c.push(Mi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Ts(E,E.charAt(0)=="/"?ko:vu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Ts(E,Eu)),c.join("")},yn.prototype.resolve=function(c){const m=St(this);let E=!!c.j;E?Pt(m,c.j):E=!!c.o,E?m.o=c.o:E=!!c.g,E?m.g=c.g:E=c.u!=null;var S=c.h;if(E)mr(m,c.u);else if(E=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=m.h.lastIndexOf("/");P!=-1&&(S=m.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let ie=0;ie<P.length;){const Ce=P[ie++];Ce=="."?S&&ie==P.length&&q.push(""):Ce==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&ie==P.length&&q.push("")):(q.push(Ce),S=!0)}S=q.join("/")}else S=P}return E?m.h=S:E=c.i.toString()!=="",E?Oo(m,bu(c.i)):E=!!c.m,E&&(m.m=c.m),m};function St(c){return new yn(c)}function Pt(c,m,E){c.j=E?mi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function mr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Oo(c,m,E){m instanceof pr?(c.i=m,fa(c.i,c.l)):(E||(m=Ts(m,gr)),c.i=new pr(m,c.l))}function Ye(c,m,E){c.i.set(m,E)}function Es(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function mi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ts(c,m,E){return typeof c=="string"?(c=encodeURI(c).replace(m,an),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ca=/[#\/\?@]/g,vu=/[#\?:]/g,ko=/[#\?]/g,gr=/[#\?@]/g,Eu=/#/g;function pr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&ua(c.i,function(m,E){c.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}r=pr.prototype,r.add=function(c,m){on(this),this.i=null,c=yr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(m),this.h+=1,this};function Tu(c,m){on(c),m=yr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Mo(c,m){return on(c),m=yr(c,m),c.g.has(m)}r.forEach=function(c,m){on(this),this.g.forEach(function(E,S){E.forEach(function(P){c.call(m,P,S,this)},this)},this)};function Vo(c,m){on(c);let E=[];if(typeof m=="string")Mo(c,m)&&(E=E.concat(c.g.get(yr(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)E=E.concat(c[m]);return E}r.set=function(c,m){return on(this),this.i=null,c=yr(this,c),Mo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Vo(this,c),c.length>0?String(c[0]):m):m};function ha(c,m,E){Tu(c,m),E.length>0&&(c.i=null,c.g.set(yr(c,m),B(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var E=m[S];const P=Mi(E);E=Vo(this,E);for(let q=0;q<E.length;q++){let ie=P;E[q]!==""&&(ie+="="+Mi(E[q])),c.push(ie)}}return this.i=c.join("&")};function bu(c){const m=new pr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function yr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function fa(c,m){m&&!c.j&&(on(c),c.i=null,c.g.forEach(function(E,S){const P=S.toLowerCase();S!=P&&(Tu(this,S),ha(this,P,E))},c)),c.j=m}function Qn(c,m){const E=new Hn;if(f.Image){const S=new Image;S.onload=b(Rn,E,"TestLoadImage: loaded",!0,m,S),S.onerror=b(Rn,E,"TestLoadImage: error",!1,m,S),S.onabort=b(Rn,E,"TestLoadImage: abort",!1,m,S),S.ontimeout=b(Rn,E,"TestLoadImage: timeout",!1,m,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function jo(c,m){const E=new Hn,S=new AbortController,P=setTimeout(()=>{S.abort(),Rn(E,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(P),q.ok?Rn(E,"TestPingServer: ok",!0,m):Rn(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Rn(E,"TestPingServer: error",!1,m)})}function Rn(c,m,E,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(E)}catch{}}function _r(){this.g=new uu}function gi(c){this.i=c.Sb||null,this.h=c.ab||!1}A(gi,cu),gi.prototype.g=function(){return new bs(this.i,this.h)};function bs(c,m){vt.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(bs,vt),r=bs.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Kn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?vr(this):Kn(this),this.readyState==3&&da(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,vr(this))},r.Na=function(c){this.g&&(this.response=c,vr(this))},r.ga=function(){this.g&&vr(this)};function vr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Kn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=m.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let m="";return Be(c,function(E,S){m+=S,m+=":",m+=E,m+=`\r
`}),m}function Ss(c,m,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=In(E),typeof c=="string"?E!=null&&Mi(E):Ye(c,m,E))}function $e(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A($e,vt);var pi=/^https?$/i,Po=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xo.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){As(this,q);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)E.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())E.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(q=>q.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Po,m,void 0)>=0)||S||P||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ie]of E)this.g.setRequestHeader(q,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){As(this,q)}};function As(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Lo(c),Vi(c)}function Lo(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Vi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ws(this):this.Xa())},r.Xa=function(){ws(this)};function ws(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var S;if(S=q===0){let ie=String(c.D).match(_u)[1]||null;!ie&&f.self&&f.self.location&&(ie=f.self.location.protocol.slice(0,-1)),S=!pi.test(ie?ie.toLowerCase():"")}E=S}if(E)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var P=Yn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Lo(c)}}finally{Vi(c)}}}}function Vi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,m||Ot(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Hh(m)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(c){const m={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(w(c[S]))continue;var E=gu(c[S]);const P=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const q=m[P]||[];m[P]=q,q.push(E)}Ke(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(c,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||m}function Er(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,c),this.Za=yi("retryDelaySeedMs",1e4,c),this.Ta=yi("forwardChannelMaxRetries",2,c),this.va=yi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Co(c&&c.concurrentRequestLimit),this.Ba=new _r,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Er.prototype,r.ka=8,r.I=1,r.connect=function(c,m,E,S){Et(0),this.W=c,this.H=m||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=Iu(this,null,this.W),_i(this)};function Uo(c){if(ma(c),c.I==3){var m=c.V++,E=St(c.J);if(Ye(E,"SID",c.M),Ye(E,"RID",m),Ye(E,"TYPE","terminate"),xs(c,E),m=new Fn(c,c.j,m),m.M=2,m.A=Es(St(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=m.A,E=!0),E||(m.g=Nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}Ru(c)}function Tr(c){c.g&&(Bo(c),c.g.cancel(),c.g=null)}function ma(c){Tr(c),c.v&&(f.clearTimeout(c.v),c.v=null),pa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function _i(c){if(!Ro(c.h)&&!c.m){c.m=!0;var m=c.Ea;fe||x(),_e||(fe(),_e=!0),I.add(m,c),c.D=0}}function ga(c,m){return fi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ai(y(c.Ea,c,m),Cu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Fn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),oe(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=Su(this,P,m),E=St(this.J),Ye(E,"RID",c),Ye(E,"CVER",22),this.G&&Ye(E,"X-HTTP-Session-Id",this.G),xs(this,E),q&&(this.R?m="headers="+Mi(In(q))+"&"+m:this.u&&Ss(E,this.u,q)),Io(this.h,P),this.Ra&&Ye(E,"TYPE","init"),this.S?(Ye(E,"$req",m),Ye(E,"SID","null"),P.U=!0,li(P,E,null)):li(P,E,m),this.I=2}}else this.I==3&&(c?zo(this,c):this.i.length==0||Ro(this.h)||zo(this))};function zo(c,m){var E;m?E=m.l:E=c.V++;const S=St(c.J);Ye(S,"SID",c.M),Ye(S,"RID",E),Ye(S,"AID",c.K),xs(c,S),c.u&&c.o&&Ss(S,c.u,c.o),E=new Fn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Su(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Io(c.h,E),li(E,S,m)}function xs(c,m){c.H&&Be(c.H,function(E,S){Ye(m,S,E)}),c.l&&Be({},function(E,S){Ye(m,S,E)})}function Su(c,m,E){E=Math.min(c.i.length,E);const S=c.l?y(c.l.Ka,c.l,c):null;e:{var P=c.i;let Ce=-1;for(;;){const mt=["count="+E];Ce==-1?E>0?(Ce=P[0].g,mt.push("ofs="+Ce)):Ce=0:mt.push("ofs="+Ce);let Fe=!0;for(let ot=0;ot<E;ot++){var q=P[ot].g;const Nn=P[ot].map;if(q-=Ce,q<0)Ce=Math.max(0,P[ot].g-100),Fe=!1;else try{q="req"+q+"_"||"";try{var ie=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Ei,Xn]of ie){let Jn=Xn;g(Xn)&&(Jn=dr(Xn)),mt.push(q+Ei+"="+encodeURIComponent(Jn))}}catch(Ei){throw mt.push(q+"type="+encodeURIComponent("_badmap")),Ei}}catch{S&&S(Nn)}}if(Fe){ie=mt.join("&");break e}}ie=void 0}return c=c.i.splice(0,E),m.G=c,ie}function Au(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;fe||x(),_e||(fe(),_e=!0),I.add(m,c),c.A=0}}function Cs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ai(y(c.Da,c),Cu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ai(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Tr(this),wu(this))};function Bo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function wu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=St(c.na);Ye(m,"RID","rpc"),Ye(m,"SID",c.M),Ye(m,"AID",c.K),Ye(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(m,"TO",c.ia),Ye(m,"TYPE","xmlhttp"),xs(c,m),c.u&&c.o&&Ss(m,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Es(St(m)),E.u=null,E.R=!0,oa(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Tr(this),Cs(this),Et(19))};function pa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function xu(c,m){var E=null;if(c.g==m){pa(c),Bo(c),c.g=null;var S=2}else if(di(c.h,m))E=m.G,No(c.h,m),S=1;else return;if(c.I!=0){if(m.o)if(S==1){E=m.u?m.u.length:0,m=Date.now()-m.F;var P=c.D;S=aa(),Ot(S,new si(S,E)),_i(c)}else Au(c);else if(P=m.m,P==3||P==0&&m.X>0||!(S==1&&ga(c,m)||S==2&&Cs(c)))switch(E&&E.length>0&&(m=c.h,m.i=m.i.concat(E)),P){case 1:vi(c,5);break;case 4:vi(c,10);break;case 3:vi(c,6);break;default:vi(c,2)}}}function Cu(c,m){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*m}function vi(c,m){if(c.j.info("Error code "+m),m==2){var E=y(c.bb,c),S=c.Ua;const P=!S;S=new yn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(S,"https"),Es(S),P?Qn(S.toString(),E):jo(S.toString(),E)}else Et(2);c.I=0,c.l&&c.l.pa(m),Ru(c),ma(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Ru(c){if(c.I=0,c.ja=[],c.l){const m=Do(c.h);(m.length!=0||c.i.length!=0)&&(Z(c.ja,m),Z(c.ja,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.oa()}}function Iu(c,m,E){var S=E instanceof yn?St(E):new yn(E);if(S.g!="")m&&(S.g=m+"."+S.g),mr(S,S.u);else{var P=f.location;S=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new yn(null);S&&Pt(q,S),m&&(q.g=m),P&&mr(q,P),E&&(q.h=E),S=q}return E=c.G,m=c.wa,E&&m&&Ye(S,E,m),Ye(S,"VER",c.ka),xs(c,S),S}function Nu(c,m,E){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new $e(new gi({ab:E})):new $e(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}r=Du.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function br(){}br.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){vt.call(this),this.g=new Er(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!w(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Pi(this)}A(tn,vt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Uo(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=dr(c),c=E);m.i.push(new bt(m.Ya++,c)),m.I==3&&_i(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,tn.Z.N.call(this)};function Ou(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const E in m){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}A(Ou,zt);function ku(){xn.call(this),this.status=1}A(ku,xn);function Pi(c){this.g=c}A(Pi,Du),Pi.prototype.ra=function(){Ot(this.g,"a")},Pi.prototype.qa=function(c){Ot(this.g,new Ou(c))},Pi.prototype.pa=function(c){Ot(this.g,new ku)},Pi.prototype.oa=function(){Ot(this.g,"b")},br.prototype.createWebChannel=br.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,QE=function(){return new br},GE=function(){return aa()},FE=dt,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,Kc=_s,wo.COMPLETE="complete",HE=wo,hu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Rl=hu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,qE=$e}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const H_="@firebase/firestore",F_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new Mm("@firebase/firestore");function Ka(){return Zs.logLevel}function ce(r,...e){if(Zs.logLevel<=Ve.DEBUG){const n=e.map(Gm);Zs.debug(`Firestore (${mo}): ${r}`,...n)}}function ar(r,...e){if(Zs.logLevel<=Ve.ERROR){const n=e.map(Gm);Zs.error(`Firestore (${mo}): ${r}`,...n)}}function io(r,...e){if(Zs.logLevel<=Ve.WARN){const n=e.map(Gm);Zs.warn(`Firestore (${mo}): ${r}`,...n)}}function Gm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,KE(r,s,n)}function KE(r,e,n){let s=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ar(s),new Error(s)}function Qe(r,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||KE(e,l,s)}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($t.UNAUTHENTICATED)))}shutdown(){}}class Ax{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class wx{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let u=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ir,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const _=u;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ir)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new YE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class xx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Cx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new xx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class G_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const l=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new G_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new G_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=Ix(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=e.charAt(l[u]%62))}return s}}function je(r,e){return r<e?-1:r>e?1:0}function gm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const l=r.charAt(s),u=e.charAt(s);if(l!==u)return em(l)===em(u)?je(l,u):em(l)?1:-1}return je(r.length,e.length)}const Nx=55296,Dx=57343;function em(r){const e=r.charCodeAt(0);return e>=Nx&&e<=Dx}function ro(r,e,n){return r.length===e.length&&r.every(((s,l)=>n(s,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="__name__";class xi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=xi.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return je(e.length,n.length)}static compareSegments(e,n){const s=xi.isNumericId(e),l=xi.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?xi.extractNumericId(e).compare(xi.extractNumericId(n)):gm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class nt extends xi{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const Ox=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends xi{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return Ox.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q_}static keyField(){return new Kt([Q_])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new le(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new le(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(u(),l++)}if(u(),f)throw new le(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(nt.fromString(e))}static fromName(e){return new pe(nt.fromString(e).popFirst(5))}static empty(){return new pe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(r,e,n){if(!n)throw new le(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function kx(r,e,n,s){if(e===!0&&s===!0)throw new le(Y.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function K_(r){if(!pe.isDocumentKey(r))throw new le(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Y_(r){if(pe.isDocumentKey(r))throw new le(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function JE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function bh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function gn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bh(r);throw new le(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(r,e){const n={typeString:r};return e&&(n.value=e),n}function tu(r,e){if(!JE(r))throw new le(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const l=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(l&&typeof f!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=-62135596800,J_=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*J_);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<X_)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J_}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-X_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Nt("string",st._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new st(0,0))}static max(){return new Se(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=-1;function Mx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new ns(l,pe.empty(),e)}function Vx(r){return new ns(r.readTime,r.key,Bl)}class ns{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ns(Se.min(),pe.empty(),Bl)}static max(){return new ns(Se.max(),pe.empty(),Bl)}}function jx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:je(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==Px)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):$.reject(n)}static resolve(e){return new $(((n,s)=>{n(e)}))}static reject(e){return new $(((n,s)=>{s(e)}))}static waitFor(e){return new $(((n,s)=>{let l=0,u=0,f=!1;e.forEach((g=>{++l,g.next((()=>{++u,f&&u===l&&n()}),(_=>s(_)))})),f=!0,u===l&&n()}))}static or(e){let n=$.resolve(!1);for(const s of e)n=n.next((l=>l?$.resolve(l):s()));return n}static forEach(e,n){const s=[];return e.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(e,n){return new $(((s,l)=>{const u=e.length,f=new Array(u);let g=0;for(let _=0;_<u;_++){const y=_;n(e[y]).next((b=>{f[y]=b,++g,g===u&&s(f)}),(b=>l(b)))}}))}static doWhile(e,n){return new $(((s,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):s()};u()}))}}function Ux(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function po(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=-1;function Ah(r){return r==null}function oh(r){return r===0&&1/r==-1/0}function zx(r){return typeof r=="number"&&Number.isInteger(r)&&!oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="";function Bx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=$_(e)),e=qx(r.get(n),e);return $_(e)}function qx(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case $E:n+="";break;default:n+=u}}return n}function $_(r){return r+$E+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function cs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function ZE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=l??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new Qt(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Qt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,l,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new W_(this.data.getIterator())}getIteratorFrom(e){return new W_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class W_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Mt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new WE("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const Hx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=Hx.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function rs(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="server_timestamp",tT="__type__",nT="__previous_value__",iT="__local_write_time__";function Ym(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[tT])==null?void 0:s.stringValue)===eT}function wh(r){const e=r.mapValue.fields[nT];return Ym(e)?wh(e):e}function ql(r){const e=is(r.mapValue.fields[iT].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n,s,l,u,f,g,_,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b}}const lh="(default)";class Hl{constructor(e,n){this.projectId=e,this.database=n||lh}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="__type__",Gx="__max__",zc={mapValue:{}},sT="__vector__",uh="value";function ss(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ym(r)?4:Kx(r)?9007199254740991:Qx(r)?10:11:Te(28295,{value:r})}function ki(r,e){if(r===e)return!0;const n=ss(r);if(n!==ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ql(r).isEqual(ql(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=is(l.timestampValue),g=is(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,u){return rs(l.bytesValue).isEqual(rs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,u){return yt(l.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(l.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(r,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return yt(l.integerValue)===yt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=yt(l.doubleValue),g=yt(u.doubleValue);return f===g?oh(f)===oh(g):isNaN(f)&&isNaN(g)}return!1})(r,e);case 9:return ro(r.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},g=u.mapValue.fields||{};if(Z_(f)!==Z_(g))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(g[_]===void 0||!ki(f[_],g[_])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function Fl(r,e){return(r.values||[]).find((n=>ki(n,e)))!==void 0}function so(r,e){if(r===e)return 0;const n=ss(r),s=ss(e);if(n!==s)return je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const g=yt(u.integerValue||u.doubleValue),_=yt(f.integerValue||f.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,e);case 3:return ev(r.timestampValue,e.timestampValue);case 4:return ev(ql(r),ql(e));case 5:return gm(r.stringValue,e.stringValue);case 6:return(function(u,f){const g=rs(u),_=rs(f);return g.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const g=u.split("/"),_=f.split("/");for(let y=0;y<g.length&&y<_.length;y++){const b=je(g[y],_[y]);if(b!==0)return b}return je(g.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const g=je(yt(u.latitude),yt(f.latitude));return g!==0?g:je(yt(u.longitude),yt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return tv(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var R,B,Z,ee;const g=u.fields||{},_=f.fields||{},y=(R=g[uh])==null?void 0:R.arrayValue,b=(B=_[uh])==null?void 0:B.arrayValue,A=je(((Z=y==null?void 0:y.values)==null?void 0:Z.length)||0,((ee=b==null?void 0:b.values)==null?void 0:ee.length)||0);return A!==0?A:tv(y,b)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===zc.mapValue&&f===zc.mapValue)return 0;if(u===zc.mapValue)return 1;if(f===zc.mapValue)return-1;const g=u.fields||{},_=Object.keys(g),y=f.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let A=0;A<_.length&&A<b.length;++A){const R=gm(_[A],b[A]);if(R!==0)return R;const B=so(g[_[A]],y[b[A]]);if(B!==0)return B}return je(_.length,b.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function ev(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return je(r,e);const n=is(r),s=is(e),l=je(n.seconds,s.seconds);return l!==0?l:je(n.nanos,s.nanos)}function tv(r,e){const n=r.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=so(n[l],s[l]);if(u)return u}return je(n.length,s.length)}function ao(r){return pm(r)}function pm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=is(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return rs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=pm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${pm(n.fields[f])}`;return l+"}"})(r.mapValue):Te(61005,{value:r})}function Yc(r){switch(ss(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(r);return e?16+Yc(e):16;case 5:return 2*r.stringValue.length;case 6:return rs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+Yc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return cs(s.fields,((u,f)=>{l+=u.length+Yc(f)})),l})(r.mapValue);default:throw Te(13486,{value:r})}}function nv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ym(r){return!!r&&"integerValue"in r}function Xm(r){return!!r&&"arrayValue"in r}function iv(r){return!!r&&"nullValue"in r}function rv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Xc(r){return!!r&&"mapValue"in r}function Qx(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[rT])==null?void 0:s.stringValue)===sT}function Ml(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return cs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ml(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ml(r.arrayValue.values[n]);return e}return{...r}}function Kx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Gx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Xc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(n)}setAll(e){let n=Kt.emptyPath(),s={},l=[];e.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const _=this.getFieldsMap(n);this.applyChanges(_,s,l),s={},l=[],n=g.popLast()}f?s[g.lastSegment()]=Ml(f):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());Xc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){cs(n,((l,u)=>e[l]=u));for(const l of s)delete e[l]}clone(){return new mn(Ml(this.value))}}function aT(r){const e=[];return cs(r.fields,((n,s)=>{const l=new Kt([n]);if(Xc(s)){const u=aT(s.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,l,u,f,g){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),mn.empty(),0)}static newFoundDocument(e,n,s,l){return new Zt(e,1,n,Se.min(),s,l,0)}static newNoDocument(e,n){return new Zt(e,2,n,Se.min(),Se.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Se.min(),Se.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.position=e,this.inclusive=n}}function sv(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const u=e[l],f=r.position[l];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=so(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function av(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ki(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Yx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{}class It extends oT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Jx(e,n,s):n==="array-contains"?new Wx(e,s):n==="in"?new eC(e,s):n==="not-in"?new tC(e,s):n==="array-contains-any"?new nC(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new $x(e,s):new Zx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(so(n,this.value)):n!==null&&ss(this.value)===ss(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends oT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ni(e,n)}matches(e){return lT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lT(r){return r.op==="and"}function uT(r){return Xx(r)&&lT(r)}function Xx(r){for(const e of r.filters)if(e instanceof ni)return!1;return!0}function _m(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+ao(r.value);if(uT(r))return r.filters.map((e=>_m(e))).join(",");{const e=r.filters.map((n=>_m(n))).join(",");return`${r.op}(${e})`}}function cT(r,e){return r instanceof It?(function(s,l){return l instanceof It&&s.op===l.op&&s.field.isEqual(l.field)&&ki(s.value,l.value)})(r,e):r instanceof ni?(function(s,l){return l instanceof ni&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,f,g)=>u&&cT(f,l.filters[g])),!0):!1})(r,e):void Te(19439)}function hT(r){return r instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${ao(n.value)}`})(r):r instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(hT).join(" ,")+"}"})(r):"Filter"}class Jx extends It{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class $x extends It{constructor(e,n){super(e,"in",n),this.keys=fT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Zx extends It{constructor(e,n){super(e,"not-in",n),this.keys=fT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function fT(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>pe.fromName(s.referenceValue)))}class Wx extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xm(n)&&Fl(n.arrayValue,this.value)}}class eC extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fl(this.value.arrayValue,n)}}class tC extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fl(this.value.arrayValue,n)}}class nC extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Fl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n=null,s=[],l=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function ov(r,e=null,n=[],s=[],l=null,u=null,f=null){return new iC(r,e,n,s,l,u,f)}function Jm(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>_m(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ao(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ao(s))).join(",")),e.Te=n}return e.Te}function $m(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Yx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!cT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!av(r.startAt,e.startAt)&&av(r.endAt,e.endAt)}function vm(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n=null,s=[],l=[],u=null,f="F",g=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rC(r,e,n,s,l,u,f,g){return new yo(r,e,n,s,l,u,f,g)}function xh(r){return new yo(r)}function lv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dT(r){return r.collectionGroup!==null}function Vl(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Mt(Kt.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Gl(u,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new Gl(Kt.keyField(),s))}return e.Ie}function Ii(r){const e=we(r);return e.Ee||(e.Ee=sC(e,Vl(r))),e.Ee}function sC(r,e){if(r.limitType==="F")return ov(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Gl(l.field,u)}));const n=r.endAt?new ch(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ch(r.startAt.position,r.startAt.inclusive):null;return ov(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Em(r,e){const n=r.filters.concat([e]);return new yo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Tm(r,e,n){return new yo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ch(r,e){return $m(Ii(r),Ii(e))&&r.limitType===e.limitType}function mT(r){return`${Jm(Ii(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>hT(l))).join(", ")}]`),Ah(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>ao(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>ao(l))).join(",")),`Target(${s})`})(Ii(r))}; limitType=${r.limitType})`}function Rh(r,e){return e.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,l){for(const u of Vl(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(f,g,_){const y=sv(f,g,_);return f.inclusive?y<=0:y<0})(s.startAt,Vl(s),l)||s.endAt&&!(function(f,g,_){const y=sv(f,g,_);return f.inclusive?y>=0:y>0})(s.endAt,Vl(s),l))})(r,e)}function aC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gT(r){return(e,n)=>{let s=!1;for(const l of Vl(r)){const u=oC(l,e,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function oC(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,f,g){const _=f.data.field(u),y=g.data.field(u);return _!==null&&y!==null?so(_,y):Te(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,((n,s)=>{for(const[l,u]of s)e(l,u)}))}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new ut(pe.comparator);function or(){return lC}const pT=new ut(pe.comparator);function Il(...r){let e=pT;for(const n of r)e=e.insert(n.key,n);return e}function yT(r){let e=pT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Gs(){return jl()}function _T(){return jl()}function jl(){return new ta((r=>r.toString()),((r,e)=>r.isEqual(e)))}const uC=new ut(pe.comparator),cC=new Mt(pe.comparator);function Pe(...r){let e=cC;for(const n of r)e=e.add(n);return e}const hC=new Mt(je);function fC(){return hC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function vT(r){return{integerValue:""+r}}function dC(r,e){return zx(e)?vT(e):Zm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this._=void 0}}function mC(r,e,n){return r instanceof Ql?(function(l,u){const f={fields:{[tT]:{stringValue:eT},[iT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Ym(u)&&(u=wh(u)),u&&(f.fields[nT]=u),{mapValue:f}})(n,e):r instanceof Kl?TT(r,e):r instanceof Yl?bT(r,e):(function(l,u){const f=ET(l,u),g=uv(f)+uv(l.Ae);return ym(f)&&ym(l.Ae)?vT(g):Zm(l.serializer,g)})(r,e)}function gC(r,e,n){return r instanceof Kl?TT(r,e):r instanceof Yl?bT(r,e):n}function ET(r,e){return r instanceof hh?(function(s){return ym(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Ql extends Ih{}class Kl extends Ih{constructor(e){super(),this.elements=e}}function TT(r,e){const n=ST(e);for(const s of r.elements)n.some((l=>ki(l,s)))||n.push(s);return{arrayValue:{values:n}}}class Yl extends Ih{constructor(e){super(),this.elements=e}}function bT(r,e){let n=ST(e);for(const s of r.elements)n=n.filter((l=>!ki(l,s)));return{arrayValue:{values:n}}}class hh extends Ih{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function uv(r){return yt(r.integerValue||r.doubleValue)}function ST(r){return Xm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n){this.field=e,this.transform=n}}function yC(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof Kl&&l instanceof Kl||s instanceof Yl&&l instanceof Yl?ro(s.elements,l.elements,ki):s instanceof hh&&l instanceof hh?ki(s.Ae,l.Ae):s instanceof Ql&&l instanceof Ql})(r.transform,e.transform)}class _C{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Nh{}function AT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Wm(r.key,Bn.none()):new nu(r.key,r.data,Bn.none());{const n=r.data,s=mn.empty();let l=new Mt(Kt.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new hs(r.key,s,new wn(l.toArray()),Bn.none())}}function vC(r,e,n){r instanceof nu?(function(l,u,f){const g=l.value.clone(),_=hv(l.fieldTransforms,u,f.transformResults);g.setAll(_),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):r instanceof hs?(function(l,u,f){if(!Jc(l.precondition,u))return void u.convertToUnknownDocument(f.version);const g=hv(l.fieldTransforms,u,f.transformResults),_=u.data;_.setAll(wT(l)),_.setAll(g),u.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(r,e,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Pl(r,e,n,s){return r instanceof nu?(function(u,f,g,_){if(!Jc(u.precondition,f))return g;const y=u.value.clone(),b=fv(u.fieldTransforms,_,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof hs?(function(u,f,g,_){if(!Jc(u.precondition,f))return g;const y=fv(u.fieldTransforms,_,f),b=f.data;return b.setAll(wT(u)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,e,n,s):(function(u,f,g){return Jc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(r,e,n)}function EC(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),u=ET(s.transform,l||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function cv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&ro(s,l,((u,f)=>yC(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class nu extends Nh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class hs extends Nh{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function wT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function hv(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],f=u.transform,g=e.data.field(u.field);s.set(u.field,gC(f,g,n[l]))}return s}function fv(r,e,n){const s=new Map;for(const l of r){const u=l.transform,f=n.data.field(l.field);s.set(l.field,mC(u,f,e))}return s}class Wm extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TC extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&vC(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Pl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Pl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=_T();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(l.key)?null:g;const _=AT(f,g);_!==null&&s.set(l.key,_),f.isValidDocument()||f.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,((n,s)=>cv(n,s)))&&ro(this.baseMutations,e.baseMutations,((n,s)=>cv(n,s)))}}class eg{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return uC})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new eg(e,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,ze;function wC(r){switch(r){case Y.OK:return Te(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function xT(r){if(r===void 0)return ar("GRPC error has no .code"),Y.UNKNOWN;switch(r){case Rt.OK:return Y.OK;case Rt.CANCELLED:return Y.CANCELLED;case Rt.UNKNOWN:return Y.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return Y.INTERNAL;case Rt.UNAVAILABLE:return Y.UNAVAILABLE;case Rt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Rt.NOT_FOUND:return Y.NOT_FOUND;case Rt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Rt.ABORTED:return Y.ABORTED;case Rt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Rt.DATA_LOSS:return Y.DATA_LOSS;default:return Te(39323,{code:r})}}(ze=Rt||(Rt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new es([4294967295,4294967295],0);function dv(r){const e=xC().encode(r),n=new BE;return n.update(e),new Uint8Array(n.digest())}function mv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new es([n,s],0),new es([l,u],0)]}class tg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(s<0)throw new Nl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=es.fromNumber(this.ge)}ye(e,n,s){let l=e.add(n.multiply(es.fromNumber(s)));return l.compare(CC)===1&&(l=new es([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=dv(e),[s,l]=mv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new tg(u,l,n);return s.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const n=dv(e),[s,l]=mv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Dh(Se.min(),l,new ut(je),or(),Pe())}}class iu{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new iu(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n,s,l){this.be=e,this.removedTargetIds=n,this.key=s,this.De=l}}class CT{constructor(e,n){this.targetId=e,this.Ce=n}}class RT{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class gv{constructor(){this.ve=0,this.Fe=pv(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Te(38017,{changeType:u})}})),new iu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=pv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class RC{constructor(e){this.Ge=e,this.ze=new Map,this.je=or(),this.Je=Bc(),this.He=Bc(),this.Ye=new ut(je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,s=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(vm(u))if(s===0){const f=new pe(u.path);this.et(n,f,Zt.newNoDocument(f,Se.min()))}else Qe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const g=this.ut(e),_=g?this.ct(g,e,f):1;if(_!==0){this.it(n);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let f,g;try{f=rs(s).toUint8Array()}catch(_){if(_ instanceof WE)return io("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new tg(f,l,u)}catch(_){return io(_ instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&vm(g.target)){const _=new pe(g.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,Zt.newNoDocument(_,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new Dh(e,n,this.Ye,this.je,s);return this.je=or(),this.Je=Bc(),this.He=Bc(),this.Ye=new ut(je),l}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new gv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Bc(){return new ut(pe.comparator)}function pv(){return new ut(pe.comparator)}const IC={asc:"ASCENDING",desc:"DESCENDING"},NC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DC={and:"AND",or:"OR"};class OC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bm(r,e){return r.useProto3Json||Ah(e)?e:{value:e}}function fh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function kC(r,e){return fh(r,e.toTimestamp())}function Ni(r){return Qe(!!r,49232),Se.fromTimestamp((function(n){const s=is(n);return new st(s.seconds,s.nanos)})(r))}function ng(r,e){return Sm(r,e).canonicalString()}function Sm(r,e){const n=(function(l){return new nt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?n:n.child(e)}function NT(r){const e=nt.fromString(r);return Qe(VT(e),10190,{key:e.toString()}),e}function Am(r,e){return ng(r.databaseId,e.path)}function tm(r,e){const n=NT(e);if(n.get(1)!==r.databaseId.projectId)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(OT(n))}function DT(r,e){return ng(r.databaseId,e)}function MC(r){const e=NT(r);return e.length===4?nt.emptyPath():OT(e)}function wm(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function OT(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function yv(r,e,n){return{name:Am(r,e),fields:n.value.mapValue.fields}}function VC(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Qe(b===void 0||typeof b=="string",58123),Yt.fromBase64String(b||"")):(Qe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Yt.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(y){const b=y.code===void 0?Y.UNKNOWN:xT(y.code);return new le(b,y.message||"")})(f);n=new RT(s,l,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=tm(r,s.document.name),u=Ni(s.document.updateTime),f=s.document.createTime?Ni(s.document.createTime):Se.min(),g=new mn({mapValue:{fields:s.document.fields}}),_=Zt.newFoundDocument(l,u,f,g),y=s.targetIds||[],b=s.removedTargetIds||[];n=new $c(y,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=tm(r,s.document),u=s.readTime?Ni(s.readTime):Se.min(),f=Zt.newNoDocument(l,u),g=s.removedTargetIds||[];n=new $c([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=tm(r,s.document),u=s.removedTargetIds||[];n=new $c([],u,l,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new AC(l,u),g=s.targetId;n=new CT(g,f)}}return n}function jC(r,e){let n;if(e instanceof nu)n={update:yv(r,e.key,e.value)};else if(e instanceof Wm)n={delete:Am(r,e.key)};else if(e instanceof hs)n={update:yv(r,e.key,e.data),updateMask:GC(e.fieldMask)};else{if(!(e instanceof TC))return Te(16599,{Vt:e.type});n={verify:Am(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const g=f.transform;if(g instanceof Ql)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Kl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Yl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof hh)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw Te(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:kC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(r,e.precondition)),n}function PC(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(l,u){let f=l.updateTime?Ni(l.updateTime):Ni(u);return f.isEqual(Se.min())&&(f=Ni(u)),new _C(f,l.transformResults||[])})(n,e)))):[]}function LC(r,e){return{documents:[DT(r,e.path)]}}function UC(r,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=DT(r,l);const u=(function(y){if(y.length!==0)return MT(ni.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((b=>(function(R){return{field:Xa(R.field),direction:qC(R.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=bm(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function zC(r){let e=MC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Qe(s===1,65062);const b=n.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(A){const R=kT(A);return R instanceof ni&&uT(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((R=>(function(Z){return new Gl(Ja(Z.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(R)))})(n.orderBy));let g=null;n.limit&&(g=(function(A){let R;return R=typeof A=="object"?A.value:A,Ah(R)?null:R})(n.limit));let _=null;n.startAt&&(_=(function(A){const R=!!A.before,B=A.values||[];return new ch(B,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(A){const R=!A.before,B=A.values||[];return new ch(B,R)})(n.endAt)),rC(e,l,f,u,g,"F",_,y)}function BC(r,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ja(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ja(n.unaryFilter.field);return It.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ja(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(n){return It.create(Ja(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((s=>kT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(r):Te(30097,{filter:r})}function qC(r){return IC[r]}function HC(r){return NC[r]}function FC(r){return DC[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function Ja(r){return Kt.fromServerFormat(r.fieldPath)}function MT(r){return r instanceof It?(function(n){if(n.op==="=="){if(rv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(iv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(iv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:HC(n.op),value:n.value}}})(r):r instanceof ni?(function(n){const s=n.getFilters().map((l=>MT(l)));return s.length===1?s[0]:{compositeFilter:{op:FC(n.op),filters:s}}})(r):Te(54877,{filter:r})}function GC(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function VT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,s,l,u=Se.min(),f=Se.min(),g=Yt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.yt=e}}function KC(r){const e=zC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Tm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.Cn=new XC}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(ns.min())}updateCollectionGroup(e,n,s){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class XC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Mt(nt.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Mt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jT=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(jT,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new oo(0)}static cr(){return new oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="LruGarbageCollector",JC=1048576;function Ev([r,e],[n,s]){const l=je(r,n);return l===0?je(e,s):l}class $C{constructor(e){this.Ir=e,this.buffer=new Mt(Ev),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Ev(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(vv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){po(n)?ce(vv,"Ignoring IndexedDB error during garbage collection: ",n):await go(n)}await this.Vr(3e5)}))}}class WC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Sh.ce);const s=new $C(n);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(_v)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_v):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,l,u,f,g,_,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,f=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(s=A,g=Date.now(),this.removeTargets(e,s,n)))).next((A=>(u=A,_=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(y=Date.now(),Ka()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${u} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A}))))}}function eR(r,e){return new WC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.changes=new ta((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(s!==null&&Pl(s.mutation,l,wn.empty(),st.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const l=Gs();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,s).next((u=>{let f=Il();return u.forEach(((g,_)=>{f=f.insert(g,_.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Gs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(e,n,s,l){let u=or();const f=jl(),g=(function(){return jl()})();return n.forEach(((_,y)=>{const b=s.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof hs)?u=u.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),Pl(b.mutation,y,b.mutation.getFieldMask(),st.now())):f.set(y.key,wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((_=>(_.forEach(((y,b)=>f.set(y,b))),n.forEach(((y,b)=>g.set(y,new nR(b,f.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=jl();let l=new ut(((f,g)=>f-g)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const g of f)g.keys().forEach((_=>{const y=n.get(_);if(y===null)return;let b=s.get(_)||wn.empty();b=g.applyToLocalView(y,b),s.set(_,b);const A=(l.get(g.batchId)||Pe()).add(_);l=l.insert(g.batchId,A)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,b=_.value,A=_T();b.forEach((R=>{if(!u.has(R)){const B=AT(n.get(R),s.get(R));B!==null&&A.set(R,B),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return $.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,l){return(function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):$.resolve(Gs());let g=Bl,_=u;return f.next((y=>$.forEach(y,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),u.get(b)?$.resolve():this.remoteDocumentCache.getEntry(e,b).next((R=>{_=_.insert(b,R)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,_,y,Pe()))).next((b=>({batchId:g,changes:yT(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let l=Il();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const u=n.collectionGroup;let f=Il();return this.indexManager.getCollectionParents(e,u).next((g=>$.forEach(g,(_=>{const y=(function(A,R){return new yo(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,_.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next((b=>{b.forEach(((A,R)=>{f=f.insert(A,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,l)))).next((f=>{u.forEach(((_,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,Zt.newInvalidDocument(b)))}));let g=Il();return f.forEach(((_,y)=>{const b=u.get(_);b!==void 0&&Pl(b.mutation,y,wn.empty(),st.now()),Rh(n,y)&&(g=g.insert(_,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Ni(l.createTime)}})(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:KC(l.bundledQuery),readTime:Ni(l.readTime)}})(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.overlays=new ut(pe.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Gs();return $.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((l,u)=>{this.St(e,n,u)})),$.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(e,n,s){const l=Gs(),u=n.length+1,f=new pe(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&_.largestBatchId>s&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new ut(((y,b)=>y-b));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let b=u.get(y.largestBatchId);b===null&&(b=Gs(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=Gs(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=l)););return $.resolve(g)}St(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new SC(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.Qr=new Mt(Ut.$r),this.Ur=new Mt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new pe(new nt([])),s=new Ut(n,e),l=new Ut(n,e+1),u=[];return this.Ur.forEachInRange([s,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new nt([])),s=new Ut(n,e),l=new Ut(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Ut(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||je(e.Yr,n.Yr)}static Kr(e,n){return je(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Ut.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new bC(u,n,s,l);this.mutationQueue.push(f);for(const g of l)this.Zr=this.Zr.add(new Ut(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(f)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.ei(s),u=l<0?0:l;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Km:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),l=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(f=>{const g=this.Xr(f.Yr);u.push(g)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Mt(je);return n.forEach((l=>{const u=new Ut(l,0),f=new Ut(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{s=s.add(g.Yr)}))})),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new pe(u),0);let g=new Mt(je);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),f),$.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(n.mutations,(l=>{const u=new Ut(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ut(n,0),l=this.Zr.firstAfterOrEqual(s);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.ri=e,this.docs=(function(){return new ut(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=or();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():Zt.newInvalidDocument(l))})),$.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=or();const f=n.path,g=new pe(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||jx(Vx(b),s)<=0||(l.has(b.key)||Rh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(e,n,s,l){Te(9500)}ii(e,n){return $.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new uR(this)}getSize(e){return $.resolve(this.size)}}class uR extends tR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.persistence=e,this.si=new ta((n=>Jm(n)),$m),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new ig,this.targetCount=0,this.ai=oo.ur()}forEachTarget(e,n){return this.si.forEach(((s,l)=>n(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new oo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),$.waitFor(u).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return $.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),$.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),$.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return $.resolve(s)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sh(0),this.li=!1,this.li=!0,this.hi=new aR,this.referenceDelegate=e(this),this.Pi=new cR(this),this.indexManager=new YC,this.remoteDocumentCache=(function(l){return new lR(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new QC(n),this.Ii=new rR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new oR(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const l=new hR(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return $.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class hR extends Lx{constructor(e){super(),this.currentSequenceNumber=e}}class rg{constructor(e){this.persistence=e,this.Ri=new ig,this.Vi=null}static mi(e){return new rg(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),$.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(s=>{const l=pe.fromPath(s);return this.gi(e,l).next((u=>{u||n.removeEntry(l,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class dh{constructor(e,n){this.persistence=e,this.pi=new ta((s=>Bx(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=eR(this,n)}static mi(e,n){return new dh(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((l=>s+l))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return $.forEach(this.pi,((s,l)=>this.br(e,s,l).next((u=>u?$.resolve():n(l)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,n).next((g=>{g||(s++,u.removeEntry(f,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yc(e.data.value)),n}br(e,n,s){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=l}static As(e,n){let s=Pe(),l=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new sg(e,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qS()?8:Ux(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,l){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,l,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new fR;return this.Ss(e,n,f).next((g=>{if(u.result=g,this.Vs)return this.bs(e,n,f,g.size)}))})).next((()=>u.result))}bs(e,n,s,l){return s.documentReadCount<this.fs?(Ka()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ka()<=Ve.DEBUG&&ce("QueryEngine","Query:",Ya(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ka()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(n))):$.resolve())}ys(e,n){if(lv(n))return $.resolve(null);let s=Ii(n);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Tm(n,null,"F"),s=Ii(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,s).next((_=>{const y=this.Ds(n,g);return this.Cs(n,y,f,_.readTime)?this.ys(e,Tm(n,null,"F")):this.vs(e,y,n,_)}))))})))))}ws(e,n,s,l){return lv(n)||l.isEqual(Se.min())?$.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,l)?$.resolve(null):(Ka()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ya(n)),this.vs(e,f,n,Mx(l,Bl)).next((g=>g)))}))}Ds(e,n){let s=new Mt(gT(e));return n.forEach(((l,u)=>{Rh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,s){return Ka()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.ps.getDocumentsMatchingQuery(e,n,ns.min(),s)}vs(e,n,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="LocalStore",mR=3e8;class gR{constructor(e,n,s,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ut(je),this.xs=new ta((u=>Jm(u)),$m),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function pR(r,e,n,s){return new gR(r,e,n,s)}async function LT(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],g=[];let _=Pe();for(const y of l){f.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of u){g.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return n.localDocuments.getDocuments(s,_).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:g})))}))}))}function yR(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,b){const A=y.batch,R=A.keys();let B=$.resolve();return R.forEach((Z=>{B=B.next((()=>b.getEntry(_,Z))).next((ee=>{const Q=y.docVersions.get(Z);Qe(Q!==null,48541),ee.version.compareTo(Q)<0&&(A.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),b.addEntry(ee)))}))})),B.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let _=Pe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function UT(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function _R(r,e){const n=we(r),s=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];e.targetChanges.forEach(((b,A)=>{const R=l.get(A);if(!R)return;g.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,A))));let B=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?B=B.withResumeToken(Yt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):b.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(b.resumeToken,s)),l=l.insert(A,B),(function(ee,Q,W){return ee.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=mR?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(R,B,b)&&g.push(n.Pi.updateTargetData(u,B))}));let _=or(),y=Pe();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),g.push(vR(u,f,e.documentUpdates).next((b=>{_=b.ks,y=b.qs}))),!s.isEqual(Se.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(b)}return $.waitFor(g).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,_,y))).next((()=>_))})).then((u=>(n.Ms=l,u)))}function vR(r,e,n){let s=Pe(),l=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=or();return n.forEach(((g,_)=>{const y=u.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(Se.min())?(e.removeEntry(g,_.readTime),f=f.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),f=f.insert(g,_)):ce(ag,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:f,qs:l}}))}function ER(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Km),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function TR(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,e).next((u=>u?(l=u,$.resolve(l)):n.Pi.allocateTargetId(s).next((f=>(l=new Jr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function xm(r,e,n){const s=we(r),l=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!po(f))throw f;ce(ag,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function Tv(r,e,n){const s=we(r);let l=Se.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,y,b){const A=we(_),R=A.xs.get(b);return R!==void 0?$.resolve(A.Ms.get(R)):A.Pi.getTargetData(y,b)})(s,f,Ii(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,g.targetId).next((_=>{u=_}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?l:Se.min(),n?u:Pe()))).next((g=>(bR(s,aC(e),g),{documents:g,Qs:u})))))}function bR(r,e,n){let s=r.Os.get(e)||Se.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class bv{constructor(){this.activeTargetIds=fC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SR{constructor(){this.Mo=new bv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new bv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="ConnectivityMonitor";class Av{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(Sv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(Sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc=null;function Cm(){return qc===null?qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():qc++,"0x"+qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="RestConnection",wR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===lh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,n,s,l,u){const f=Cm(),g=this.zo(e,n.toUriEncodedString());ce(nm,`Sending RPC '${e}' ${f}:`,g,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,u);const{host:y}=new URL(g),b=co(y);return this.Jo(e,g,_,s,b).then((A=>(ce(nm,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw io(nm,`RPC '${e}' ${f} failed with error: `,A,"url: ",g,"request:",s),A}))}Ho(e,n,s,l,u,f){return this.Go(e,n,s,l,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),s&&s.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const s=wR[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class RR extends xR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,l,u){const f=Cm();return new Promise(((g,_)=>{const y=new qE;y.setWithCredentials(!0),y.listenOnce(HE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Kc.NO_ERROR:const A=y.getResponseJson();ce(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),g(A);break;case Kc.TIMEOUT:ce(Jt,`RPC '${e}' ${f} timed out`),_(new le(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const R=y.getStatus();if(ce(Jt,`RPC '${e}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const Z=B==null?void 0:B.error;if(Z&&Z.status&&Z.message){const ee=(function(W){const ne=W.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ne)>=0?ne:Y.UNKNOWN})(Z.status);_(new le(ee,Z.message))}else _(new le(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new le(Y.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(Jt,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(l);ce(Jt,`RPC '${e}' ${f} sending request:`,l),y.send(n,"POST",b,s,15)}))}T_(e,n,s){const l=Cm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=QE(),g=GE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,n,s),_.encodeInitMessageHeaders=!0;const b=u.join("");ce(Jt,`Creating RPC '${e}' stream ${l}: ${b}`,_);const A=f.createWebChannel(b,_);this.I_(A);let R=!1,B=!1;const Z=new CR({Yo:Q=>{B?ce(Jt,`Not sending because RPC '${e}' stream ${l} is closed:`,Q):(R||(ce(Jt,`Opening RPC '${e}' stream ${l} transport.`),A.open(),R=!0),ce(Jt,`RPC '${e}' stream ${l} sending:`,Q),A.send(Q))},Zo:()=>A.close()}),ee=(Q,W,ne)=>{Q.listen(W,(te=>{try{ne(te)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return ee(A,Rl.EventType.OPEN,(()=>{B||(ce(Jt,`RPC '${e}' stream ${l} transport opened.`),Z.o_())})),ee(A,Rl.EventType.CLOSE,(()=>{B||(B=!0,ce(Jt,`RPC '${e}' stream ${l} transport closed`),Z.a_(),this.E_(A))})),ee(A,Rl.EventType.ERROR,(Q=>{B||(B=!0,io(Jt,`RPC '${e}' stream ${l} transport errored. Name:`,Q.name,"Message:",Q.message),Z.a_(new le(Y.UNAVAILABLE,"The operation could not be completed")))})),ee(A,Rl.EventType.MESSAGE,(Q=>{var W;if(!B){const ne=Q.data[0];Qe(!!ne,16349);const te=ne,ue=(te==null?void 0:te.error)||((W=te[0])==null?void 0:W.error);if(ue){ce(Jt,`RPC '${e}' stream ${l} received error:`,ue);const fe=ue.status;let _e=(function(C){const k=Rt[C];if(k!==void 0)return xT(k)})(fe),I=ue.message;_e===void 0&&(_e=Y.INTERNAL,I="Unknown error status: "+fe+" with message "+ue.message),B=!0,Z.a_(new le(_e,I)),A.close()}else ce(Jt,`RPC '${e}' stream ${l} received:`,ne),Z.u_(ne)}})),ee(g,FE.STAT_EVENT,(Q=>{Q.stat===mm.PROXY?ce(Jt,`RPC '${e}' stream ${l} detected buffering proxy`):Q.stat===mm.NOPROXY&&ce(Jt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(r){return new OC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n,s=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&ce("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="PersistentStream";class BT{constructor(e,n,s,l,u,f,g,_){this.Mi=e,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{e((()=>{const l=new le(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(wv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IR extends BT{constructor(e,n,s,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=VC(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Ni(f.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=wm(this.serializer),n.addTarget=(function(u,f){let g;const _=f.target;if(g=vm(_)?{documents:LC(u,_)}:{query:UC(u,_).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=IT(u,f.resumeToken);const y=bm(u,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){g.readTime=fh(u,f.snapshotVersion.toTimestamp());const y=bm(u,f.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const s=BC(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=wm(this.serializer),n.removeTarget=e,this.q_(n)}}class NR extends BT{constructor(e,n,s,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=PC(e.writeResults,e.commitTime),s=Ni(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=wm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>jC(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{}class OR extends DR{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Sm(n,s),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Y.UNKNOWN,u.toString())}))}Ho(e,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,Sm(n,s),l,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(Y.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ar(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class MR{constructor(e,n,s,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{na(this)&&(ce(Ws,"Restarting streams for network reachability change."),await(async function(_){const y=we(_);y.Ea.add(4),await ru(y),y.Ra.set("Unknown"),y.Ea.delete(4),await kh(y)})(this))}))})),this.Ra=new kR(s,l)}}async function kh(r){if(na(r))for(const e of r.da)await e(!0)}async function ru(r){for(const e of r.da)await e(!1)}function qT(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cg(n)?ug(n):_o(n).O_()&&lg(n,e))}function og(r,e){const n=we(r),s=_o(n);n.Ia.delete(e),s.O_()&&HT(n,e),n.Ia.size===0&&(s.O_()?s.L_():na(n)&&n.Ra.set("Unknown"))}function lg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_o(r).Y_(e)}function HT(r,e){r.Va.Ue(e),_o(r).Z_(e)}function ug(r){r.Va=new RC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),_o(r).start(),r.Ra.ua()}function cg(r){return na(r)&&!_o(r).x_()&&r.Ia.size>0}function na(r){return we(r).Ea.size===0}function FT(r){r.Va=void 0}async function VR(r){r.Ra.set("Online")}async function jR(r){r.Ia.forEach(((e,n)=>{lg(r,e)}))}async function PR(r,e){FT(r),cg(r)?(r.Ra.ha(e),ug(r)):r.Ra.set("Unknown")}async function LR(r,e,n){if(r.Ra.set("Online"),e instanceof RT&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ia.delete(g),l.Va.removeTarget(g))})(r,e)}catch(s){ce(Ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await mh(r,s)}else if(e instanceof $c?r.Va.Ze(e):e instanceof CT?r.Va.st(e):r.Va.tt(e),!n.isEqual(Se.min()))try{const s=await UT(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(_.resumeToken,f))}})),g.targetMismatches.forEach(((_,y)=>{const b=u.Ia.get(_);if(!b)return;u.Ia.set(_,b.withResumeToken(Yt.EMPTY_BYTE_STRING,b.snapshotVersion)),HT(u,_);const A=new Jr(b.target,_,y,b.sequenceNumber);lg(u,A)})),u.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(s){ce(Ws,"Failed to raise snapshot:",s),await mh(r,s)}}async function mh(r,e,n){if(!po(e))throw e;r.Ea.add(1),await ru(r),r.Ra.set("Offline"),n||(n=()=>UT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(Ws,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await kh(r)}))}function GT(r,e){return e().catch((n=>mh(r,n,e)))}async function Mh(r){const e=we(r),n=as(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Km;for(;UR(e);)try{const l=await ER(e.localStore,s);if(l===null){e.Ta.length===0&&n.L_();break}s=l.batchId,zR(e,l)}catch(l){await mh(e,l)}QT(e)&&KT(e)}function UR(r){return na(r)&&r.Ta.length<10}function zR(r,e){r.Ta.push(e);const n=as(r);n.O_()&&n.X_&&n.ea(e.mutations)}function QT(r){return na(r)&&!as(r).x_()&&r.Ta.length>0}function KT(r){as(r).start()}async function BR(r){as(r).ra()}async function qR(r){const e=as(r);for(const n of r.Ta)e.ea(n.mutations)}async function HR(r,e,n){const s=r.Ta.shift(),l=eg.from(s,e,n);await GT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Mh(r)}async function FR(r,e){e&&as(r).X_&&await(async function(s,l){if((function(f){return wC(f)&&f!==Y.ABORTED})(l.code)){const u=s.Ta.shift();as(s).B_(),await GT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Mh(s)}})(r,e),QT(r)&&KT(r)}async function xv(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ce(Ws,"RemoteStore received new credentials");const s=na(n);n.Ea.add(3),await ru(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await kh(n)}async function GR(r,e){const n=we(r);e?(n.Ea.delete(2),await kh(n)):e||(n.Ea.add(2),await ru(n),n.Ra.set("Unknown"))}function _o(r){return r.ma||(r.ma=(function(n,s,l){const u=we(n);return u.sa(),new IR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:VR.bind(null,r),t_:jR.bind(null,r),r_:PR.bind(null,r),H_:LR.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),cg(r)?ug(r):r.Ra.set("Unknown")):(await r.ma.stop(),FT(r))}))),r.ma}function as(r){return r.fa||(r.fa=(function(n,s,l){const u=we(n);return u.sa(),new NR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:BR.bind(null,r),r_:FR.bind(null,r),ta:qR.bind(null,r),na:HR.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Mh(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(Ws,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,u){const f=Date.now()+s,g=new hg(e,n,f,l,u);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(r,e){if(ar("AsyncQueue",`${e}: ${r}`),po(r))return new le(Y.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static emptySet(e){return new to(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Il(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new to;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.ga=new ut(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class lo{constructor(e,n,s,l,u,f,g,_,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,l,u){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new lo(e,n,to.emptySet(n),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class KR{constructor(){this.queries=Rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=we(n),u=l.queries;l.queries=Rv(),u.forEach(((f,g)=>{for(const _ of g.Sa)_.onError(s)}))})(this,new le(Y.ABORTED,"Firestore shutting down"))}}function Rv(){return new ta((r=>mT(r)),Ch)}async function dg(r,e){const n=we(r);let s=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(s=2):(u=new QR,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=fg(f,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&gg(n)}async function mg(r,e){const n=we(r),s=e.query;let l=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function YR(r,e){const n=we(r);let s=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const g of f.Sa)g.Fa(l)&&(s=!0);f.wa=l}}s&&gg(n)}function XR(r,e,n){const s=we(r),l=s.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(e)}function gg(r){r.Ca.forEach((e=>{e.next()}))}var Rm,Iv;(Iv=Rm||(Rm={})).Ma="default",Iv.Cache="cache";class pg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new lo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.key=e}}class XT{constructor(e){this.key=e}}class JR{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=gT(e),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Cv,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,A)=>{const R=l.get(b),B=Rh(this.query,A)?A:null,Z=!!R&&this.mutatedKeys.has(R.key),ee=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Q=!1;R&&B?R.data.isEqual(B.data)?Z!==ee&&(s.track({type:3,doc:B}),Q=!0):this.su(R,B)||(s.track({type:2,doc:B}),Q=!0,(_&&this.eu(B,_)>0||y&&this.eu(B,y)<0)&&(g=!0)):!R&&B?(s.track({type:0,doc:B}),Q=!0):R&&!B&&(s.track({type:1,doc:R}),Q=!0,(_||y)&&(g=!0)),Q&&(B?(f=f.add(B),u=ee?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,A)=>(function(B,Z){const ee=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:Q})}};return ee(B)-ee(Z)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(s),l=l??!1;const g=n&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,f.length!==0||y?{snapshot:new lo(this.query,e.tu,u,f,e.mutatedKeys,_===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Cv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new XT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new YT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yg="SyncEngine";class $R{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class ZR{constructor(e){this.key=e,this.hu=!1}}class WR{constructor(e,n,s,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ta((g=>mT(g)),Ch),this.Iu=new Map,this.Eu=new Set,this.du=new ut(pe.comparator),this.Au=new Map,this.Ru=new ig,this.Vu={},this.mu=new Map,this.fu=oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eI(r,e,n=!0){const s=tb(r);let l;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await JT(s,e,n,!0),l}async function tI(r,e){const n=tb(r);await JT(n,e,!0,!1)}async function JT(r,e,n,s){const l=await TR(r.localStore,Ii(e)),u=l.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await nI(r,e,u,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&qT(r.remoteStore,l),g}async function nI(r,e,n,s,l){r.pu=(A,R,B)=>(async function(ee,Q,W,ne){let te=Q.view.ru(W);te.Cs&&(te=await Tv(ee.localStore,Q.query,!1).then((({documents:I})=>Q.view.ru(I,te))));const ue=ne&&ne.targetChanges.get(Q.targetId),fe=ne&&ne.targetMismatches.get(Q.targetId)!=null,_e=Q.view.applyChanges(te,ee.isPrimaryClient,ue,fe);return Dv(ee,Q.targetId,_e.au),_e.snapshot})(r,A,R,B);const u=await Tv(r.localStore,e,!0),f=new JR(e,u.Qs),g=f.ru(u.documents),_=iu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=f.applyChanges(g,r.isPrimaryClient,_);Dv(r,n,y.au);const b=new $R(e,n,f);return r.Tu.set(e,b),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function iI(r,e,n){const s=we(r),l=s.Tu.get(e),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((f=>!Ch(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await xm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&og(s.remoteStore,l.targetId),Im(s,l.targetId)})).catch(go)):(Im(s,l.targetId),await xm(s.localStore,l.targetId,!0))}async function rI(r,e){const n=we(r),s=n.Tu.get(e),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),og(n.remoteStore,s.targetId))}async function sI(r,e,n){const s=fI(r);try{const l=await(function(f,g){const _=we(f),y=st.now(),b=g.reduce(((B,Z)=>B.add(Z.key)),Pe());let A,R;return _.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let Z=or(),ee=Pe();return _.Ns.getEntries(B,b).next((Q=>{Z=Q,Z.forEach(((W,ne)=>{ne.isValidDocument()||(ee=ee.add(W))}))})).next((()=>_.localDocuments.getOverlayedDocuments(B,Z))).next((Q=>{A=Q;const W=[];for(const ne of g){const te=EC(ne,A.get(ne.key).overlayedDocument);te!=null&&W.push(new hs(ne.key,te,aT(te.value.mapValue),Bn.exists(!0)))}return _.mutationQueue.addMutationBatch(B,y,W,g)})).next((Q=>{R=Q;const W=Q.applyToLocalDocumentSet(A,ee);return _.documentOverlayCache.saveOverlays(B,Q.batchId,W)}))})).then((()=>({batchId:R.batchId,changes:yT(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(f,g,_){let y=f.Vu[f.currentUser.toKey()];y||(y=new ut(je)),y=y.insert(g,_),f.Vu[f.currentUser.toKey()]=y})(s,l.batchId,n),await su(s,l.changes),await Mh(s.remoteStore)}catch(l){const u=fg(l,"Failed to persist write");n.reject(u)}}async function $T(r,e){const n=we(r);try{const s=await _R(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(Qe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Qe(f.hu,14607):l.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await su(n,s,e)}catch(s){await go(s)}}function Nv(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,f)=>{const g=f.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const _=we(f);_.onlineState=g;let y=!1;_.queries.forEach(((b,A)=>{for(const R of A.Sa)R.va(g)&&(y=!0)})),y&&gg(_)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function aI(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Au.get(e),u=l&&l.key;if(u){let f=new ut(pe.comparator);f=f.insert(u,Zt.newNoDocument(u,Se.min()));const g=Pe().add(u),_=new Dh(Se.min(),new Map,new ut(je),f,g);await $T(s,_),s.du=s.du.remove(u),s.Au.delete(e),_g(s)}else await xm(s.localStore,e,!1).then((()=>Im(s,e,n))).catch(go)}async function oI(r,e){const n=we(r),s=e.batch.batchId;try{const l=await yR(n.localStore,e);WT(n,s,null),ZT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await su(n,l)}catch(l){await go(l)}}async function lI(r,e,n){const s=we(r);try{const l=await(function(f,g){const _=we(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,g).next((A=>(Qe(A!==null,37113),b=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(s.localStore,e);WT(s,e,n),ZT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await su(s,l)}catch(l){await go(l)}}function ZT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function WT(r,e,n){const s=we(r);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function Im(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||eb(r,s)}))}function eb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(og(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),_g(r))}function Dv(r,e,n){for(const s of n)s instanceof YT?(r.Ru.addReference(s.key,e),uI(r,s)):s instanceof XT?(ce(yg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||eb(r,s.key)):Te(19791,{wu:s})}function uI(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(yg,"New document in limbo: "+n),r.Eu.add(s),_g(r))}function _g(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(nt.fromString(e)),s=r.fu.next();r.Au.set(s,new ZR(n)),r.du=r.du.insert(n,s),qT(r.remoteStore,new Jr(Ii(xh(n.path)),s,"TargetPurposeLimboResolution",Sh.ce))}}async function su(r,e,n){const s=we(r),l=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,_)=>{f.push(s.pu(_,e,n).then((y=>{var b;if((y||n)&&s.isPrimaryClient){const A=y?!y.fromCache:(b=n==null?void 0:n.targetChanges.get(_.targetId))==null?void 0:b.current;s.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=sg.As(_.targetId,y);u.push(A)}})))})),await Promise.all(f),s.Pu.H_(l),await(async function(_,y){const b=we(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(y,(R=>$.forEach(R.Es,(B=>b.persistence.referenceDelegate.addReference(A,R.targetId,B))).next((()=>$.forEach(R.ds,(B=>b.persistence.referenceDelegate.removeReference(A,R.targetId,B)))))))))}catch(A){if(!po(A))throw A;ce(ag,"Failed to update sequence numbers: "+A)}for(const A of y){const R=A.targetId;if(!A.fromCache){const B=b.Ms.get(R),Z=B.snapshotVersion,ee=B.withLastLimboFreeSnapshotVersion(Z);b.Ms=b.Ms.insert(R,ee)}}})(s.localStore,u))}async function cI(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ce(yg,"User change. New user:",e.toKey());const s=await LT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((g=>{g.forEach((_=>{_.reject(new le(Y.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await su(n,s.Ls)}}function hI(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let l=Pe();const u=n.Iu.get(e);if(!u)return l;for(const f of u){const g=n.Tu.get(f);l=l.unionWith(g.view.nu)}return l}}function tb(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=$T.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aI.bind(null,e),e.Pu.H_=YR.bind(null,e.eventManager),e.Pu.yu=XR.bind(null,e.eventManager),e}function fI(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lI.bind(null,e),e}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return pR(this.persistence,new dR,e.initialUser,this.serializer)}Cu(e){return new PT(rg.mi,this.serializer)}Du(e){return new SR}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class dI extends gh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof dh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ZC(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new PT((s=>dh.mi(s,n)),this.serializer)}}class Nm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Nv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=cI.bind(null,this.syncEngine),await GR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new KR})()}createDatastore(e){const n=Oh(e.databaseInfo.databaseId),s=(function(u){return new RR(u)})(e.databaseInfo);return(function(u,f,g,_){return new OR(u,f,g,_)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,l,u,f,g){return new MR(s,l,u,f,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>Nv(this.syncEngine,n,0)),(function(){return Av.v()?new Av:new AR})())}createSyncEngine(e,n){return(function(l,u,f,g,_,y,b){const A=new WR(l,u,f,g,_,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const u=we(l);ce(Ws,"RemoteStore shutting down."),u.Ea.add(5),await ru(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Nm.provider={build:()=>new Nm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class mI{constructor(e,n,s,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=$t.UNAUTHENTICATED,this.clientId=Qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(os,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(os,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=fg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function rm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(os,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await LT(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Ov(r,e){r.asyncQueue.verifyOperationInProgress();const n=await gI(r);ce(os,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>xv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>xv(e.remoteStore,l))),r._onlineComponents=e}async function gI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(os,"Using user provided OfflineComponentProvider");try{await rm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await rm(r,new gh)}}else ce(os,"Using default OfflineComponentProvider"),await rm(r,new dI(void 0));return r._offlineComponents}async function nb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(os,"Using user provided OnlineComponentProvider"),await Ov(r,r._uninitializedComponentsProvider._online)):(ce(os,"Using default OnlineComponentProvider"),await Ov(r,new Nm))),r._onlineComponents}function pI(r){return nb(r).then((e=>e.syncEngine))}async function ph(r){const e=await nb(r),n=e.eventManager;return n.onListen=eI.bind(null,e.syncEngine),n.onUnlisten=iI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rI.bind(null,e.syncEngine),n}function yI(r,e,n={}){const s=new ir;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,_,y){const b=new vg({next:R=>{b.Nu(),f.enqueueAndForget((()=>mg(u,A)));const B=R.docs.has(g);!B&&R.fromCache?y.reject(new le(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&R.fromCache&&_&&_.source==="server"?y.reject(new le(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),A=new pg(xh(g.path),b,{includeMetadataChanges:!0,qa:!0});return dg(u,A)})(await ph(r),r.asyncQueue,e,n,s))),s.promise}function _I(r,e,n={}){const s=new ir;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,_,y){const b=new vg({next:R=>{b.Nu(),f.enqueueAndForget((()=>mg(u,A))),R.fromCache&&_.source==="server"?y.reject(new le(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),A=new pg(g,b,{includeMetadataChanges:!0,qa:!0});return dg(u,A)})(await ph(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="firestore.googleapis.com",Mv=!0;class Vv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rb,this.ssl=Mv}else this.host=e.host,this.ssl=e.ssl??Mv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JC)throw new le(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ib(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vh{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Sx;switch(s.type){case"firstParty":return new Cx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=kv.get(n);s&&(ce("ComponentProvider","Removing Datastore"),kv.delete(n),s.terminate())})(this),Promise.resolve()}}function vI(r,e,n,s={}){var y;r=gn(r,Vh);const l=co(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${n}`;l&&(Wv(`https://${g}`),eE("Firestore",!0)),u.host!==rb&&u.host!==g&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:g,ssl:l,emulatorOptions:s};if(!Ys(_,f)&&(r._setSettings(_),s.mockUserToken)){let b,A;if(typeof s.mockUserToken=="string")b=s.mockUserToken,A=$t.MOCK_USER;else{b=kS(s.mockUserToken,(y=r._app)==null?void 0:y.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new le(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $t(R)}r._authCredentials=new Ax(new YE(b,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fs(this.firestore,e,this._query)}}class ft{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(tu(n,ft._jsonSchema))return new ft(e,s||null,new pe(nt.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:Nt("string",ft._jsonSchemaVersion),referencePath:Nt("string")};class ts extends fs{constructor(e,n,s){super(e,n,xh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new pe(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function vo(r,e,...n){if(r=Vt(r),XE("collection","path",e),r instanceof Vh){const s=nt.fromString(e,...n);return Y_(s),new ts(r,null,s)}{if(!(r instanceof ft||r instanceof ts))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return Y_(s),new ts(r.firestore,null,s)}}function au(r,e,...n){if(r=Vt(r),arguments.length===1&&(e=Qm.newId()),XE("doc","path",e),r instanceof Vh){const s=nt.fromString(e,...n);return K_(s),new ft(r,null,new pe(s))}{if(!(r instanceof ft||r instanceof ts))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return K_(s),new ft(r.firestore,r instanceof ts?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="AsyncQueue";class Pv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zT(this,"async_queue_retry"),this._c=()=>{const s=im();s&&ce(jv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!po(e))throw e;ce(jv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ar("INTERNAL UNHANDLED ERROR: ",Lv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=hg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Te(47125,{Pc:Lv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Lv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class lr extends Vh{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new Pv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pv(e),this._firestoreClient=void 0,await e}}}function EI(r,e){const n=typeof r=="object"?r:rE(),s=typeof r=="string"?r:lh,l=jm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=DS("firestore");u&&vI(l,...u)}return l}function jh(r){if(r._terminated)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||TI(r),r._firestoreClient}function TI(r){var s,l,u;const e=r._freezeSettings(),n=(function(g,_,y,b){return new Fx(g,_,y,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,ib(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new mI(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Yt.fromBase64String(e))}catch(n){throw new le(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Nt("string",zn._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(e){if(tu(e,Di._jsonSchema))return new Di(e.latitude,e.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Nt("string",Di._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tu(e,Oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Oi(e.vectorValues);throw new le(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:Nt("string",Oi._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=/^__.*__$/;class SI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new nu(e,this.data,n,this.fieldTransforms)}}class sb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new hs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ab(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class Eg{constructor(e,n,s,l,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Eg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ab(this.Ac)&&bI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class AI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Oh(e)}Cc(e,n,s,l=!1){return new Eg({Ac:e,methodName:n,Dc:s,path:Kt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uh(r){const e=r._freezeSettings(),n=Oh(r._databaseId);return new AI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function ob(r,e,n,s,l,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,l);bg("Data must be an object, but it was:",f,s);const g=lb(s,f);let _,y;if(u.merge)_=new wn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const A of u.mergeFields){const R=Dm(e,A,n);if(!f.contains(R))throw new le(Y.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);cb(b,R)||b.push(R)}_=new wn(b),y=f.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=f.fieldTransforms;return new SI(new mn(g),_,y)}class zh extends Lh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zh}}class Tg extends Lh{_toFieldTransform(e){return new pC(e.path,new Ql)}isEqual(e){return e instanceof Tg}}function wI(r,e,n,s){const l=r.Cc(1,e,n);bg("Data must be an object, but it was:",l,s);const u=[],f=mn.empty();cs(s,((_,y)=>{const b=Sg(e,_,n);y=Vt(y);const A=l.yc(b);if(y instanceof zh)u.push(b);else{const R=ou(y,A);R!=null&&(u.push(b),f.set(b,R))}}));const g=new wn(u);return new sb(f,g,l.fieldTransforms)}function xI(r,e,n,s,l,u){const f=r.Cc(1,e,n),g=[Dm(e,s,n)],_=[l];if(u.length%2!=0)throw new le(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)g.push(Dm(e,u[R])),_.push(u[R+1]);const y=[],b=mn.empty();for(let R=g.length-1;R>=0;--R)if(!cb(y,g[R])){const B=g[R];let Z=_[R];Z=Vt(Z);const ee=f.yc(B);if(Z instanceof zh)y.push(B);else{const Q=ou(Z,ee);Q!=null&&(y.push(B),b.set(B,Q))}}const A=new wn(y);return new sb(b,A,f.fieldTransforms)}function CI(r,e,n,s=!1){return ou(n,r.Cc(s?4:3,e))}function ou(r,e){if(ub(r=Vt(r)))return bg("Unsupported field value:",e,r),lb(r,e);if(r instanceof Lh)return(function(s,l){if(!ab(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let f=0;for(const g of s){let _=ou(g,l.wc(f));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,l){if((s=Vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return dC(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:fh(l.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:fh(l.serializer,u)}}if(s instanceof Di)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:IT(l.serializer,s._byteString)};if(s instanceof ft){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ng(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Oi)return(function(f,g){return{mapValue:{fields:{[rT]:{stringValue:sT},[uh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Zm(g.serializer,y)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${bh(s)}`)})(r,e)}function lb(r,e){const n={};return ZE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(r,((s,l)=>{const u=ou(l,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function ub(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof st||r instanceof Di||r instanceof zn||r instanceof ft||r instanceof Lh||r instanceof Oi)}function bg(r,e,n){if(!ub(n)||!JE(n)){const s=bh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Dm(r,e,n){if((e=Vt(e))instanceof Ph)return e._internalPath;if(typeof e=="string")return Sg(r,e);throw yh("Field path arguments must be of type string or ",r,!1,void 0,n)}const RI=new RegExp("[~\\*/\\[\\]]");function Sg(r,e,n){if(e.search(RI)>=0)throw yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ph(...e.split("."))._internalPath}catch{throw yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function yh(r,e,n,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(u||f)&&(_+=" (found",u&&(_+=` in field ${s}`),f&&(_+=` in document ${l}`),_+=")"),new le(Y.INVALID_ARGUMENT,g+r+_)}function cb(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new II(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ag("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class II extends hb{data(){return super.data()}}function Ag(r,e){return typeof e=="string"?Sg(r,e):e instanceof Ph?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wg{}class db extends wg{}function mb(r,e,...n){let s=[];e instanceof wg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((_=>_ instanceof Cg)).length,g=u.filter((_=>_ instanceof xg)).length;if(f>1||f>0&&g>0)throw new le(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class xg extends db{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new xg(e,n,s)}_apply(e){const n=this._parse(e);return pb(e._query,n),new fs(e.firestore,e.converter,Em(e._query,n))}_parse(e){const n=Uh(e.firestore);return(function(u,f,g,_,y,b,A){let R;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new le(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Bv(A,b);const Z=[];for(const ee of A)Z.push(zv(_,u,ee));R={arrayValue:{values:Z}}}else R=zv(_,u,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Bv(A,b),R=CI(g,f,A,b==="in"||b==="not-in");return It.create(y,b,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Cg extends wg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Cg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let f=l;const g=u.getFlattenedFilters();for(const _ of g)pb(f,_),f=Em(f,_)})(e._query,n),new fs(e.firestore,e.converter,Em(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rg extends db{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Rg(e,n)}_apply(e){const n=(function(l,u,f){if(l.startAt!==null)throw new le(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new le(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gl(u,f)})(e._query,this._field,this._direction);return new fs(e.firestore,e.converter,(function(l,u){const f=l.explicitOrderBy.concat([u]);return new yo(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function gb(r,e="asc"){const n=e,s=Ag("orderBy",r);return Rg._create(s,n)}function zv(r,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new le(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dT(e)&&n.indexOf("/")!==-1)throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!pe.isDocumentKey(s))throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return nv(r,new pe(s))}if(n instanceof ft)return nv(r,n._key);throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bh(n)}.`)}function Bv(r,e){if(!Array.isArray(r)||r.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pb(r,e){const n=(function(l,u){for(const f of l)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class NI{convertValue(e,n="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return cs(e,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,l,u;const n=(u=(l=(s=e.fields)==null?void 0:s[uh].arrayValue)==null?void 0:l.values)==null?void 0:u.map((f=>yt(f.doubleValue)));return new Oi(n)}convertGeoPoint(e){return new Di(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=wh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const n=is(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Qe(VT(s),9688,{name:e});const l=new Hl(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return l.isEqual(n)||ar(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Dl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qs extends hb{constructor(e,n,s,l,u,f){super(e,n,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ag("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:Nt("string",Qs._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Zc extends Qs{data(e={}){return super.data(e)}}class Ks{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Dl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Zc(this._firestore,this._userDataWriter,s.key,s,new Dl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const _=new Zc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const _=new Zc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),b=f.indexOf(g.doc.key)),{type:DI(g.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ks._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(r){r=gn(r,ft);const e=gn(r.firestore,lr);return yI(jh(e),r._key).then((n=>vb(e,r,n)))}Ks._jsonSchemaVersion="firestore/querySnapshot/1.0",Ks._jsonSchema={type:Nt("string",Ks._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Ig extends NI{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function kI(r){r=gn(r,fs);const e=gn(r.firestore,lr),n=jh(e),s=new Ig(e);return fb(r._query),_I(n,r._query).then((l=>new Ks(e,s,r,l)))}function MI(r,e,n){r=gn(r,ft);const s=gn(r.firestore,lr),l=yb(r.converter,e);return Bh(s,[ob(Uh(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Bn.none())])}function VI(r,e,n,...s){r=gn(r,ft);const l=gn(r.firestore,lr),u=Uh(l);let f;return f=typeof(e=Vt(e))=="string"||e instanceof Ph?xI(u,"updateDoc",r._key,e,n,s):wI(u,"updateDoc",r._key,e),Bh(l,[f.toMutation(r._key,Bn.exists(!0))])}function jI(r){return Bh(gn(r.firestore,lr),[new Wm(r._key,Bn.none())])}function Ng(r,e){const n=gn(r.firestore,lr),s=au(r),l=yb(r.converter,e);return Bh(n,[ob(Uh(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Bn.exists(!1))]).then((()=>s))}function _b(r,...e){var _,y,b;r=Vt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Uv(e[s])||(n=e[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Uv(e[s])){const A=e[s];e[s]=(_=A.next)==null?void 0:_.bind(A),e[s+1]=(y=A.error)==null?void 0:y.bind(A),e[s+2]=(b=A.complete)==null?void 0:b.bind(A)}let u,f,g;if(r instanceof ft)f=gn(r.firestore,lr),g=xh(r._key.path),u={next:A=>{e[s]&&e[s](vb(f,r,A))},error:e[s+1],complete:e[s+2]};else{const A=gn(r,fs);f=gn(A.firestore,lr),g=A._query;const R=new Ig(f);u={next:B=>{e[s]&&e[s](new Ks(f,R,A,B))},error:e[s+1],complete:e[s+2]},fb(r._query)}return(function(R,B,Z,ee){const Q=new vg(ee),W=new pg(B,Q,Z);return R.asyncQueue.enqueueAndForget((async()=>dg(await ph(R),W))),()=>{Q.Nu(),R.asyncQueue.enqueueAndForget((async()=>mg(await ph(R),W)))}})(jh(f),g,l,u)}function Bh(r,e){return(function(s,l){const u=new ir;return s.asyncQueue.enqueueAndForget((async()=>sI(await pI(s),l,u))),u.promise})(jh(r),e)}function vb(r,e,n){const s=n.docs.get(e._key),l=new Ig(r);return new Qs(r,l,e._key,s,new Dl(n.hasPendingWrites,n.fromCache),e.converter)}function Dg(){return new Tg("serverTimestamp")}(function(e,n=!0){(function(l){mo=l})(ho),no(new Xs("firestore",((s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),g=new lr(new wx(s.getProvider("auth-internal")),new Rx(f,s.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(y.options.projectId,b)})(f,l),f);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Wr(H_,F_,e),Wr(H_,F_,"esm2020")})();const PI={apiKey:"AIzaSyCke9Nk3UncQP9XetppwTIhb5UaN-tDMgY",authDomain:"site-de-emprego-8d79f.firebaseapp.com",projectId:"site-de-emprego-8d79f",storageBucket:"site-de-emprego-8d79f.firebasestorage.app",messagingSenderId:"537905533556",appId:"1:537905533556:web:6c9507a5014fbb30e7f721"},sn=!0,uo=r=>{if(r==null)return;if(typeof r!="object"||r instanceof Date)return r;if(Array.isArray(r)){const n=r.map(uo).filter(s=>s!==void 0);return n.length>0?n:void 0}const e={};return Object.entries(r).forEach(([n,s])=>{if(s!=null)if(typeof s=="object"&&!(s instanceof Date)){const l=uo(s);l!==void 0&&(e[n]=l)}else e[n]=s}),Object.keys(e).length>0?e:void 0};let ur=null,_t=null;if(sn){const r=iE(PI);ur=Tx(r),_t=EI(r)}const rn=()=>sn,LI=async(r,e,n)=>{if(!sn||!ur||!_t)throw new Error("Firebase not configured");const l=(await s2(ur,e,n)).user,u={id:l.uid,companyName:r,email:e};return await MI(au(_t,"employers",l.uid),u),u},UI=async(r,e)=>{if(!sn||!ur)throw new Error("Firebase not configured");return(await a2(ur,r,e)).user},zI=async()=>{if(!sn||!ur)throw new Error("Firebase not configured");await c2(ur)},BI=r=>!sn||!ur?()=>{}:u2(ur,r),qI=async r=>{if(!sn||!_t)throw new Error("Firebase not configured");const e=au(_t,"employers",r),n=await OI(e);return n.exists()?n.data():null},HI=async(r,e)=>{if(!sn||!_t)throw new Error("Firebase not configured");const s={...uo(r),employerId:e,createdAt:Dg()};return{id:(await Ng(vo(_t,"jobs"),s)).id,...s}},FI=async(r,e)=>{if(!sn||!_t)throw new Error("Firebase not configured");const s={...uo(e),updatedAt:Dg()},l=au(_t,"jobs",r);await VI(l,s)},GI=async r=>{if(!sn||!_t)throw new Error("Firebase not configured");await jI(au(_t,"jobs",r))},QI=async(r,e)=>{if(!sn||!_t)throw new Error("Firebase not configured");const n=vo(_t,"jobs",r,"applications"),l={...uo(e),date:new Date().toISOString()};return{id:(await Ng(n,l)).id,...l}},qv=async r=>{if(!sn||!_t)throw new Error("Firebase not configured");const e=vo(_t,"jobs",r,"applications");return(await kI(e)).docs.map(s=>({id:s.id,...s.data()}))},KI=r=>{if(!sn||!_t)return()=>{};const e=mb(vo(_t,"jobs"),gb("createdAt","desc"));return _b(e,s=>{const l=s.docs.map(u=>({id:u.id,...u.data()}));r(l)})},YI=async r=>{if(!sn||!_t)throw new Error("Firebase not configured");const n={...uo(r),createdAt:Dg()};return{id:(await Ng(vo(_t,"feedback"),n)).id,...n}},XI=r=>{if(!sn||!_t)return()=>{};const e=mb(vo(_t,"feedback"),gb("createdAt","desc"));return _b(e,s=>{const l=s.docs.map(u=>({id:u.id,...u.data()}));r(l)})},JI=()=>{const r=se.useContext(hr),[e,n]=se.useState(!0),[s,l]=se.useState(""),[u,f]=se.useState(""),[g,_]=se.useState(""),[y,b]=se.useState(""),[A,R]=se.useState(null),[B,Z]=se.useState([]),[ee,Q]=se.useState(null),[W,ne]=se.useState({});if(!r)return p.jsx("div",{children:"Carregando..."});const{loggedInEmployer:te,login:ue,logout:fe,register:_e,jobs:I,deleteJob:x,setPage:C}=r,k=se.useMemo(()=>te?I.filter(re=>re.employerId===te.id):[],[I,te]);se.useEffect(()=>{if(!rn()||!te)return;(async()=>{const xe={};for(const F of k)try{const ae=await qv(F.id);xe[F.id]=ae.length}catch{xe[F.id]=0}ne(xe)})()},[k,te]);const D=async re=>{re.preventDefault();const xe=await ue(s,u);b(xe?"":"E-mail ou senha invlidos.")},V=async re=>{re.preventDefault();const xe=await _e(g,s,u);b(xe?"":"Este e-mail j est em uso.")};if(!te)return p.jsx("div",{className:"max-w-md mx-auto mt-10",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-8",children:[p.jsxs("div",{className:"flex justify-center mb-6",children:[p.jsx("button",{onClick:()=>n(!0),className:`px-4 py-2 font-semibold ${e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,children:"Login"}),p.jsx("button",{onClick:()=>n(!1),className:`px-4 py-2 font-semibold ${e?"text-gray-500":"text-blue-600 border-b-2 border-blue-600"}`,children:"Cadastro"})]}),p.jsxs("form",{onSubmit:e?D:V,className:"space-y-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 dark:text-white",children:e?"Acesso do Empregador":"Cadastre sua Empresa"}),!e&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome da Empresa"}),p.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Gv,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"text",value:g,onChange:re=>_(re.target.value),required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"E-mail"}),p.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(ES,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"email",value:s,onChange:re=>l(re.target.value),required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Senha"}),p.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(TS,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"password",value:u,onChange:re=>f(re.target.value),required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600"})]})]}),y&&p.jsx("p",{className:"text-red-500 text-sm text-center",children:y}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{type:"submit",className:"flex-1 flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e?"Entrar":"Cadastrar"}),p.jsx("button",{type:"button",onClick:()=>C("home"),className:"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 dark:bg-gray-600 dark:text-gray-200 dark:border-gray-500 dark:hover:bg-gray-500",children:"Cancelar"})]})]})]})});const w=async re=>{if(R(re),rn())try{const xe=await qv(re.id);Z(xe)}catch{Z([])}else Z(re.applications||[])};return A?p.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6",children:[p.jsx("button",{onClick:()=>R(null),className:"mb-4 text-blue-600 dark:text-blue-400 hover:underline",children:" Voltar para Vagas"}),p.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Candidatos para: ",A.title]}),B.length>0?p.jsx("div",{className:"space-y-4",children:B.map(re=>p.jsxs("div",{className:"p-4 border rounded-md dark:border-gray-700",children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Nome:"})," ",re.fullName]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Email:"})," ",p.jsx("a",{href:`mailto:${re.email}`,className:"text-blue-500 hover:underline",children:re.email})]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Telefone:"})," ",p.jsx("a",{href:`tel:${re.phone}`,className:"text-blue-500 hover:underline",children:re.phone})]}),re.resumeFile&&p.jsxs("p",{children:[p.jsx("strong",{children:"Currculo (Arquivo):"})," ",p.jsx("a",{href:re.resumeFile.content,download:re.resumeFile.name,className:"text-blue-500 hover:underline",children:re.resumeFile.name})]}),re.resumeText&&p.jsxs("div",{className:"mt-2",children:[p.jsx("strong",{children:"Currculo (Texto):"}),p.jsx("pre",{className:"mt-1 p-2 bg-gray-100 dark:bg-gray-700 rounded whitespace-pre-wrap font-sans",children:re.resumeText})]})]},re.id))}):p.jsx("p",{children:"Nenhum candidato ainda."})]}):p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h1",{className:"text-3xl font-bold",children:"Painel do Empregador"}),p.jsx("button",{onClick:fe,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700",children:"Sair"})]}),p.jsxs("p",{className:"text-xl",children:["Bem-vindo(a), ",te.companyName,"!"]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:ee?`Editando Vaga: "${ee.title}"`:"Publicar Nova Vaga"}),p.jsx(vS,{jobToEdit:ee,onFinish:()=>Q(null)})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Suas Vagas Publicadas"}),p.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:k.length>0?k.map(re=>p.jsxs("div",{className:"p-4 border rounded-md dark:border-gray-700 flex justify-between items-center gap-2",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold",children:re.title}),p.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[re.location," - ",W[re.id]??re.applications.length," candidato(s)"]})]}),p.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[p.jsx("button",{onClick:()=>Q(re),className:"p-2 text-sm text-white bg-yellow-500 rounded-full hover:bg-yellow-600",title:"Editar Vaga",children:p.jsx(bS,{className:"h-4 w-4"})}),p.jsx("button",{onClick:()=>{window.confirm(`Tem certeza que deseja excluir esta vaga?
Esta ao no poder ser desfeita.`)&&x(re.id)},className:"p-2 text-sm text-white bg-red-600 rounded-full hover:bg-red-700",title:"Excluir Vaga",children:p.jsx(km,{className:"h-4 w-4"})}),p.jsx("button",{onClick:()=>w(re),className:"px-3 py-1 text-sm text-white bg-blue-600 rounded hover:bg-blue-700",children:"Ver Candidatos"})]})]},re.id)):p.jsx("p",{children:"Voc ainda no publicou nenhuma vaga."})})]})]})]})},$I=()=>{const r=se.useContext(hr);if(!r)return p.jsx("div",{children:"Carregando..."});const{newsContent:e}=r;return p.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6 md:p-8",children:[p.jsx("h1",{className:"text-3xl font-bold mb-6 text-blue-600 dark:text-blue-400",children:"ltimas Notcias e Oportunidades"}),p.jsx("div",{className:"space-y-6",children:e.map((n,s)=>p.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:n.title}),p.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:n.description}),p.jsxs("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center font-semibold text-blue-600 dark:text-blue-400 hover:underline",children:["Ler mais em ",n.source]})]},s))})]})},ZI=()=>{const r=se.useContext(hr);if(!r)return p.jsx("div",{children:"Carregando..."});const{aboutContent:e}=r;return p.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6 md:p-8",children:p.jsx("div",{className:"prose dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:e}})})},WI=()=>{const r=se.useContext(hr),[e,n]=se.useState(!0),[s,l]=se.useState(""),[u,f]=se.useState(""),[g,_]=se.useState(""),[y,b]=se.useState(""),[A,R]=se.useState(()=>{try{const w=localStorage.getItem("feedbackUser");return w?JSON.parse(w):null}catch{return null}}),[B,Z]=se.useState("sugestao"),[ee,Q]=se.useState(""),[W,ne]=se.useState([]),[te,ue]=se.useState(!1),[fe,_e]=se.useState(!1),[I,x]=se.useState("recent");if(se.useEffect(()=>{if(!rn())return;const w=XI(re=>{ne(re)});return()=>w()},[]),!r)return p.jsx("div",{children:"Carregando..."});const C=w=>{if(w.preventDefault(),!s||!u){b("Preencha e-mail e senha.");return}const re={email:s,name:s.split("@")[0]};R(re);try{localStorage.setItem("feedbackUser",JSON.stringify(re))}catch{}b(""),l(""),f("")},k=w=>{if(w.preventDefault(),!g||!s||!u){b("Preencha todos os campos.");return}if(u.length<6){b("Senha deve ter pelo menos 6 caracteres.");return}const re={email:s,name:g};R(re);try{localStorage.setItem("feedbackUser",JSON.stringify(re))}catch{}b(""),_(""),l(""),f("")},D=()=>{R(null);try{localStorage.removeItem("feedbackUser")}catch{}},V=async w=>{if(w.preventDefault(),!ee.trim()){b("Escreva uma mensagem.");return}ue(!0);const re={id:`fb-${Date.now()}`,name:A.name,email:A.email,type:B,message:ee,date:new Date().toISOString()};try{if(rn())try{await YI(re)}catch(xe){console.error("Firestore error:",xe),b("Erro ao enviar feedback. Tente novamente."),ue(!1);return}else{b("Firebase no est configurado."),ue(!1);return}Q(""),b(""),_e(!1)}catch(xe){console.error("Feedback error:",xe),b("Erro ao enviar feedback. Tente novamente.")}finally{ue(!1)}};return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h1",{className:"text-3xl font-bold",children:"Comentrios"}),p.jsxs("div",{className:"flex items-center gap-3",children:[A&&p.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Ol, ",p.jsx("strong",{children:A.name})]}),A&&p.jsx("button",{onClick:D,className:"px-3 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700",children:"Sair"})]})]}),p.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300",children:"Compartilhe suas opinies, crticas, dvidas ou sugestes."}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"mb-4 text-gray-600 dark:text-gray-300",children:"Clique aqui para enviar o seu comentrio"}),p.jsx("button",{onClick:()=>_e(!0),className:"mt-2 inline-block px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Enviar Feedback"})]})}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-2xl font-bold",children:"Feedbacks"}),p.jsxs("select",{value:I,onChange:w=>x(w.target.value),className:"px-3 py-1 text-sm border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600",title:"Ordenar feedbacks",children:[p.jsx("option",{value:"recent",children:"Mais recentes"}),p.jsx("option",{value:"oldest",children:"Mais antigos"})]})]}),p.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:W.length>0?[...W].sort((w,re)=>{const xe=new Date(w.date).getTime(),F=new Date(re.date).getTime();return I==="recent"?F-xe:xe-F}).map(w=>p.jsxs("div",{className:"p-4 border rounded-md dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("div",{children:p.jsx("p",{className:"font-semibold text-gray-800 dark:text-white",children:w.name})}),p.jsxs("span",{className:"text-xs bg-blue-200 dark:bg-blue-700 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:[w.type==="sugestao"&&"Sugesto",w.type==="elogio"&&"Elogio",w.type==="critica"&&"Crtica",w.type==="duvida"&&"Dvida"]})]}),p.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-2",children:w.message}),p.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(w.date).toLocaleDateString("pt-BR")," s"," ",new Date(w.date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]},w.id)):p.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum feedback ainda. Seja o primeiro!"})})]})]}),fe&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 w-full max-w-md",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Enviar Feedback"}),p.jsx("button",{onClick:()=>_e(!1),className:"text-gray-600 hover:text-gray-800",children:"Fechar"})]}),A?p.jsx("div",{children:p.jsxs("form",{onSubmit:V,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tipo de Feedback"}),p.jsxs("select",{value:B,onChange:w=>Z(w.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",title:"Tipo de feedback",children:[p.jsx("option",{value:"sugestao",children:"Sugesto"}),p.jsx("option",{value:"elogio",children:"Elogio"}),p.jsx("option",{value:"critica",children:"Crtica"}),p.jsx("option",{value:"duvida",children:"Dvida"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mensagem"}),p.jsx("textarea",{value:ee,onChange:w=>Q(w.target.value),rows:5,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Escreva sua mensagem aqui..."})]}),y&&p.jsx("p",{className:"text-red-500 text-sm",children:y}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{type:"submit",disabled:te,className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-md",children:te?"Enviando...":"Enviar Feedback"}),p.jsx("button",{type:"button",onClick:()=>_e(!1),className:"py-2 px-4 border rounded-md",children:"Fechar"})]})]})}):p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-center mb-4",children:[p.jsx("button",{onClick:()=>n(!0),className:`px-4 py-2 font-semibold ${e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,children:"Login"}),p.jsx("button",{onClick:()=>n(!1),className:`px-4 py-2 font-semibold ${e?"text-gray-500":"text-blue-600 border-b-2 border-blue-600"}`,children:"Cadastro"})]}),p.jsxs("form",{onSubmit:e?C:k,className:"space-y-4",children:[!e&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome"}),p.jsx("input",{type:"text",value:g,onChange:w=>_(w.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Seu nome"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"E-mail"}),p.jsx("input",{type:"email",value:s,onChange:w=>l(w.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"seu@exemplo.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Senha"}),p.jsx("input",{type:"password",value:u,onChange:w=>f(w.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Mnimo 6 caracteres"})]}),y&&p.jsx("p",{className:"text-red-500 text-sm",children:y}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{type:"submit",className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-md",children:e?"Entrar":"Cadastrar"}),p.jsx("button",{type:"button",onClick:()=>_e(!1),className:"py-2 px-4 border rounded-md",children:"Cancelar"})]})]})]})]})})]})},eN=()=>p.jsxs("div",{className:"space-y-12",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Educao"}),p.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Aprimore suas habilidades e prepare-se para o mercado de trabalho"})]}),p.jsxs("section",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Educao Financeira e Econmica"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Gesto de Oramento Pessoal"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Controle seus gastos:"})," Registre todas as despesas mensais (fixas e variveis)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Regra 50-30-20:"})," 50% necessidades, 30% desejos, 20% poupana/investimentos"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Fundo de emergncia:"})," Reserve de 3 a 6 meses de despesas em uma conta de fcil acesso"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Evite dvidas:"})," Priorize pagamentos  vista e evite juros de carto de crdito"]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Planejamento Financeiro"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Defina metas:"})," Curto prazo (frias), mdio prazo (carro), longo prazo (aposentadoria)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Invista em conhecimento:"})," Cursos gratuitos sobre finanas pessoais e investimentos"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Diversifique:"})," No coloque todos os recursos em um nico investimento"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Previdncia privada:"})," Considere opes de aposentadoria complementar"]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Noes de Economia"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Inflao:"})," Perda do poder de compra ao longo do tempo  invista para proteger seu dinheiro"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Taxa Selic:"})," Taxa bsica de juros do Brasil  afeta financiamentos e rendimentos"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Juros compostos:"}),' "Dinheiro gera dinheiro"  quanto antes investir, melhor']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Consumo consciente:"})," Avalie necessidade vs. desejo antes de comprar"]})]})]})]})]}),p.jsxs("section",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Preparo e Melhoria de Currculo"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Estrutura Bsica"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Dados pessoais:"})," Nome completo, telefone, e-mail profissional, cidade/estado, LinkedIn"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Objetivo profissional:"})," 2-3 linhas sobre a vaga desejada (personalize para cada empresa)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Formao acadmica:"})," Do mais recente ao mais antigo (curso, instituio, perodo)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Experincia profissional:"})," Empresa, cargo, perodo, principais atividades e resultados"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Cursos e certificaes:"})," Cursos relevantes para a vaga (idiomas, tcnicos, etc.)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Habilidades:"})," Competncias tcnicas (software, ferramentas) e comportamentais (liderana, comunicao)"]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Dicas de Ouro"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Seja objetivo:"})," Mximo de 2 pginas (profissionais juniores: 1 pgina)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Use verbos de ao:"}),' "Desenvolvi", "Gerenciei", "Implementei", "Analisei"']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Quantifique resultados:"}),' "Aumentei vendas em 30%" em vez de "Melhorei vendas"']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Revise ortografia:"})," Erros podem eliminar sua candidatura  pea para algum revisar"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Design limpo:"})," Fonte legvel (Arial, Calibri), espaamento adequado, evite cores excessivas"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Sem informaes pessoais demais:"})," No inclua RG, CPF, foto (a menos que solicitado)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Atualize sempre:"})," Adicione novos cursos, projetos e experincias regularmente"]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"O Que Evitar"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[p.jsx("li",{children:"Mentir sobre experincias ou habilidades"}),p.jsx("li",{children:"Usar e-mail pouco profissional (ex.: gatinha123@...)"}),p.jsx("li",{children:"Incluir informaes irrelevantes (hobbies que no agregam)"}),p.jsx("li",{children:"Salvar em formato incompatvel (sempre envie PDF)"}),p.jsx("li",{children:"Curriculo genrico  personalize para cada vaga"})]})]})]})]}),p.jsxs("section",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Como se Preparar para Entrevistas"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Antes da Entrevista"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Pesquise a empresa:"})," Misso, valores, produtos/servios, cultura organizacional"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Releia a vaga:"})," Anote os requisitos principais e prepare exemplos de como voc os atende"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Prepare respostas:"}),' "Fale sobre voc", "Pontos fortes/fracos", "Por que quer trabalhar aqui?"']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Tenha perguntas prontas:"}),' "Como  o dia a dia?", "Quais os desafios da funo?"']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Vista-se adequadamente:"})," Traje formal ou business casual (dependendo da empresa)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Chegue com antecedncia:"})," 10-15 minutos antes (online: teste equipamento com 30 min de antecedncia)"]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Durante a Entrevista"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Cumprimente com confiana:"})," Aperto de mo firme, olhar nos olhos, sorria naturalmente"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Linguagem corporal:"})," Postura ereta, evite cruzar braos, demonstre interesse"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Oua atentamente:"})," Espere o recrutador terminar antes de responder"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Seja honesto:"})," No invente experincias  foque no que realmente sabe fazer"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Use mtodo STAR:"})," Situao, Tarefa, Ao, Resultado ao contar experincias"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Mostre entusiasmo:"})," Demonstre interesse genuno pela vaga e pela empresa"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Evite falar mal:"})," Nunca critique ex-empregadores ou colegas"]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Perguntas Comuns e Como Responder"}),p.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-gray-300",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:'"Fale sobre voc"'}),p.jsx("p",{className:"ml-4",children:"Resuma sua trajetria profissional focando no que  relevante para a vaga (2-3 minutos)"})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:'"Qual seu maior defeito?"'}),p.jsx("p",{className:"ml-4",children:"Cite algo real, mas mostre como est trabalhando para melhorar"}),p.jsx("p",{className:"ml-4 text-sm italic",children:'Ex: "s vezes sou perfeccionista demais, mas aprendi a priorizar prazos"'})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:'"Por que devemos contratar voc?"'}),p.jsx("p",{className:"ml-4",children:"Destaque suas habilidades + resultados passados + alinhamento com a vaga"})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:'"Onde voc se v daqui a 5 anos?"'}),p.jsx("p",{className:"ml-4",children:"Mostre ambio alinhada com crescimento na empresa"})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:'"Pretenso salarial?"'}),p.jsx("p",{className:"ml-4",children:'Pesquise o mercado antes. Diga uma faixa ou "Estou aberto a propostas compatveis com o mercado"'})]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Aps a Entrevista"}),p.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Envie um e-mail de agradecimento:"})," Agradea a oportunidade e reforce seu interesse (em at 24h)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Anote pontos de melhoria:"})," O que poderia ter respondido melhor? Use para prximas entrevistas"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Mantenha contato (se apropriado):"})," Conecte-se no LinkedIn com o recrutador"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Continue buscando:"})," No espere apenas uma resposta  continue se candidatando"]})]})]}),p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900 p-4 rounded-lg",children:[p.jsx("h3",{className:"text-lg font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Dica Extra: Entrevistas Online"}),p.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-blue-700 dark:text-blue-300",children:[p.jsx("li",{children:"Teste cmera, microfone e conexo antes"}),p.jsx("li",{children:"Escolha um local iluminado e sem rudos"}),p.jsx("li",{children:"Fundo limpo e profissional (ou use fundo virtual neutro)"}),p.jsx("li",{children:"Olhe para a cmera (no para sua imagem na tela)"}),p.jsx("li",{children:"Tenha um copo d'gua por perto"})]})]})]})]}),p.jsxs("section",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-gray-800 dark:to-gray-700 shadow-lg rounded-lg p-8",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Recursos Gratuitos Recomendados"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-700 dark:text-gray-300",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold mb-2",children:"Educao Financeira:"}),p.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1",children:[p.jsx("li",{children:"CVM - Investidor"}),p.jsx("li",{children:"Tesouro Direto (cursos online)"}),p.jsx("li",{children:"B3 Educao"})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold mb-2",children:"Currculo e Entrevistas:"}),p.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1",children:[p.jsx("li",{children:"Canva (templates de currculo)"}),p.jsx("li",{children:"LinkedIn Learning"}),p.jsx("li",{children:"Vagas.com - Blog"})]})]})]})]})]}),hr=Fv.createContext(null),tN=()=>{const[r,e]=se.useState("home"),[n,s]=se.useState(()=>{try{const W=localStorage.getItem("jobs");return W?JSON.parse(W):l_}catch{return l_}}),[l,u]=se.useState(()=>{try{const W=localStorage.getItem("employers");return W?JSON.parse(W):u_}catch{return u_}}),[f,g]=se.useState(()=>{try{const W=localStorage.getItem("loggedInEmployer");return W?JSON.parse(W):null}catch{return null}}),_=se.useCallback(async(W,ne)=>{if(rn())try{return await UI(W,ne),e("employer"),!0}catch{return!1}const te=l.find(ue=>ue.email===W&&ue.password===ne);return te?(g(te),e("employer"),!0):!1},[l]),y=se.useCallback(()=>{rn()&&zI().catch(()=>{}),g(null)},[]);se.useEffect(()=>{if(!rn())return;const W=KI(te=>{const ue=te.map(fe=>{let _e=new Date().toISOString();return fe.createdAt&&(typeof fe.createdAt=="string"?_e=fe.createdAt:typeof fe.createdAt=="object"&&fe.createdAt.toDate?_e=fe.createdAt.toDate().toISOString():fe.createdAt instanceof Date&&(_e=fe.createdAt.toISOString())),{id:fe.id,employerId:fe.employerId,title:fe.title,companyName:fe.companyName,location:fe.location,salary:fe.salary,benefits:fe.benefits,workHours:fe.workHours,workSchedule:fe.workSchedule,workScale:fe.workScale,requirements:fe.requirements||{},postedDate:_e,applications:fe.applications||[],resumePreference:fe.resumePreference||"file"}});s(ue);try{localStorage.setItem("jobs",JSON.stringify(ue))}catch{}}),ne=BI(async te=>{if(!te){g(null);return}try{const ue=await qI(te.uid);ue&&g(ue)}catch{}});return()=>{try{W()}catch{}try{ne()}catch{}}},[]);const b=se.useCallback(async(W,ne,te)=>{if(rn())try{const fe=await LI(W,ne,te);return g(fe),e("employer"),!0}catch{return!1}if(l.some(fe=>fe.email===ne))return!1;const ue={id:`emp-${Date.now()}`,companyName:W,email:ne,password:te};return u(fe=>[...fe,ue]),g(ue),e("employer"),!0},[l]),A=se.useCallback(W=>{if(rn()){if(!f){try{window.alert("Voc precisa estar logado como empregador para publicar vagas.")}catch{}return}HI(W,f.id).catch(te=>{try{window.alert("Falha ao publicar a vaga: "+((te==null?void 0:te.message)||String(te)))}catch{}});return}if(!f){try{window.alert("Voc precisa estar logado como empregador para publicar vagas.")}catch{}return}const ne={...W,id:`job-${Date.now()}`,postedDate:new Date().toISOString(),employerId:f.id,applications:[]};s(te=>[ne,...te])},[f]),R=se.useCallback((W,ne)=>{if(rn()){FI(W,ne).catch(()=>{});return}s(te=>te.map(ue=>ue.id===W?{...ue,...ne}:ue))},[]),B=se.useCallback(W=>{if(rn()){GI(W).catch(()=>{});return}s(ne=>ne.filter(te=>te.id!==W))},[]),Z=se.useCallback((W,ne)=>{if(rn()){QI(W,ne).catch(()=>{});return}const te={...ne,id:`app-${Date.now()}`,date:new Date().toISOString()};s(ue=>ue.map(fe=>fe.id===W?{...fe,applications:[...fe.applications,te]}:fe))},[]);se.useEffect(()=>{if(!rn())try{localStorage.setItem("jobs",JSON.stringify(n))}catch{}},[n]),se.useEffect(()=>{if(!rn())try{localStorage.setItem("employers",JSON.stringify(l))}catch{}},[l]),se.useEffect(()=>{if(!rn())try{f?localStorage.setItem("loggedInEmployer",JSON.stringify(f)):localStorage.removeItem("loggedInEmployer")}catch{}},[f]);const ee=()=>{switch(r){case"home":return p.jsx(h_,{});case"employer":return p.jsx(JI,{});case"news":return p.jsx($I,{});case"about":return p.jsx(ZI,{});case"feedback":return p.jsx(WI,{});case"education":return p.jsx(eN,{});default:return p.jsx(h_,{})}},Q=se.useMemo(()=>({jobs:n,employers:l,loggedInEmployer:f,newsContent:lS,aboutContent:uS,setPage:e,login:_,logout:y,register:b,addJob:A,updateJob:R,deleteJob:B,addApplication:Z}),[n,l,f,_,y,b,A,R,Z]);return p.jsx(hr.Provider,{value:Q,children:p.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 font-sans",children:[p.jsx(hS,{}),p.jsx("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ee()}),p.jsx(fS,{})]})})},Eb=document.getElementById("root");if(!Eb)throw new Error("Could not find root element to mount to");const nN=oS.createRoot(Eb);nN.render(p.jsx(Fv.StrictMode,{children:p.jsx(tN,{})}));
